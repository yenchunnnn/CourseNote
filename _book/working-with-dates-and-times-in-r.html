<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Working with Dates and Times in R | Data Scientist with R</title>
  <meta name="description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Working with Dates and Times in R | Data Scientist with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Working with Dates and Times in R | Data Scientist with R" />
  
  <meta name="twitter:description" content="This is a notebook about the data science courses took from the datacamp." />
  

<meta name="author" content="Yen Chun Chen" />


<meta name="date" content="2024-01-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning-data-in-r.html"/>
<link rel="next" href="introduction-to-writing-functions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Scientist with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic data types</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vector"><i class="fa fa-check"></i><b>1.3</b> Vector</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function"><i class="fa fa-check"></i><b>1.3.1</b> Useful function</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-brackets-or-names"><i class="fa fa-check"></i><b>1.3.2</b> Selection - by brackets or names</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---operators"><i class="fa fa-check"></i><b>1.3.3</b> Selection - by comparison - operators</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---values"><i class="fa fa-check"></i><b>1.3.4</b> Selection - by comparison - values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrix"><i class="fa fa-check"></i><b>1.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-function"><i class="fa fa-check"></i><b>1.4.1</b> Construct function</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-by-vector"><i class="fa fa-check"></i><b>1.4.2</b> Construct by vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.4.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---sum-of-each-row-column"><i class="fa fa-check"></i><b>1.4.4</b> Manipulating - sum of each row &amp; column</a></li>
<li class="chapter" data-level="1.4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-columns"><i class="fa fa-check"></i><b>1.4.5</b> Manipulating - add columns</a></li>
<li class="chapter" data-level="1.4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-rows"><i class="fa fa-check"></i><b>1.4.6</b> Manipulating - add rows</a></li>
<li class="chapter" data-level="1.4.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.4.7</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.4.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---1"><i class="fa fa-check"></i><b>1.4.8</b> Arithmetic - 1</a></li>
<li class="chapter" data-level="1.4.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---2"><i class="fa fa-check"></i><b>1.4.9</b> Arithmetic - 2</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor"><i class="fa fa-check"></i><b>1.5</b> Factor</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function-1"><i class="fa fa-check"></i><b>1.5.1</b> Useful function</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-ordinal-categorical-variable"><i class="fa fa-check"></i><b>1.5.2</b> Nominal &amp; Ordinal categorical variable</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor-levels"><i class="fa fa-check"></i><b>1.5.3</b> Factor levels</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.5.4</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordered-factors"><i class="fa fa-check"></i><b>1.5.5</b> Ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frame"><i class="fa fa-check"></i><b>1.6</b> Data Frame</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#quick-look-at-dataset"><i class="fa fa-check"></i><b>1.6.1</b> Quick look at dataset</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---brackets"><i class="fa fa-check"></i><b>1.6.3</b> Selection - brackets</a></li>
<li class="chapter" data-level="1.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---names"><i class="fa fa-check"></i><b>1.6.4</b> Selection - names</a></li>
<li class="chapter" data-level="1.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection--"><i class="fa fa-check"></i><b>1.6.5</b> Selection - $</a></li>
<li class="chapter" data-level="1.6.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---subset"><i class="fa fa-check"></i><b>1.6.6</b> Selection - subset</a></li>
<li class="chapter" data-level="1.6.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sorting"><i class="fa fa-check"></i><b>1.6.7</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#list"><i class="fa fa-check"></i><b>1.7</b> List</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-list"><i class="fa fa-check"></i><b>1.7.1</b> Creating a list</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.7.2</b> Creating a named list</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection"><i class="fa fa-check"></i><b>1.7.3</b> Selection</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bring-it-all-together"><i class="fa fa-check"></i><b>1.8</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Relational operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#conditional-statements"><i class="fa fa-check"></i><b>2.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#while-loop"><i class="fa fa-check"></i><b>2.2.1</b> While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loop"><i class="fa fa-check"></i><b>2.2.2</b> For loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#bring-it-all-together-1"><i class="fa fa-check"></i><b>2.2.3</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#function"><i class="fa fa-check"></i><b>2.3</b> Function</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#introduction-to-function"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to function</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#writing-functions"><i class="fa fa-check"></i><b>2.3.2</b> Writing functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#packages"><i class="fa fa-check"></i><b>2.3.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply"><i class="fa fa-check"></i><b>2.4.1</b> lapply</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply"><i class="fa fa-check"></i><b>2.4.2</b> sapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#vapply"><i class="fa fa-check"></i><b>2.4.3</b> vapply</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-vs-sapply-vs-vapply"><i class="fa fa-check"></i><b>2.4.4</b> lapply vs sapply vs vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#data-structures-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Data structures utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#regular-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Regular Expressions</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#dates-times"><i class="fa fa-check"></i><b>2.5.4</b> Dates &amp; Times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#load-dataset"><i class="fa fa-check"></i><b>3.1.1</b> Load dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filtering"><i class="fa fa-check"></i><b>3.1.2</b> Filtering</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange"><i class="fa fa-check"></i><b>3.1.3</b> Arrange</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.4</b> Mutate</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#subset-df-variable"><i class="fa fa-check"></i><b>3.2.1</b> Subset df variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> ggplot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#faceting"><i class="fa fa-check"></i><b>3.2.3</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#grouping-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping &amp; summarizing</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize"><i class="fa fa-check"></i><b>3.3.1</b> Summarize</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group-by"><i class="fa fa-check"></i><b>3.3.2</b> Group by</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-summarized-data"><i class="fa fa-check"></i><b>3.3.3</b> Visualizing summarized data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#line-plots"><i class="fa fa-check"></i><b>3.4.1</b> Line plots</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#bar-plots"><i class="fa fa-check"></i><b>3.4.2</b> Bar plots</a></li>
<li class="chapter" data-level="3.4.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#histograms"><i class="fa fa-check"></i><b>3.4.3</b> Histograms</a></li>
<li class="chapter" data-level="3.4.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#box-plots"><i class="fa fa-check"></i><b>3.4.4</b> Box plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-data"><i class="fa fa-check"></i><b>4.1</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data"><i class="fa fa-check"></i><b>4.1.1</b> Exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>4.2.1</b> Count</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-summarize-ungroup"><i class="fa fa-check"></i><b>4.2.2</b> group_by, summarize, ungroup</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#slice_min-slice_max"><i class="fa fa-check"></i><b>4.2.3</b> slice_min, slice_max</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.3.1</b> Select</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>4.3.2</b> Rename</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#transmute"><i class="fa fa-check"></i><b>4.3.3</b> Transmute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#load-dataset-1"><i class="fa fa-check"></i><b>4.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data-1"><i class="fa fa-check"></i><b>4.4.2</b> Exploring data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>5</b> Joining Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joining-data.html"><a href="joining-data.html#inner-join"><i class="fa fa-check"></i><b>5.1</b> Inner join</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joining-data.html"><a href="joining-data.html#join-by-keys"><i class="fa fa-check"></i><b>5.1.1</b> Join by keys</a></li>
<li class="chapter" data-level="5.1.2" data-path="joining-data.html"><a href="joining-data.html#join-with-a-one-to-many-relationship"><i class="fa fa-check"></i><b>5.1.2</b> Join with a one-to-many relationship</a></li>
<li class="chapter" data-level="5.1.3" data-path="joining-data.html"><a href="joining-data.html#join-in-either-direction"><i class="fa fa-check"></i><b>5.1.3</b> Join in either direction</a></li>
<li class="chapter" data-level="5.1.4" data-path="joining-data.html"><a href="joining-data.html#join-three-or-more-tables"><i class="fa fa-check"></i><b>5.1.4</b> Join three or more tables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="joining-data.html"><a href="joining-data.html#left-right-joins"><i class="fa fa-check"></i><b>5.2</b> Left &amp; Right Joins</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i><b>5.2.1</b> Left join</a></li>
<li class="chapter" data-level="5.2.2" data-path="joining-data.html"><a href="joining-data.html#right-join"><i class="fa fa-check"></i><b>5.2.2</b> Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="joining-data.html"><a href="joining-data.html#full-semi-anti-joins"><i class="fa fa-check"></i><b>5.3</b> Full, Semi &amp; Anti Joins</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="joining-data.html"><a href="joining-data.html#full-join"><i class="fa fa-check"></i><b>5.3.1</b> Full join</a></li>
<li class="chapter" data-level="5.3.2" data-path="joining-data.html"><a href="joining-data.html#semi-anti-joins"><i class="fa fa-check"></i><b>5.3.2</b> Semi &amp; Anti joins</a></li>
<li class="chapter" data-level="5.3.3" data-path="joining-data.html"><a href="joining-data.html#visualizing-set-differences"><i class="fa fa-check"></i><b>5.3.3</b> Visualizing set differences</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="joining-data.html"><a href="joining-data.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>5.4</b> Case study: Joins on Stack Overflow Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="joining-data.html"><a href="joining-data.html#load-dataset-2"><i class="fa fa-check"></i><b>5.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="5.4.2" data-path="joining-data.html"><a href="joining-data.html#stack-overflow-questions"><i class="fa fa-check"></i><b>5.4.2</b> Stack Overflow questions</a></li>
<li class="chapter" data-level="5.4.3" data-path="joining-data.html"><a href="joining-data.html#joining-questions-and-answers"><i class="fa fa-check"></i><b>5.4.3</b> Joining questions and answers</a></li>
<li class="chapter" data-level="5.4.4" data-path="joining-data.html"><a href="joining-data.html#the-bind_rows-verb"><i class="fa fa-check"></i><b>5.4.4</b> The bind_rows verb</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>6</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#summary-statistics"><i class="fa fa-check"></i><b>6.1</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-center"><i class="fa fa-check"></i><b>6.1.1</b> Measures of center</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-spread"><i class="fa fa-check"></i><b>6.1.2</b> Measures of spread</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#random-numbers-and-probability"><i class="fa fa-check"></i><b>6.2</b> Random Numbers and Probability</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chances"><i class="fa fa-check"></i><b>6.2.1</b> Chances</a></li>
<li class="chapter" data-level="6.2.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2.2</b> Discrete distributions</a></li>
<li class="chapter" data-level="6.2.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#continuous-distributions"><i class="fa fa-check"></i><b>6.2.3</b> Continuous distributions</a></li>
<li class="chapter" data-level="6.2.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#binomial-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#more-distributions-central-limit-theorem"><i class="fa fa-check"></i><b>6.3</b> More Distributions &amp; Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.3.2</b> Central limit theorem</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#poisson-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Poisson distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exponential-distribution"><i class="fa fa-check"></i><b>6.3.4</b> Exponential distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#students-t-distribution"><i class="fa fa-check"></i><b>6.3.5</b> (Student’s) t-distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#log-normal-distribution"><i class="fa fa-check"></i><b>6.3.6</b> Log-normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-and-experimental-design"><i class="fa fa-check"></i><b>6.4</b> Correlation and Experimental Design</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation"><i class="fa fa-check"></i><b>6.4.1</b> Correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-caveats"><i class="fa fa-check"></i><b>6.4.2</b> Correlation caveats</a></li>
<li class="chapter" data-level="6.4.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#design-of-experiments"><i class="fa fa-check"></i><b>6.4.3</b> Design of experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Introduction to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#data-columns-types-affect-plot-types"><i class="fa fa-check"></i><b>7.1.1</b> Data columns types affect plot types</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#ggplot2-layers"><i class="fa fa-check"></i><b>7.1.3</b> ggplot2 layers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>7.2</b> Aesthetics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#visible-aesthetics"><i class="fa fa-check"></i><b>7.2.1</b> Visible aesthetics</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#using-attributes"><i class="fa fa-check"></i><b>7.2.2</b> Using attributes</a></li>
<li class="chapter" data-level="7.2.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#modifying-aesthetics"><i class="fa fa-check"></i><b>7.2.3</b> Modifying aesthetics</a></li>
<li class="chapter" data-level="7.2.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics-best-practices"><i class="fa fa-check"></i><b>7.2.4</b> Aesthetics best practices</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>7.3</b> Geometries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>7.3.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#bar-plots-1"><i class="fa fa-check"></i><b>7.3.3</b> Bar plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#line-plots-1"><i class="fa fa-check"></i><b>7.3.4</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.4</b> Themes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes-from-scratch"><i class="fa fa-check"></i><b>7.4.1</b> Themes from scratch</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#theme-flexibility"><i class="fa fa-check"></i><b>7.4.2</b> Theme flexibility</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#effective-explanatory-plots"><i class="fa fa-check"></i><b>7.4.3</b> Effective explanatory plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>8.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-with-geoms"><i class="fa fa-check"></i><b>8.1.1</b> Stats with geoms</a></li>
<li class="chapter" data-level="8.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-sum-quantile"><i class="fa fa-check"></i><b>8.1.2</b> Stats: sum &amp; quantile</a></li>
<li class="chapter" data-level="8.1.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-outside-geoms"><i class="fa fa-check"></i><b>8.1.3</b> Stats outside geoms</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates"><i class="fa fa-check"></i><b>8.2</b> Coordinates</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>8.2.1</b> Coordinates layer</a></li>
<li class="chapter" data-level="8.2.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-vs.-scales"><i class="fa fa-check"></i><b>8.2.2</b> Coordinates vs. scales</a></li>
<li class="chapter" data-level="8.2.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#double-flipped-axes"><i class="fa fa-check"></i><b>8.2.3</b> Double &amp; flipped axes</a></li>
<li class="chapter" data-level="8.2.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#polar-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Polar coordinates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.3</b> Facets</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#the-facets-layer"><i class="fa fa-check"></i><b>8.3.1</b> The facets layer</a></li>
<li class="chapter" data-level="8.3.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-labels-order"><i class="fa fa-check"></i><b>8.3.2</b> Facet labels &amp; order</a></li>
<li class="chapter" data-level="8.3.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-plotting-spaces"><i class="fa fa-check"></i><b>8.3.3</b> Facet plotting spaces</a></li>
<li class="chapter" data-level="8.3.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-wrap-margins"><i class="fa fa-check"></i><b>8.3.4</b> Facet wrap &amp; margins</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#best-practices"><i class="fa fa-check"></i><b>8.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#bar-plots-2"><i class="fa fa-check"></i><b>8.4.1</b> Bar plots</a></li>
<li class="chapter" data-level="8.4.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#heatmaps-use-case-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Heatmaps use case scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#when-good-data-makes-bad-plots"><i class="fa fa-check"></i><b>8.4.3</b> When good data makes bad plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Introduction to Importing Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#flat-files-with-utils"><i class="fa fa-check"></i><b>9.1</b> Flat files with utils</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.csv"><i class="fa fa-check"></i><b>9.1.1</b> read.csv</a></li>
<li class="chapter" data-level="9.1.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.delim"><i class="fa fa-check"></i><b>9.1.2</b> read.delim</a></li>
<li class="chapter" data-level="9.1.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.table"><i class="fa fa-check"></i><b>9.1.3</b> read.table</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr-data.table"><i class="fa fa-check"></i><b>9.2</b> readr &amp; data.table</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr"><i class="fa fa-check"></i><b>9.2.1</b> readr</a></li>
<li class="chapter" data-level="9.2.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#data.table"><i class="fa fa-check"></i><b>9.2.2</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#excel-data"><i class="fa fa-check"></i><b>9.3</b> Excel data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#list-the-sheets-of-xls-file"><i class="fa fa-check"></i><b>9.3.1</b> List the sheets of xls file</a></li>
<li class="chapter" data-level="9.3.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#import-an-excel-sheet"><i class="fa fa-check"></i><b>9.3.2</b> Import an Excel sheet</a></li>
<li class="chapter" data-level="9.3.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#col_names-skip-argument"><i class="fa fa-check"></i><b>9.3.3</b> col_names &amp; skip argument</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#reproducible-excel-work---xlconnect"><i class="fa fa-check"></i><b>9.4</b> Reproducible Excel work - XLConnect</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets"><i class="fa fa-check"></i><b>9.4.1</b> Adapting sheets</a></li>
<li class="chapter" data-level="9.4.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets-1"><i class="fa fa-check"></i><b>9.4.2</b> Adapting sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>10.1</b> Common Data Problems</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#data-type-constraints"><i class="fa fa-check"></i><b>10.1.1</b> Data type constraints</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#range-constraints"><i class="fa fa-check"></i><b>10.1.2</b> Range constraints</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniqueness-constraints"><i class="fa fa-check"></i><b>10.1.3</b> Uniqueness constraints</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>10.2</b> Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#checking-membership"><i class="fa fa-check"></i><b>10.2.1</b> Checking membership</a></li>
<li class="chapter" data-level="10.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-data-problems"><i class="fa fa-check"></i><b>10.2.2</b> Categorical data problems</a></li>
<li class="chapter" data-level="10.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cleaning-text-data"><i class="fa fa-check"></i><b>10.2.3</b> Cleaning text data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>10.3</b> Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniformity"><i class="fa fa-check"></i><b>10.3.1</b> Uniformity</a></li>
<li class="chapter" data-level="10.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cross-field-validation"><i class="fa fa-check"></i><b>10.3.2</b> Cross field validation</a></li>
<li class="chapter" data-level="10.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#completeness"><i class="fa fa-check"></i><b>10.3.3</b> Completeness</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>10.4</b> Record Linkage</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-strings"><i class="fa fa-check"></i><b>10.4.1</b> Comparing strings</a></li>
<li class="chapter" data-level="10.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#generating-and-comparing-pairs"><i class="fa fa-check"></i><b>10.4.2</b> Generating and comparing pairs</a></li>
<li class="chapter" data-level="10.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#scoring-and-linking"><i class="fa fa-check"></i><b>10.4.3</b> Scoring and linking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r"><i class="fa fa-check"></i><b>11.1</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#introduction-to-dates"><i class="fa fa-check"></i><b>11.1.1</b> Introduction to dates</a></li>
<li class="chapter" data-level="11.1.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#why-use-dates"><i class="fa fa-check"></i><b>11.1.2</b> Why use dates?</a></li>
<li class="chapter" data-level="11.1.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#what-about-times"><i class="fa fa-check"></i><b>11.1.3</b> What about times?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate"><i class="fa fa-check"></i><b>11.2</b> Parsing &amp; Manipulating with lubridate</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-dates"><i class="fa fa-check"></i><b>11.2.1</b> Parsing dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#manipulating-dates"><i class="fa fa-check"></i><b>11.2.2</b> Manipulating dates</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime"><i class="fa fa-check"></i><b>11.2.3</b> Extracting parts of a datetime</a></li>
<li class="chapter" data-level="11.2.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#rounding-datetimes"><i class="fa fa-check"></i><b>11.2.4</b> Rounding datetimes</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times"><i class="fa fa-check"></i><b>11.3</b> Arithmetic with Dates and Times</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes"><i class="fa fa-check"></i><b>11.3.1</b> Taking differences of datetimes</a></li>
<li class="chapter" data-level="11.3.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-spans"><i class="fa fa-check"></i><b>11.3.2</b> Time spans</a></li>
<li class="chapter" data-level="11.3.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#intervals"><i class="fa fa-check"></i><b>11.3.3</b> Intervals</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#problems-in-practice"><i class="fa fa-check"></i><b>11.4</b> Problems in practice</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-zones"><i class="fa fa-check"></i><b>11.4.1</b> Time zones</a></li>
<li class="chapter" data-level="11.4.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes"><i class="fa fa-check"></i><b>11.4.2</b> More on import and export datetimes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html"><i class="fa fa-check"></i><b>12</b> Introduction to Writing Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#write-a-function"><i class="fa fa-check"></i><b>12.1</b> Write a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#why-write-function"><i class="fa fa-check"></i><b>12.1.1</b> Why write function?</a></li>
<li class="chapter" data-level="12.1.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#convert-scripts-into-functions"><i class="fa fa-check"></i><b>12.1.2</b> Convert scripts into functions</a></li>
<li class="chapter" data-level="12.1.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#readable-code"><i class="fa fa-check"></i><b>12.1.3</b> Readable code</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#all-about-arguments"><i class="fa fa-check"></i><b>12.2</b> All About Arguments</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#default-arguments"><i class="fa fa-check"></i><b>12.2.1</b> Default arguments</a></li>
<li class="chapter" data-level="12.2.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#pass-arguments-between-functions"><i class="fa fa-check"></i><b>12.2.2</b> Pass arguments between functions</a></li>
<li class="chapter" data-level="12.2.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#checking-arguments"><i class="fa fa-check"></i><b>12.2.3</b> Checking arguments</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-values-and-scope"><i class="fa fa-check"></i><b>12.3</b> Return Values and Scope</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#returning-values"><i class="fa fa-check"></i><b>12.3.1</b> Returning values</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-multiple-values"><i class="fa fa-check"></i><b>12.3.2</b> Return multiple values</a></li>
<li class="chapter" data-level="12.3.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#environments"><i class="fa fa-check"></i><b>12.3.3</b> Environments</a></li>
<li class="chapter" data-level="12.3.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#scope-and-precedence"><i class="fa fa-check"></i><b>12.3.4</b> Scope and precedence</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#case-study-on-grain-yields"><i class="fa fa-check"></i><b>12.4</b> Case Study on Grain Yields</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#grain-yields-unit-conversion"><i class="fa fa-check"></i><b>12.4.1</b> Grain yields &amp; unit conversion</a></li>
<li class="chapter" data-level="12.4.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#visualizing-grain-yields"><i class="fa fa-check"></i><b>12.4.2</b> Visualizing grain yields</a></li>
<li class="chapter" data-level="12.4.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#modeling-grain-yields"><i class="fa fa-check"></i><b>12.4.3</b> Modeling grain yields</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-categorical-data"><i class="fa fa-check"></i><b>13.1</b> Exploring Categorical Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#categorical-data"><i class="fa fa-check"></i><b>13.1.1</b> Categorical data</a></li>
<li class="chapter" data-level="13.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions"><i class="fa fa-check"></i><b>13.1.2</b> Counts vs. proportions</a></li>
<li class="chapter" data-level="13.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable"><i class="fa fa-check"></i><b>13.1.3</b> Distribution of one variable</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-numerical-data"><i class="fa fa-check"></i><b>13.2</b> Exploring numerical data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-data"><i class="fa fa-check"></i><b>13.2.1</b> Numerical Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable-1"><i class="fa fa-check"></i><b>13.2.2</b> Distribution of one variable</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-1"><i class="fa fa-check"></i><b>13.2.3</b> Box plots</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#visual-in-higher-dimensions"><i class="fa fa-check"></i><b>13.2.4</b> Visual in higher dimensions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>13.3</b> Numerical Summaries</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-center-1"><i class="fa fa-check"></i><b>13.3.1</b> Measures of center</a></li>
<li class="chapter" data-level="13.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-variability"><i class="fa fa-check"></i><b>13.3.2</b> Measures of variability</a></li>
<li class="chapter" data-level="13.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#shape-transformations"><i class="fa fa-check"></i><b>13.3.3</b> Shape &amp; transformations</a></li>
<li class="chapter" data-level="13.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#outliers"><i class="fa fa-check"></i><b>13.3.4</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#case-study"><i class="fa fa-check"></i><b>13.4</b> Case Study</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#new-data"><i class="fa fa-check"></i><b>13.4.1</b> New data</a></li>
<li class="chapter" data-level="13.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-1"><i class="fa fa-check"></i><b>13.4.2</b> Check-in 1</a></li>
<li class="chapter" data-level="13.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-2"><i class="fa fa-check"></i><b>13.4.3</b> Check-in 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html"><i class="fa fa-check"></i><b>14</b> Introduction to Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>14.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#tale-of-two-variables"><i class="fa fa-check"></i><b>14.1.1</b> Tale of two variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#fitting-a-linear-regression"><i class="fa fa-check"></i><b>14.1.2</b> Fitting a linear regression</a></li>
<li class="chapter" data-level="14.1.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#categorical-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Categorical explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-model-objects"><i class="fa fa-check"></i><b>14.2</b> Predictions &amp; model objects</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#making-predictions"><i class="fa fa-check"></i><b>14.2.1</b> Making predictions</a></li>
<li class="chapter" data-level="14.2.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#working-with-model-objects"><i class="fa fa-check"></i><b>14.2.2</b> Working with model objects</a></li>
<li class="chapter" data-level="14.2.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>14.2.3</b> Regression to the mean</a></li>
<li class="chapter" data-level="14.2.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#transforming-variables"><i class="fa fa-check"></i><b>14.2.4</b> Transforming variables</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#assessing-model-fit"><i class="fa fa-check"></i><b>14.3</b> Assessing model fit</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantifying-model-fit"><i class="fa fa-check"></i><b>14.3.1</b> Quantifying model fit</a></li>
<li class="chapter" data-level="14.3.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#visualizing-model-fit"><i class="fa fa-check"></i><b>14.3.2</b> Visualizing model fit</a></li>
<li class="chapter" data-level="14.3.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#outliers-leverage-influence"><i class="fa fa-check"></i><b>14.3.3</b> Outliers, leverage, influence</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-logistic-regression"><i class="fa fa-check"></i><b>14.4</b> Simple logistic regression</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#why-need-logistic-regression"><i class="fa fa-check"></i><b>14.4.1</b> Why need logistic regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-odds-ratios"><i class="fa fa-check"></i><b>14.4.2</b> Predictions &amp; odds ratios</a></li>
<li class="chapter" data-level="14.4.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantify-logistic-regression-fit"><i class="fa fa-check"></i><b>14.4.3</b> Quantify logistic regression fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>15</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>15.1</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes-linear-regression"><i class="fa fa-check"></i><b>15.1.1</b> Parallel slopes linear regression</a></li>
<li class="chapter" data-level="15.1.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predicting-parallel-slopes"><i class="fa fa-check"></i><b>15.1.2</b> Predicting parallel slopes</a></li>
<li class="chapter" data-level="15.1.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#assessing-model-performance"><i class="fa fa-check"></i><b>15.1.3</b> Assessing model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#interactions"><i class="fa fa-check"></i><b>15.2</b> Interactions</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#models-for-each-category"><i class="fa fa-check"></i><b>15.2.1</b> Models for each category</a></li>
<li class="chapter" data-level="15.2.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#one-model-with-an-interaction"><i class="fa fa-check"></i><b>15.2.2</b> One model with an interaction</a></li>
<li class="chapter" data-level="15.2.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predict-with-interactions"><i class="fa fa-check"></i><b>15.2.3</b> Predict with interactions</a></li>
<li class="chapter" data-level="15.2.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>15.2.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>15.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#two-numeric-ivs"><i class="fa fa-check"></i><b>15.3.1</b> Two numeric IVs</a></li>
<li class="chapter" data-level="15.3.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#more-than-2-ivs"><i class="fa fa-check"></i><b>15.3.2</b> More than 2 IVs</a></li>
<li class="chapter" data-level="15.3.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance"><i class="fa fa-check"></i><b>15.3.3</b> Model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>15.4</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression-1"><i class="fa fa-check"></i><b>15.4.1</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#logistic-distribution"><i class="fa fa-check"></i><b>15.4.2</b> Logistic distribution</a></li>
<li class="chapter" data-level="15.4.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance-1"><i class="fa fa-check"></i><b>15.4.3</b> Model performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sampling-in-r.html"><a href="sampling-in-r.html"><i class="fa fa-check"></i><b>16</b> Sampling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-sampling"><i class="fa fa-check"></i><b>16.1</b> Introduction to Sampling</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-point-estimates"><i class="fa fa-check"></i><b>16.1.1</b> Sampling &amp; point estimates</a></li>
<li class="chapter" data-level="16.1.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#convenience-sampling"><i class="fa fa-check"></i><b>16.1.2</b> Convenience sampling</a></li>
<li class="chapter" data-level="16.1.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#pseudo-random-number-generation"><i class="fa fa-check"></i><b>16.1.3</b> Pseudo-random number generation</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-methods"><i class="fa fa-check"></i><b>16.2</b> Sampling Methods</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#simple-random-systematic-sampling"><i class="fa fa-check"></i><b>16.2.1</b> Simple random &amp; systematic sampling</a></li>
<li class="chapter" data-level="16.2.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#stratified-weighted-random-sampling"><i class="fa fa-check"></i><b>16.2.2</b> Stratified &amp; weighted random sampling</a></li>
<li class="chapter" data-level="16.2.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>16.2.3</b> Cluster sampling</a></li>
<li class="chapter" data-level="16.2.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-methods"><i class="fa fa-check"></i><b>16.2.4</b> Comparing sampling methods</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-distributions"><i class="fa fa-check"></i><b>16.3</b> Sampling Distributions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#relative-error-of-point-estimates"><i class="fa fa-check"></i><b>16.3.1</b> Relative error of point estimates</a></li>
<li class="chapter" data-level="16.3.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#creating-a-sampling-distribution"><i class="fa fa-check"></i><b>16.3.2</b> Creating a sampling distribution</a></li>
<li class="chapter" data-level="16.3.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#approximate-sampling-distributions"><i class="fa fa-check"></i><b>16.3.3</b> Approximate sampling distributions</a></li>
<li class="chapter" data-level="16.3.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#standard-errors-clt"><i class="fa fa-check"></i><b>16.3.4</b> Standard errors &amp; CLT</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#bootstrap-distributions"><i class="fa fa-check"></i><b>16.4</b> Bootstrap Distributions</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-bootstrapping"><i class="fa fa-check"></i><b>16.4.1</b> Introduction to bootstrapping</a></li>
<li class="chapter" data-level="16.4.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions"><i class="fa fa-check"></i><b>16.4.2</b> Comparing sampling &amp; bootstrap distributions</a></li>
<li class="chapter" data-level="16.4.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#confidence-intervals"><i class="fa fa-check"></i><b>16.4.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>17</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>17.1</b> Introduction to Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-tests-z-scores"><i class="fa fa-check"></i><b>17.1.1</b> Hypothesis tests &amp; z-scores</a></li>
<li class="chapter" data-level="17.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>17.1.2</b> p-values</a></li>
<li class="chapter" data-level="17.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>17.1.3</b> Statistical significance</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-anova-tests"><i class="fa fa-check"></i><b>17.2</b> Two-Sample &amp; ANOVA Tests</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#performing-t-tests"><i class="fa fa-check"></i><b>17.2.1</b> Performing t-tests</a></li>
<li class="chapter" data-level="17.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#calculating-p-values-from-t-statistics"><i class="fa fa-check"></i><b>17.2.2</b> Calculating p-values from t-statistics</a></li>
<li class="chapter" data-level="17.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-t-tests"><i class="fa fa-check"></i><b>17.2.3</b> Paired t-tests</a></li>
<li class="chapter" data-level="17.2.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#anova-tests"><i class="fa fa-check"></i><b>17.2.4</b> ANOVA tests</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#proportion-tests"><i class="fa fa-check"></i><b>17.3</b> Proportion Tests</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.1</b> One-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.2</b> Two-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>17.3.3</b> Chi-square test of independence</a></li>
<li class="chapter" data-level="17.3.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-goodness-of-fit-tests"><i class="fa fa-check"></i><b>17.3.4</b> Chi-square goodness of fit tests</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>17.4</b> Non-Parametric Tests</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#assumptions-in-hypothesis-testing"><i class="fa fa-check"></i><b>17.4.1</b> Assumptions in hypothesis testing</a></li>
<li class="chapter" data-level="17.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#simulation-based-infer-pipeline"><i class="fa fa-check"></i><b>17.4.2</b> Simulation-based infer pipeline</a></li>
<li class="chapter" data-level="17.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-anova-unpaired-t-tests"><i class="fa fa-check"></i><b>17.4.3</b> Non-parametric ANOVA &amp; unpaired t-tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>18</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="18.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-to-experimental-design"><i class="fa fa-check"></i><b>18.1</b> Introduction to experimental design</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-1"><i class="fa fa-check"></i><b>18.1.1</b> Introduction</a></li>
<li class="chapter" data-level="18.1.2" data-path="experimental-design.html"><a href="experimental-design.html#replication-blocking"><i class="fa fa-check"></i><b>18.1.2</b> Replication &amp; blocking</a></li>
<li class="chapter" data-level="18.1.3" data-path="experimental-design.html"><a href="experimental-design.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>18.1.3</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="experimental-design.html"><a href="experimental-design.html#basic-experiments"><i class="fa fa-check"></i><b>18.2</b> Basic Experiments</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="experimental-design.html"><a href="experimental-design.html#anova-factor-experiments"><i class="fa fa-check"></i><b>18.2.1</b> ANOVA &amp; factor experiments</a></li>
<li class="chapter" data-level="18.2.2" data-path="experimental-design.html"><a href="experimental-design.html#model-validation"><i class="fa fa-check"></i><b>18.2.2</b> Model validation</a></li>
<li class="chapter" data-level="18.2.3" data-path="experimental-design.html"><a href="experimental-design.html#ab-testing"><i class="fa fa-check"></i><b>18.2.3</b> A/B testing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="experimental-design.html"><a href="experimental-design.html#block-designs"><i class="fa fa-check"></i><b>18.3</b> Block Designs</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="experimental-design.html"><a href="experimental-design.html#intro-to-sampling"><i class="fa fa-check"></i><b>18.3.1</b> Intro to sampling</a></li>
<li class="chapter" data-level="18.3.2" data-path="experimental-design.html"><a href="experimental-design.html#randomized-complete-block-designs-rcbd"><i class="fa fa-check"></i><b>18.3.2</b> Randomized Complete Block Designs (RCBD)</a></li>
<li class="chapter" data-level="18.3.3" data-path="experimental-design.html"><a href="experimental-design.html#balanced-incomplete-block-designs-bibd"><i class="fa fa-check"></i><b>18.3.3</b> Balanced Incomplete Block Designs (BIBD)</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="experimental-design.html"><a href="experimental-design.html#squares-factorial-experiments"><i class="fa fa-check"></i><b>18.4</b> Squares &amp; Factorial Experiments</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="experimental-design.html"><a href="experimental-design.html#latin-squares"><i class="fa fa-check"></i><b>18.4.1</b> Latin squares</a></li>
<li class="chapter" data-level="18.4.2" data-path="experimental-design.html"><a href="experimental-design.html#graeco-latin-squares"><i class="fa fa-check"></i><b>18.4.2</b> Graeco-Latin squares</a></li>
<li class="chapter" data-level="18.4.3" data-path="experimental-design.html"><a href="experimental-design.html#factorial-experiments"><i class="fa fa-check"></i><b>18.4.3</b> Factorial experiments</a></li>
<li class="chapter" data-level="18.4.4" data-path="experimental-design.html"><a href="experimental-design.html#other-experimental-designs"><i class="fa fa-check"></i><b>18.4.4</b> Other experimental designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html"><i class="fa fa-check"></i><b>19</b> Supervised Learning: Classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-nearest-neighbors-knn"><i class="fa fa-check"></i><b>19.1</b> k-Nearest Neighbors (kNN)</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-with-nearest-neighbors"><i class="fa fa-check"></i><b>19.1.1</b> Classification with Nearest Neighbors</a></li>
<li class="chapter" data-level="19.1.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-in-knn"><i class="fa fa-check"></i><b>19.1.2</b> ‘k’ in kNN</a></li>
<li class="chapter" data-level="19.1.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#data-preparation-for-knn"><i class="fa fa-check"></i><b>19.1.3</b> 1-3.Data preparation for kNN</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#naive-bayes"><i class="fa fa-check"></i><b>19.2</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-bayesian-methods"><i class="fa fa-check"></i><b>19.2.1</b> Understanding Bayesian methods</a></li>
<li class="chapter" data-level="19.2.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-nbs-naivety"><i class="fa fa-check"></i><b>19.2.2</b> Understanding NB’s “naivety”</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#logistic-regression"><i class="fa fa-check"></i><b>19.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-binary-predictions-with-regression"><i class="fa fa-check"></i><b>19.3.1</b> Making binary predictions with regression</a></li>
<li class="chapter" data-level="19.3.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#model-performance-tradeoffs"><i class="fa fa-check"></i><b>19.3.2</b> Model performance tradeoffs</a></li>
<li class="chapter" data-level="19.3.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#dummy-variables-missing-data-and-interactions"><i class="fa fa-check"></i><b>19.3.3</b> Dummy variables, missing data, and interactions</a></li>
<li class="chapter" data-level="19.3.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#automatic-feature-selection"><i class="fa fa-check"></i><b>19.3.4</b> Automatic feature selection</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-trees"><i class="fa fa-check"></i><b>19.4</b> Classification Trees</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-decisions-with-trees"><i class="fa fa-check"></i><b>19.4.1</b> Making decisions with trees</a></li>
<li class="chapter" data-level="19.4.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#growing-larger-classification-trees"><i class="fa fa-check"></i><b>19.4.2</b> Growing larger classification trees</a></li>
<li class="chapter" data-level="19.4.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#tending-to-classification-trees"><i class="fa fa-check"></i><b>19.4.3</b> Tending to classification trees</a></li>
<li class="chapter" data-level="19.4.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#seeing-the-forest-from-the-trees"><i class="fa fa-check"></i><b>19.4.4</b> Seeing the forest from the trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning: Regression</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#what-is-regression"><i class="fa fa-check"></i><b>20.1</b> What is Regression?</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#introduction-2"><i class="fa fa-check"></i><b>20.1.1</b> Introduction</a></li>
<li class="chapter" data-level="20.1.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#linear-regression"><i class="fa fa-check"></i><b>20.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="20.1.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#predicting-model"><i class="fa fa-check"></i><b>20.1.3</b> Predicting model</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-and-evaluating-models"><i class="fa fa-check"></i><b>20.2</b> Training and Evaluating Models</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#graphically"><i class="fa fa-check"></i><b>20.2.1</b> Graphically</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#root-mean-squared-error"><i class="fa fa-check"></i><b>20.2.2</b> Root Mean Squared Error</a></li>
<li class="chapter" data-level="20.2.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#r-squared"><i class="fa fa-check"></i><b>20.2.3</b> R-squared</a></li>
<li class="chapter" data-level="20.2.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-a-model"><i class="fa fa-check"></i><b>20.2.4</b> Training a Model</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#issues-to-consider"><i class="fa fa-check"></i><b>20.3</b> Issues to Consider</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#categorical-iv"><i class="fa fa-check"></i><b>20.3.1</b> Categorical IV</a></li>
<li class="chapter" data-level="20.3.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#interactions-1"><i class="fa fa-check"></i><b>20.3.2</b> Interactions</a></li>
<li class="chapter" data-level="20.3.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-dv-before-modeling"><i class="fa fa-check"></i><b>20.3.3</b> Transforming DV before modeling</a></li>
<li class="chapter" data-level="20.3.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-iv-before-modeling"><i class="fa fa-check"></i><b>20.3.4</b> Transforming IV before modeling</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#dealing-with-non-linear-responses"><i class="fa fa-check"></i><b>20.4</b> Dealing with Non-Linear Responses</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#logistic-regression-to-predict-probabilities"><i class="fa fa-check"></i><b>20.4.1</b> Logistic regression to predict probabilities</a></li>
<li class="chapter" data-level="20.4.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#poisson-and-quasipoisson-regression-to-predict-counts"><i class="fa fa-check"></i><b>20.4.2</b> Poisson and quasipoisson regression to predict counts</a></li>
<li class="chapter" data-level="20.4.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gam-to-learn-non-linear-transforms"><i class="fa fa-check"></i><b>20.4.3</b> GAM to learn non-linear transforms</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#tree-based-methods"><i class="fa fa-check"></i><b>20.5</b> Tree-Based Methods</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#random-forests"><i class="fa fa-check"></i><b>20.5.1</b> Random forests</a></li>
<li class="chapter" data-level="20.5.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#one-hot-encoding"><i class="fa fa-check"></i><b>20.5.2</b> One-Hot-Encoding</a></li>
<li class="chapter" data-level="20.5.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gradient-boosting"><i class="fa fa-check"></i><b>20.5.3</b> Gradient boosting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>21</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="21.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>21.1</b> k-means clustering</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#types-of-machine-learning"><i class="fa fa-check"></i><b>21.1.1</b> Types of machine learning</a></li>
<li class="chapter" data-level="21.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-to-k-means"><i class="fa fa-check"></i><b>21.1.2</b> Introduction to k-means</a></li>
<li class="chapter" data-level="21.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#model-selection"><i class="fa fa-check"></i><b>21.1.3</b> Model selection</a></li>
<li class="chapter" data-level="21.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#pokemon-data"><i class="fa fa-check"></i><b>21.1.4</b> Pokemon data</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>21.2</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>21.2.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#selecting-number-of-clusters-1"><i class="fa fa-check"></i><b>21.2.2</b> Selecting number of clusters</a></li>
<li class="chapter" data-level="21.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-linkage"><i class="fa fa-check"></i><b>21.2.3</b> Clustering linkage</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction---pca"><i class="fa fa-check"></i><b>21.3</b> Dimensionality reduction - PCA</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-4"><i class="fa fa-check"></i><b>21.3.1</b> Introduction</a></li>
<li class="chapter" data-level="21.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#visualizing-and-interpreting-1"><i class="fa fa-check"></i><b>21.3.2</b> Visualizing and interpreting</a></li>
<li class="chapter" data-level="21.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#practical-issues"><i class="fa fa-check"></i><b>21.3.3</b> Practical issues</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#case-study-1"><i class="fa fa-check"></i><b>21.4</b> Case study</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-5"><i class="fa fa-check"></i><b>21.4.1</b> Introduction</a></li>
<li class="chapter" data-level="21.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#next-steps"><i class="fa fa-check"></i><b>21.4.2</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html"><i class="fa fa-check"></i><b>22</b> Intermediate Importing Data in R</a>
<ul>
<li class="chapter" data-level="22.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-1"><i class="fa fa-check"></i><b>22.1</b> Import from databases-1</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#connect-to-a-database"><i class="fa fa-check"></i><b>22.1.1</b> Connect to a database</a></li>
<li class="chapter" data-level="22.1.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-table-data"><i class="fa fa-check"></i><b>22.1.2</b> Import table data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-2"><i class="fa fa-check"></i><b>22.2</b> Import from databases-2</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#sql-queries-from-inside-r"><i class="fa fa-check"></i><b>22.2.1</b> SQL Queries from inside R</a></li>
<li class="chapter" data-level="22.2.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#dbi-internals"><i class="fa fa-check"></i><b>22.2.2</b> DBI internals</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-1"><i class="fa fa-check"></i><b>22.3</b> Import from the web-1</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#http"><i class="fa fa-check"></i><b>22.3.1</b> HTTP</a></li>
<li class="chapter" data-level="22.3.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#downloading-files"><i class="fa fa-check"></i><b>22.3.2</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-2"><i class="fa fa-check"></i><b>22.4</b> Import from the web-2</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#apis-json"><i class="fa fa-check"></i><b>22.4.1</b> APIs &amp; JSON</a></li>
<li class="chapter" data-level="22.4.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#json-jsonlite"><i class="fa fa-check"></i><b>22.4.2</b> JSON &amp; jsonlite</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-statistical-software"><i class="fa fa-check"></i><b>22.5</b> Import from statistical software</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#haven-package"><i class="fa fa-check"></i><b>22.5.1</b> haven package</a></li>
<li class="chapter" data-level="22.5.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#foreign-package"><i class="fa fa-check"></i><b>22.5.2</b> foreign package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>23</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#relational-databases"><i class="fa fa-check"></i><b>23.1</b> Relational Databases</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#databases"><i class="fa fa-check"></i><b>23.1.1</b> Databases</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#tables"><i class="fa fa-check"></i><b>23.1.2</b> Tables</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#data"><i class="fa fa-check"></i><b>23.1.3</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#querying"><i class="fa fa-check"></i><b>23.2</b> Querying</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#introducing"><i class="fa fa-check"></i><b>23.2.1</b> Introducing</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#writing-queries"><i class="fa fa-check"></i><b>23.2.2</b> Writing queries</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sql-flavors"><i class="fa fa-check"></i><b>23.2.3</b> SQL flavors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="intermediate-sql.html"><a href="intermediate-sql.html"><i class="fa fa-check"></i><b>24</b> Intermediate SQL</a>
<ul>
<li class="chapter" data-level="24.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#selecting-data"><i class="fa fa-check"></i><b>24.1</b> Selecting Data</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#querying-a-database"><i class="fa fa-check"></i><b>24.1.1</b> Querying a database</a></li>
<li class="chapter" data-level="24.1.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#query-execution"><i class="fa fa-check"></i><b>24.1.2</b> Query execution</a></li>
<li class="chapter" data-level="24.1.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sql-style"><i class="fa fa-check"></i><b>24.1.3</b> SQL style</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-records"><i class="fa fa-check"></i><b>24.2</b> Filtering Records</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-numbers"><i class="fa fa-check"></i><b>24.2.1</b> Filtering numbers</a></li>
<li class="chapter" data-level="24.2.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#multiple-criteria"><i class="fa fa-check"></i><b>24.2.2</b> Multiple criteria</a></li>
<li class="chapter" data-level="24.2.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-text"><i class="fa fa-check"></i><b>24.2.3</b> Filtering text</a></li>
<li class="chapter" data-level="24.2.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#null-values"><i class="fa fa-check"></i><b>24.2.4</b> NULL values</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>24.3</b> Aggregate Functions</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-data"><i class="fa fa-check"></i><b>24.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="24.3.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-subsets"><i class="fa fa-check"></i><b>24.3.2</b> Summarizing subsets</a></li>
<li class="chapter" data-level="24.3.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aliasing-and-arithmetic"><i class="fa fa-check"></i><b>24.3.3</b> Aliasing and arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>24.4</b> Sorting and Grouping</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-results"><i class="fa fa-check"></i><b>24.4.1</b> Sorting results</a></li>
<li class="chapter" data-level="24.4.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#grouping-data"><i class="fa fa-check"></i><b>24.4.2</b> Grouping data</a></li>
<li class="chapter" data-level="24.4.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-grouped-data"><i class="fa fa-check"></i><b>24.4.3</b> Filtering grouped data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>25</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="25.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inner-joins"><i class="fa fa-check"></i><b>25.1</b> Inner Joins</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#ins-outs-of-inner-join"><i class="fa fa-check"></i><b>25.1.1</b> ins &amp; outs of INNER JOIN</a></li>
<li class="chapter" data-level="25.1.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#defining-relationships"><i class="fa fa-check"></i><b>25.1.2</b> Defining relationships</a></li>
<li class="chapter" data-level="25.1.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#multiple-joins"><i class="fa fa-check"></i><b>25.1.3</b> Multiple joins</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-cross-self-joins"><i class="fa fa-check"></i><b>25.2</b> Outer, Cross &amp; Self Joins</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#left-right-joins-1"><i class="fa fa-check"></i><b>25.2.1</b> LEFT &amp; RIGHT JOINs</a></li>
<li class="chapter" data-level="25.2.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#full-join-1"><i class="fa fa-check"></i><b>25.2.2</b> FULL JOIN</a></li>
<li class="chapter" data-level="25.2.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#cross-join"><i class="fa fa-check"></i><b>25.2.3</b> CROSS JOIN</a></li>
<li class="chapter" data-level="25.2.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#self-joins"><i class="fa fa-check"></i><b>25.2.4</b> Self joins</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-for-sql-joins"><i class="fa fa-check"></i><b>25.3</b> Set Theory for SQL Joins</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#union-vs.-union-all"><i class="fa fa-check"></i><b>25.3.1</b> UNION vs. UNION ALL</a></li>
<li class="chapter" data-level="25.3.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#intersect"><i class="fa fa-check"></i><b>25.3.2</b> INTERSECT</a></li>
<li class="chapter" data-level="25.3.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#except"><i class="fa fa-check"></i><b>25.3.3</b> EXCEPT</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>25.4</b> Subqueries</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#with-semi-joins-anti-joins"><i class="fa fa-check"></i><b>25.4.1</b> With semi joins &amp; anti joins</a></li>
<li class="chapter" data-level="25.4.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-where-select"><i class="fa fa-check"></i><b>25.4.2</b> Inside WHERE &amp; SELECT</a></li>
<li class="chapter" data-level="25.4.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-from"><i class="fa fa-check"></i><b>25.4.3</b> Inside FROM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>26</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="26.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#introduction-6"><i class="fa fa-check"></i><b>26.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#useful-shell-commands"><i class="fa fa-check"></i><b>26.1.1</b> Useful shell commands</a></li>
<li class="chapter" data-level="26.1.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#saving-files"><i class="fa fa-check"></i><b>26.1.2</b> Saving files</a></li>
<li class="chapter" data-level="26.1.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>26.1.3</b> Comparing files</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#making-changes"><i class="fa fa-check"></i><b>26.2</b> Making changes</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#storing-data-with-git"><i class="fa fa-check"></i><b>26.2.1</b> Storing data with Git</a></li>
<li class="chapter" data-level="26.2.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#viewing-changes"><i class="fa fa-check"></i><b>26.2.2</b> Viewing changes</a></li>
<li class="chapter" data-level="26.2.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-changes-before-committing"><i class="fa fa-check"></i><b>26.2.3</b> Undoing changes before committing</a></li>
<li class="chapter" data-level="26.2.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#restoring-and-reverting"><i class="fa fa-check"></i><b>26.2.4</b> Restoring and reverting</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#git-workflows"><i class="fa fa-check"></i><b>26.3</b> Git workflows</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#configuring-git"><i class="fa fa-check"></i><b>26.3.1</b> Configuring Git</a></li>
<li class="chapter" data-level="26.3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#branches"><i class="fa fa-check"></i><b>26.3.2</b> Branches</a></li>
<li class="chapter" data-level="26.3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-branches"><i class="fa fa-check"></i><b>26.3.3</b> Working with branches</a></li>
<li class="chapter" data-level="26.3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#handling-conflict"><i class="fa fa-check"></i><b>26.3.4</b> Handling conflict</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#collaborating-with-git"><i class="fa fa-check"></i><b>26.4</b> Collaborating with Git</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-repos"><i class="fa fa-check"></i><b>26.4.1</b> Creating repos</a></li>
<li class="chapter" data-level="26.4.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-remotes"><i class="fa fa-check"></i><b>26.4.2</b> Working with remotes</a></li>
<li class="chapter" data-level="26.4.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pulling-from-a-remote"><i class="fa fa-check"></i><b>26.4.3</b> Pulling from a remote</a></li>
<li class="chapter" data-level="26.4.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pushing-to-a-remote"><i class="fa fa-check"></i><b>26.4.4</b> Pushing to a remote</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Scientist with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-dates-and-times-in-r" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">Chapter 11</span> Working with Dates and Times in R<a href="working-with-dates-and-times-in-r.html#working-with-dates-and-times-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="dates-and-times-in-r" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> Dates and Times in R<a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="introduction-to-dates" class="section level3 hasAnchor" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> Introduction to dates<a href="working-with-dates-and-times-in-r.html#introduction-to-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>ISO 8601: YYYY-MM-DD</strong></p>
<ul>
<li><p>Values ordered from the largest to smallest unit of time</p></li>
<li><p>Each has a ,xed number of digits, must be padded with leading zeros</p></li>
<li><p>Either, no separators for computers, or - in dates</p></li>
<li><p>1st of January 2011 -&gt; 2011-01-01</p></li>
</ul>
<div id="specifying-dates" class="section level4 hasAnchor" number="11.1.1.1">
<h4><span class="header-section-number">11.1.1.1</span> Specifying dates<a href="working-with-dates-and-times-in-r.html#specifying-dates" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1165-1"><a href="working-with-dates-and-times-in-r.html#cb1165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The date R 3.0.0 was released</span></span>
<span id="cb1165-2"><a href="working-with-dates-and-times-in-r.html#cb1165-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;2013-04-03&quot;</span></span>
<span id="cb1165-3"><a href="working-with-dates-and-times-in-r.html#cb1165-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1165-4"><a href="working-with-dates-and-times-in-r.html#cb1165-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine structure of x</span></span>
<span id="cb1165-5"><a href="working-with-dates-and-times-in-r.html#cb1165-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  chr &quot;2013-04-03&quot;</code></pre>
<div class="sourceCode" id="cb1167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1167-1"><a href="working-with-dates-and-times-in-r.html#cb1167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use as.Date() to interpret x as a date</span></span>
<span id="cb1167-2"><a href="working-with-dates-and-times-in-r.html#cb1167-2" aria-hidden="true" tabindex="-1"></a>x_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(x)</span>
<span id="cb1167-3"><a href="working-with-dates-and-times-in-r.html#cb1167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1167-4"><a href="working-with-dates-and-times-in-r.html#cb1167-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine structure of x_date</span></span>
<span id="cb1167-5"><a href="working-with-dates-and-times-in-r.html#cb1167-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x_date)</span></code></pre></div>
<pre><code>##  Date[1:1], format: &quot;2013-04-03&quot;</code></pre>
<div class="sourceCode" id="cb1169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1169-1"><a href="working-with-dates-and-times-in-r.html#cb1169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store April 10 2014 as a Date</span></span>
<span id="cb1169-2"><a href="working-with-dates-and-times-in-r.html#cb1169-2" aria-hidden="true" tabindex="-1"></a>april_10_2014 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2014-04-10&quot;</span>)</span></code></pre></div>
</div>
<div id="automatic-import" class="section level4 hasAnchor" number="11.1.1.2">
<h4><span class="header-section-number">11.1.1.2</span> Automatic import<a href="working-with-dates-and-times-in-r.html#automatic-import" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>anytime()</code> function in the <code>anytime</code> package: automatically parse strings as dates regardless of the format.</p>
<div class="sourceCode" id="cb1170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1170-1"><a href="working-with-dates-and-times-in-r.html#cb1170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the readr package</span></span>
<span id="cb1170-2"><a href="working-with-dates-and-times-in-r.html#cb1170-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1170-3"><a href="working-with-dates-and-times-in-r.html#cb1170-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1170-4"><a href="working-with-dates-and-times-in-r.html#cb1170-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use read_csv() to import rversions.csv</span></span>
<span id="cb1170-5"><a href="working-with-dates-and-times-in-r.html#cb1170-5" aria-hidden="true" tabindex="-1"></a>releases <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/rversions.csv&quot;</span>)</span>
<span id="cb1170-6"><a href="working-with-dates-and-times-in-r.html#cb1170-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1170-7"><a href="working-with-dates-and-times-in-r.html#cb1170-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the structure of the date column</span></span>
<span id="cb1170-8"><a href="working-with-dates-and-times-in-r.html#cb1170-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(releases<span class="sc">$</span>date)</span></code></pre></div>
<pre><code>##  Date[1:105], format: &quot;1997-12-04&quot; &quot;1997-12-21&quot; &quot;1998-01-10&quot; &quot;1998-03-14&quot; &quot;1998-05-02&quot; ...</code></pre>
<div class="sourceCode" id="cb1172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1172-1"><a href="working-with-dates-and-times-in-r.html#cb1172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the anytime package</span></span>
<span id="cb1172-2"><a href="working-with-dates-and-times-in-r.html#cb1172-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(anytime)</span>
<span id="cb1172-3"><a href="working-with-dates-and-times-in-r.html#cb1172-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1172-4"><a href="working-with-dates-and-times-in-r.html#cb1172-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Various ways of writing Sep 10 2009</span></span>
<span id="cb1172-5"><a href="working-with-dates-and-times-in-r.html#cb1172-5" aria-hidden="true" tabindex="-1"></a>sep_10_2009 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;September 10 2009&quot;</span>, <span class="st">&quot;2009-09-10&quot;</span>, <span class="st">&quot;10 Sep 2009&quot;</span>, <span class="st">&quot;09-10-2009&quot;</span>)</span>
<span id="cb1172-6"><a href="working-with-dates-and-times-in-r.html#cb1172-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1172-7"><a href="working-with-dates-and-times-in-r.html#cb1172-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use anytime() to parse sep_10_2009</span></span>
<span id="cb1172-8"><a href="working-with-dates-and-times-in-r.html#cb1172-8" aria-hidden="true" tabindex="-1"></a><span class="fu">anytime</span>(sep_10_2009)</span></code></pre></div>
<pre><code>## [1] &quot;2009-09-10 CST&quot; &quot;2009-09-10 CST&quot; &quot;2009-09-10 CST&quot; &quot;2009-09-10 CST&quot;</code></pre>
</div>
</div>
<div id="why-use-dates" class="section level3 hasAnchor" number="11.1.2">
<h3><span class="header-section-number">11.1.2</span> Why use dates?<a href="working-with-dates-and-times-in-r.html#why-use-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Dates act like numbers</p></li>
<li><p>Plotting with dates</p></li>
</ul>
<div class="sourceCode" id="cb1174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1174-1"><a href="working-with-dates-and-times-in-r.html#cb1174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(releases)</span></code></pre></div>
<pre><code>## spc_tbl_ [105 × 7] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ major   : num [1:105] 0 0 0 0 0 0 0 0 0 0 ...
##  $ minor   : num [1:105] 60 61 61 61 61 62 62 62 62 62 ...
##  $ patch   : num [1:105] NA NA 1 2 3 NA 1 2 3 4 ...
##  $ date    : Date[1:105], format: &quot;1997-12-04&quot; &quot;1997-12-21&quot; ...
##  $ datetime: POSIXct[1:105], format: &quot;1997-12-04 08:47:58&quot; &quot;1997-12-21 13:09:22&quot; ...
##  $ time    : &#39;hms&#39; num [1:105] 08:47:58 13:09:22 00:31:55 19:25:55 ...
##   ..- attr(*, &quot;units&quot;)= chr &quot;secs&quot;
##  $ type    : chr [1:105] &quot;patch&quot; &quot;minor&quot; &quot;patch&quot; &quot;patch&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   major = col_double(),
##   ..   minor = col_double(),
##   ..   patch = col_double(),
##   ..   date = col_date(format = &quot;&quot;),
##   ..   datetime = col_datetime(format = &quot;&quot;),
##   ..   time = col_time(format = &quot;&quot;),
##   ..   type = col_character()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<div id="plotting" class="section level4 hasAnchor" number="11.1.2.1">
<h4><span class="header-section-number">11.1.2.1</span> Plotting<a href="working-with-dates-and-times-in-r.html#plotting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1176-1"><a href="working-with-dates-and-times-in-r.html#cb1176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1176-2"><a href="working-with-dates-and-times-in-r.html#cb1176-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1176-3"><a href="working-with-dates-and-times-in-r.html#cb1176-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the x axis to the date column</span></span>
<span id="cb1176-4"><a href="working-with-dates-and-times-in-r.html#cb1176-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(releases, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> type)) <span class="sc">+</span></span>
<span id="cb1176-5"><a href="working-with-dates-and-times-in-r.html#cb1176-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="fu">factor</span>(major)))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-483-1.png" width="672" /></p>
<div class="sourceCode" id="cb1177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1177-1"><a href="working-with-dates-and-times-in-r.html#cb1177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limit the axis to between 2010-01-01 and 2014-01-01</span></span>
<span id="cb1177-2"><a href="working-with-dates-and-times-in-r.html#cb1177-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(releases, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> type)) <span class="sc">+</span></span>
<span id="cb1177-3"><a href="working-with-dates-and-times-in-r.html#cb1177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="fu">factor</span>(major))) <span class="sc">+</span></span>
<span id="cb1177-4"><a href="working-with-dates-and-times-in-r.html#cb1177-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="fu">as.Date</span>(<span class="st">&quot;2014-01-01&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 87 rows containing missing values (`geom_line()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-483-2.png" width="672" /></p>
<div class="sourceCode" id="cb1179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1179-1"><a href="working-with-dates-and-times-in-r.html#cb1179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify breaks every ten years and labels with &quot;%Y&quot;</span></span>
<span id="cb1179-2"><a href="working-with-dates-and-times-in-r.html#cb1179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(releases, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> type)) <span class="sc">+</span></span>
<span id="cb1179-3"><a href="working-with-dates-and-times-in-r.html#cb1179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="fu">factor</span>(major))) <span class="sc">+</span></span>
<span id="cb1179-4"><a href="working-with-dates-and-times-in-r.html#cb1179-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;10 years&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%Y&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-483-3.png" width="672" /></p>
</div>
<div id="arithmetic-logical-operators" class="section level4 hasAnchor" number="11.1.2.2">
<h4><span class="header-section-number">11.1.2.2</span> Arithmetic &amp; logical operators<a href="working-with-dates-and-times-in-r.html#arithmetic-logical-operators" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Since <code>Date</code> objects are internally represented as the number of days since 1970-01-01, you can do basic math and comparisons with dates.</p>
<p>You can compare dates with the usual logical operators (<code>&lt;</code>, <code>==</code>, <code>&gt;</code> etc.), find extremes with <code>min()</code> and <code>max()</code>, and even subtract two dates to find out the time between them.</p>
<p><code>Sys.date()</code> -&gt; today’s date</p>
<div class="sourceCode" id="cb1180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1180-1"><a href="working-with-dates-and-times-in-r.html#cb1180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1180-2"><a href="working-with-dates-and-times-in-r.html#cb1180-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1180-3"><a href="working-with-dates-and-times-in-r.html#cb1180-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the largest date</span></span>
<span id="cb1180-4"><a href="working-with-dates-and-times-in-r.html#cb1180-4" aria-hidden="true" tabindex="-1"></a>last_release_date <span class="ot">&lt;-</span> <span class="fu">max</span>(releases<span class="sc">$</span>date)</span>
<span id="cb1180-5"><a href="working-with-dates-and-times-in-r.html#cb1180-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1180-6"><a href="working-with-dates-and-times-in-r.html#cb1180-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter row for last release</span></span>
<span id="cb1180-7"><a href="working-with-dates-and-times-in-r.html#cb1180-7" aria-hidden="true" tabindex="-1"></a>last_release <span class="ot">&lt;-</span> releases <span class="sc">%&gt;%</span> <span class="fu">filter</span>(date <span class="sc">==</span> last_release_date)</span>
<span id="cb1180-8"><a href="working-with-dates-and-times-in-r.html#cb1180-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1180-9"><a href="working-with-dates-and-times-in-r.html#cb1180-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print last_release</span></span>
<span id="cb1180-10"><a href="working-with-dates-and-times-in-r.html#cb1180-10" aria-hidden="true" tabindex="-1"></a>last_release</span>
<span id="cb1180-11"><a href="working-with-dates-and-times-in-r.html#cb1180-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1180-12"><a href="working-with-dates-and-times-in-r.html#cb1180-12" aria-hidden="true" tabindex="-1"></a><span class="co"># How long since last release?</span></span>
<span id="cb1180-13"><a href="working-with-dates-and-times-in-r.html#cb1180-13" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.Date</span>() <span class="sc">-</span> last_release_date</span></code></pre></div>
<pre><code>## Time difference of 2389 days</code></pre>
</div>
</div>
<div id="what-about-times" class="section level3 hasAnchor" number="11.1.3">
<h3><span class="header-section-number">11.1.3</span> What about times?<a href="working-with-dates-and-times-in-r.html#what-about-times" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>ISO 8601: HH:MM:SS</strong></p>
<ul>
<li><p>Largest unit to smallest</p></li>
<li><p>Fixed digits</p>
<ul>
<li><p>Hours: 00 -- 24</p></li>
<li><p>Minutes: 00 -- 59</p></li>
<li><p>Seconds: 00 -- 60 (60 only for leap seconds)</p></li>
</ul></li>
<li><p>No separator or <code>:</code></p></li>
</ul>
<p><strong>Datetimes in R</strong></p>
<ul>
<li><p>Two objects types:</p>
<ul>
<li><p><code>POSIXlt</code> - list with named components</p></li>
<li><p><code>POSIXct</code> - seconds since 1970-01-01 00:00:00</p></li>
</ul></li>
<li><p><code>POSIXct</code> will go in a data frame</p></li>
<li><p><code>as.POSIXct()</code> turns a string into a <code>POSIXct</code> object</p></li>
</ul>
<p><strong>Timezones</strong></p>
<p><code>as.POSIXct("2013-02-27T18:00:00Z", tz = "UTC")</code></p>
<div id="getting-datetimes" class="section level4 hasAnchor" number="11.1.3.1">
<h4><span class="header-section-number">11.1.3.1</span> Getting datetimes<a href="working-with-dates-and-times-in-r.html#getting-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><code>as.POSIXct()</code> expects strings to be in the format <code>YYYY-MM-DD HH:MM:SS</code></p></li>
<li><p>check your timezone with <code>Sys.timezone()</code></p>
<ul>
<li>If you want the time to be interpreted in a different timezone, set the <code>tz</code> argument of <code>as.POSIXct()</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1182-1"><a href="working-with-dates-and-times-in-r.html#cb1182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check timezone</span></span>
<span id="cb1182-2"><a href="working-with-dates-and-times-in-r.html#cb1182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.timezone</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Asia/Taipei&quot;</code></pre>
<div class="sourceCode" id="cb1184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1184-1"><a href="working-with-dates-and-times-in-r.html#cb1184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use as.POSIXct to enter the datetime </span></span>
<span id="cb1184-2"><a href="working-with-dates-and-times-in-r.html#cb1184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;2010-10-01 12:12:00&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2010-10-01 12:12:00 CST&quot;</code></pre>
<div class="sourceCode" id="cb1186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1186-1"><a href="working-with-dates-and-times-in-r.html#cb1186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use as.POSIXct again but set the timezone to `&quot;America/Los_Angeles&quot;`</span></span>
<span id="cb1186-2"><a href="working-with-dates-and-times-in-r.html#cb1186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;2010-10-01 12:12:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2010-10-01 12:12:00 PDT&quot;</code></pre>
<div class="sourceCode" id="cb1188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1188-1"><a href="working-with-dates-and-times-in-r.html#cb1188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine structure of datetime column</span></span>
<span id="cb1188-2"><a href="working-with-dates-and-times-in-r.html#cb1188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(releases<span class="sc">$</span>datetime)</span></code></pre></div>
<pre><code>##  POSIXct[1:105], format: &quot;1997-12-04 08:47:58&quot; &quot;1997-12-21 13:09:22&quot; ...</code></pre>
</div>
<div id="plot" class="section level4 hasAnchor" number="11.1.3.2">
<h4><span class="header-section-number">11.1.3.2</span> Plot<a href="working-with-dates-and-times-in-r.html#plot" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1190-1"><a href="working-with-dates-and-times-in-r.html#cb1190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import &quot;cran-logs_2015-04-17.csv&quot; with read_csv()</span></span>
<span id="cb1190-2"><a href="working-with-dates-and-times-in-r.html#cb1190-2" aria-hidden="true" tabindex="-1"></a>logs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/cran-logs_2015-04-17.csv&quot;</span>)</span>
<span id="cb1190-3"><a href="working-with-dates-and-times-in-r.html#cb1190-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1190-4"><a href="working-with-dates-and-times-in-r.html#cb1190-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print logs</span></span>
<span id="cb1190-5"><a href="working-with-dates-and-times-in-r.html#cb1190-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(logs)</span>
<span id="cb1190-6"><a href="working-with-dates-and-times-in-r.html#cb1190-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1190-7"><a href="working-with-dates-and-times-in-r.html#cb1190-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Store the release time as a POSIXct object</span></span>
<span id="cb1190-8"><a href="working-with-dates-and-times-in-r.html#cb1190-8" aria-hidden="true" tabindex="-1"></a>release_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2015-04-16 07:13:33&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span>
<span id="cb1190-9"><a href="working-with-dates-and-times-in-r.html#cb1190-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1190-10"><a href="working-with-dates-and-times-in-r.html#cb1190-10" aria-hidden="true" tabindex="-1"></a><span class="co"># When is the first download of 3.2.0?</span></span>
<span id="cb1190-11"><a href="working-with-dates-and-times-in-r.html#cb1190-11" aria-hidden="true" tabindex="-1"></a>logs <span class="sc">%&gt;%</span> </span>
<span id="cb1190-12"><a href="working-with-dates-and-times-in-r.html#cb1190-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(datetime <span class="sc">&gt;</span> release_time, r_version <span class="sc">==</span> <span class="st">&quot;3.2.0&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1190-13"><a href="working-with-dates-and-times-in-r.html#cb1190-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(datetime)</span>
<span id="cb1190-14"><a href="working-with-dates-and-times-in-r.html#cb1190-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1190-15"><a href="working-with-dates-and-times-in-r.html#cb1190-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine histograms of downloads by version</span></span>
<span id="cb1190-16"><a href="working-with-dates-and-times-in-r.html#cb1190-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(logs, <span class="fu">aes</span>(<span class="at">x =</span> datetime)) <span class="sc">+</span></span>
<span id="cb1190-17"><a href="working-with-dates-and-times-in-r.html#cb1190-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb1190-18"><a href="working-with-dates-and-times-in-r.html#cb1190-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">as.numeric</span>(release_time)))<span class="sc">+</span></span>
<span id="cb1190-19"><a href="working-with-dates-and-times-in-r.html#cb1190-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> r_version, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-486-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="parsing-manipulating-with-lubridate" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> Parsing &amp; Manipulating with lubridate<a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>lubridate</code> in <code>tidyverse</code> package</p>
<div id="parsing-dates" class="section level3 hasAnchor" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> Parsing dates<a href="working-with-dates-and-times-in-r.html#parsing-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Parsing dates</strong></p>
<ul>
<li><p><code>ymd()</code> : <u><em>y</em></u>ear, then <u><em>m</em></u>onth, then <u><em>d</em></u>ay</p>
<ul>
<li><code>ydm()</code> , <code>mdy()</code> , <code>myd()</code> , <code>dmy()</code> , <code>dym()</code>, <code>dmy_hms()</code>, <code>dmy_hm()</code>, <code>dmy_h()</code> …</li>
</ul></li>
<li><p><code>parse_date_time("date", order = "***")</code></p>
<ul>
<li>e.g, <code>parse_date_time(c("27-02-2013", "2013 Feb 27th"), orders = c("dmy", "ymd"))</code></li>
</ul></li>
</ul>
<p><strong>Formatting characters</strong></p>
<p><img src="image/date_time_format_characters.png" width="400" /></p>
<div id="select-the-right-parsing-function" class="section level4 hasAnchor" number="11.2.1.1">
<h4><span class="header-section-number">11.2.1.1</span> Select the right parsing function<a href="working-with-dates-and-times-in-r.html#select-the-right-parsing-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1191-1"><a href="working-with-dates-and-times-in-r.html#cb1191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1191-2"><a href="working-with-dates-and-times-in-r.html#cb1191-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1191-3"><a href="working-with-dates-and-times-in-r.html#cb1191-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse x </span></span>
<span id="cb1191-4"><a href="working-with-dates-and-times-in-r.html#cb1191-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;2010 September 20th&quot;</span> <span class="co"># 2010-09-20</span></span>
<span id="cb1191-5"><a href="working-with-dates-and-times-in-r.html#cb1191-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;2010-09-20&quot;</code></pre>
<div class="sourceCode" id="cb1193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1193-1"><a href="working-with-dates-and-times-in-r.html#cb1193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse y </span></span>
<span id="cb1193-2"><a href="working-with-dates-and-times-in-r.html#cb1193-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">&quot;02.01.2010&quot;</span>  <span class="co"># 2010-01-02</span></span>
<span id="cb1193-3"><a href="working-with-dates-and-times-in-r.html#cb1193-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;2010-01-02&quot;</code></pre>
<div class="sourceCode" id="cb1195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1195-1"><a href="working-with-dates-and-times-in-r.html#cb1195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse z </span></span>
<span id="cb1195-2"><a href="working-with-dates-and-times-in-r.html#cb1195-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="st">&quot;Sep, 12th 2010 14:00&quot;</span>  <span class="co"># 2010-09-12T14:00</span></span>
<span id="cb1195-3"><a href="working-with-dates-and-times-in-r.html#cb1195-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy_hm</span>(z)</span></code></pre></div>
<pre><code>## [1] &quot;2010-09-12 14:00:00 UTC&quot;</code></pre>
</div>
<div id="specify-an-order-with-parse_date_time" class="section level4 hasAnchor" number="11.2.1.2">
<h4><span class="header-section-number">11.2.1.2</span> Specify an order with parse_date_time<a href="working-with-dates-and-times-in-r.html#specify-an-order-with-parse_date_time" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One advantage of <code>parse_date_time()</code> is that you can use more format characters.</p>
<p>For example, you can specify weekday names with <code>A</code>, <code>I</code> for 12 hour time, am/pm indicators with <code>p</code> and many others. You can see a whole list on the help page <a href="https://www.rdocumentation.org/packages/lubridate/versions/1.8.0/topics/parse_date_time"><strong><code>?parse_date_time</code></strong></a>.</p>
<div class="sourceCode" id="cb1197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1197-1"><a href="working-with-dates-and-times-in-r.html#cb1197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change to UTC timezone</span></span>
<span id="cb1197-2"><a href="working-with-dates-and-times-in-r.html#cb1197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setlocale</span>(<span class="st">&quot;LC_TIME&quot;</span>, <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;C&quot;</code></pre>
<div class="sourceCode" id="cb1199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1199-1"><a href="working-with-dates-and-times-in-r.html#cb1199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify an order string to parse x</span></span>
<span id="cb1199-2"><a href="working-with-dates-and-times-in-r.html#cb1199-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Monday June 1st 2010 at 4pm&quot;</span></span>
<span id="cb1199-3"><a href="working-with-dates-and-times-in-r.html#cb1199-3" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_date_time</span>(x, <span class="at">orders =</span> <span class="st">&quot;AbdY_Ip&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2010-06-01 16:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1201-1"><a href="working-with-dates-and-times-in-r.html#cb1201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify order to include both &quot;mdy&quot; and &quot;dmy&quot;</span></span>
<span id="cb1201-2"><a href="working-with-dates-and-times-in-r.html#cb1201-2" aria-hidden="true" tabindex="-1"></a>two_orders <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;October 7, 2001&quot;</span>, <span class="st">&quot;October 13, 2002&quot;</span>, <span class="st">&quot;April 13, 2003&quot;</span>, </span>
<span id="cb1201-3"><a href="working-with-dates-and-times-in-r.html#cb1201-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;17 April 2005&quot;</span>, <span class="st">&quot;23 April 2017&quot;</span>)</span>
<span id="cb1201-4"><a href="working-with-dates-and-times-in-r.html#cb1201-4" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_date_time</span>(two_orders, <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">&quot;mdy&quot;</span>, <span class="st">&quot;dmy&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;2001-10-07 UTC&quot; &quot;2002-10-13 UTC&quot; &quot;2003-04-13 UTC&quot; &quot;2005-04-17 UTC&quot;
## [5] &quot;2017-04-23 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1203-1"><a href="working-with-dates-and-times-in-r.html#cb1203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify order to include &quot;dOmY&quot;, &quot;OmY&quot; and &quot;Y&quot;</span></span>
<span id="cb1203-2"><a href="working-with-dates-and-times-in-r.html#cb1203-2" aria-hidden="true" tabindex="-1"></a>short_dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;11 December 1282&quot;</span>, <span class="st">&quot;May 1372&quot;</span>, <span class="st">&quot;1253&quot;</span>)</span>
<span id="cb1203-3"><a href="working-with-dates-and-times-in-r.html#cb1203-3" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_date_time</span>(short_dates, <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">&quot;dOmY&quot;</span>, <span class="st">&quot;OmY&quot;</span>, <span class="st">&quot;Y&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;1282-12-11 UTC&quot; &quot;1372-05-01 UTC&quot; &quot;1253-01-01 UTC&quot;</code></pre>
<p>When a date component is missing, it’s just set to <code>1</code></p>
</div>
</div>
<div id="manipulating-dates" class="section level3 hasAnchor" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> Manipulating dates<a href="working-with-dates-and-times-in-r.html#manipulating-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><code>make_date</code> has arguments year, month and day to allow you to specify a date from its individual components.</p>
<ul>
<li><p><code>make_date(year, month, day)</code></p></li>
<li><p>Each argument can be vectors</p></li>
</ul></li>
<li><p><code>make_datetime</code> adds hour, min and sec arguments to build a datetime.</p>
<ul>
<li><code>make_datetime(year, month, day, hour, min, sec)</code></li>
</ul></li>
</ul>
<div id="import-daily-weather-data" class="section level4 hasAnchor" number="11.2.2.1">
<h4><span class="header-section-number">11.2.2.1</span> Import daily weather data<a href="working-with-dates-and-times-in-r.html#import-daily-weather-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1205-1"><a href="working-with-dates-and-times-in-r.html#cb1205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1205-2"><a href="working-with-dates-and-times-in-r.html#cb1205-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1205-3"><a href="working-with-dates-and-times-in-r.html#cb1205-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Import CSV with read_csv()</span></span>
<span id="cb1205-4"><a href="working-with-dates-and-times-in-r.html#cb1205-4" aria-hidden="true" tabindex="-1"></a>akl_daily_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/akl_weather_daily.csv&quot;</span>)</span>
<span id="cb1205-5"><a href="working-with-dates-and-times-in-r.html#cb1205-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1205-6"><a href="working-with-dates-and-times-in-r.html#cb1205-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print akl_daily_raw</span></span>
<span id="cb1205-7"><a href="working-with-dates-and-times-in-r.html#cb1205-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(akl_daily_raw)</span>
<span id="cb1205-8"><a href="working-with-dates-and-times-in-r.html#cb1205-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1205-9"><a href="working-with-dates-and-times-in-r.html#cb1205-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse date </span></span>
<span id="cb1205-10"><a href="working-with-dates-and-times-in-r.html#cb1205-10" aria-hidden="true" tabindex="-1"></a>akl_daily <span class="ot">&lt;-</span> akl_daily_raw <span class="sc">%&gt;%</span></span>
<span id="cb1205-11"><a href="working-with-dates-and-times-in-r.html#cb1205-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(date))</span>
<span id="cb1205-12"><a href="working-with-dates-and-times-in-r.html#cb1205-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1205-13"><a href="working-with-dates-and-times-in-r.html#cb1205-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print akl_daily</span></span>
<span id="cb1205-14"><a href="working-with-dates-and-times-in-r.html#cb1205-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(akl_daily)</span>
<span id="cb1205-15"><a href="working-with-dates-and-times-in-r.html#cb1205-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1205-16"><a href="working-with-dates-and-times-in-r.html#cb1205-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot to check work</span></span>
<span id="cb1205-17"><a href="working-with-dates-and-times-in-r.html#cb1205-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(akl_daily, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> max_temp)) <span class="sc">+</span></span>
<span id="cb1205-18"><a href="working-with-dates-and-times-in-r.html#cb1205-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() </span></code></pre></div>
<pre><code>## Warning: Removed 1 row containing missing values (`geom_line()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-489-1.png" width="672" /></p>
</div>
<div id="import-hourly-weather-data" class="section level4 hasAnchor" number="11.2.2.2">
<h4><span class="header-section-number">11.2.2.2</span> Import hourly weather data<a href="working-with-dates-and-times-in-r.html#import-hourly-weather-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The date information is spread over three columns <code>year</code>, <code>month</code> and <code>mday</code>, so you’ll need to use <code>make_date()</code> to combine them.</p>
<p>time information is in a separate <code>time</code> column.</p>
<p>One way to construct the datetimes is to paste the <code>date</code> and <code>time</code> together and then parse them.</p>
<div class="sourceCode" id="cb1207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1207-1"><a href="working-with-dates-and-times-in-r.html#cb1207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import &quot;akl_weather_hourly_2016.csv&quot;</span></span>
<span id="cb1207-2"><a href="working-with-dates-and-times-in-r.html#cb1207-2" aria-hidden="true" tabindex="-1"></a>akl_hourly_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/akl_weather_hourly_2016.csv&quot;</span>)</span>
<span id="cb1207-3"><a href="working-with-dates-and-times-in-r.html#cb1207-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1207-4"><a href="working-with-dates-and-times-in-r.html#cb1207-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print akl_hourly_raw</span></span>
<span id="cb1207-5"><a href="working-with-dates-and-times-in-r.html#cb1207-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(akl_hourly_raw)</span>
<span id="cb1207-6"><a href="working-with-dates-and-times-in-r.html#cb1207-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1207-7"><a href="working-with-dates-and-times-in-r.html#cb1207-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use make_date() to combine year, month and mday </span></span>
<span id="cb1207-8"><a href="working-with-dates-and-times-in-r.html#cb1207-8" aria-hidden="true" tabindex="-1"></a>akl_hourly  <span class="ot">&lt;-</span> akl_hourly_raw  <span class="sc">%&gt;%</span> </span>
<span id="cb1207-9"><a href="working-with-dates-and-times-in-r.html#cb1207-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> month, <span class="at">day =</span> mday))</span>
<span id="cb1207-10"><a href="working-with-dates-and-times-in-r.html#cb1207-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1207-11"><a href="working-with-dates-and-times-in-r.html#cb1207-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse datetime_string </span></span>
<span id="cb1207-12"><a href="working-with-dates-and-times-in-r.html#cb1207-12" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="ot">&lt;-</span> akl_hourly  <span class="sc">%&gt;%</span> </span>
<span id="cb1207-13"><a href="working-with-dates-and-times-in-r.html#cb1207-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1207-14"><a href="working-with-dates-and-times-in-r.html#cb1207-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">datetime_string =</span> <span class="fu">paste</span>(date, time, <span class="at">sep =</span> <span class="st">&quot;T&quot;</span>),</span>
<span id="cb1207-15"><a href="working-with-dates-and-times-in-r.html#cb1207-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">datetime =</span> <span class="fu">ymd_hms</span>(datetime_string)</span>
<span id="cb1207-16"><a href="working-with-dates-and-times-in-r.html#cb1207-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1207-17"><a href="working-with-dates-and-times-in-r.html#cb1207-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1207-18"><a href="working-with-dates-and-times-in-r.html#cb1207-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print date, time and datetime columns of akl_hourly</span></span>
<span id="cb1207-19"><a href="working-with-dates-and-times-in-r.html#cb1207-19" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="sc">%&gt;%</span> <span class="fu">select</span>(date, time, datetime)</span>
<span id="cb1207-20"><a href="working-with-dates-and-times-in-r.html#cb1207-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1207-21"><a href="working-with-dates-and-times-in-r.html#cb1207-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot to check work</span></span>
<span id="cb1207-22"><a href="working-with-dates-and-times-in-r.html#cb1207-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(akl_hourly, <span class="fu">aes</span>(<span class="at">x =</span> datetime, <span class="at">y =</span> temperature)) <span class="sc">+</span></span>
<span id="cb1207-23"><a href="working-with-dates-and-times-in-r.html#cb1207-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-490-1.png" width="672" /></p>
</div>
</div>
<div id="extracting-parts-of-a-datetime" class="section level3 hasAnchor" number="11.2.3">
<h3><span class="header-section-number">11.2.3</span> Extracting parts of a datetime<a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Extracts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>year()</code></td>
<td>Year with century</td>
</tr>
<tr class="even">
<td><code>month()</code></td>
<td>Month (1-12)</td>
</tr>
<tr class="odd">
<td><code>day()</code></td>
<td>Day of month (1-31)</td>
</tr>
<tr class="even">
<td><code>hour()</code></td>
<td>Hour (0-23)</td>
</tr>
<tr class="odd">
<td><code>min()</code></td>
<td>Minute (0-59)</td>
</tr>
<tr class="even">
<td><code>second()</code></td>
<td>Second (0-59)</td>
</tr>
<tr class="odd">
<td><code>wday()</code></td>
<td>Weekday (1-7)</td>
</tr>
<tr class="even">
<td><code>yday()</code></td>
<td>Day of year a.k.a. Julian day (1-366)</td>
</tr>
<tr class="odd">
<td><code>tz()</code></td>
<td>Timezone</td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb1208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1208-1"><a href="working-with-dates-and-times-in-r.html#cb1208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example</span></span>
<span id="cb1208-2"><a href="working-with-dates-and-times-in-r.html#cb1208-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">&quot;2013-02-23&quot;</span>)</span>
<span id="cb1208-3"><a href="working-with-dates-and-times-in-r.html#cb1208-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1208-4"><a href="working-with-dates-and-times-in-r.html#cb1208-4" aria-hidden="true" tabindex="-1"></a><span class="co"># output 2013</span></span>
<span id="cb1208-5"><a href="working-with-dates-and-times-in-r.html#cb1208-5" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(x)</span>
<span id="cb1208-6"><a href="working-with-dates-and-times-in-r.html#cb1208-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1208-7"><a href="working-with-dates-and-times-in-r.html#cb1208-7" aria-hidden="true" tabindex="-1"></a><span class="co"># output 2</span></span>
<span id="cb1208-8"><a href="working-with-dates-and-times-in-r.html#cb1208-8" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(x)</span>
<span id="cb1208-9"><a href="working-with-dates-and-times-in-r.html#cb1208-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1208-10"><a href="working-with-dates-and-times-in-r.html#cb1208-10" aria-hidden="true" tabindex="-1"></a><span class="co">#output 23</span></span>
<span id="cb1208-11"><a href="working-with-dates-and-times-in-r.html#cb1208-11" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(x)</span></code></pre></div>
<p><strong>Setting parts of a datetime</strong></p>
<div class="sourceCode" id="cb1209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1209-1"><a href="working-with-dates-and-times-in-r.html#cb1209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example</span></span>
<span id="cb1209-2"><a href="working-with-dates-and-times-in-r.html#cb1209-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">&quot;2013-02-23&quot;</span>)</span>
<span id="cb1209-3"><a href="working-with-dates-and-times-in-r.html#cb1209-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1209-4"><a href="working-with-dates-and-times-in-r.html#cb1209-4" aria-hidden="true" tabindex="-1"></a><span class="co"># output &quot;2013-02-23&quot;</span></span>
<span id="cb1209-5"><a href="working-with-dates-and-times-in-r.html#cb1209-5" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb1209-6"><a href="working-with-dates-and-times-in-r.html#cb1209-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1209-7"><a href="working-with-dates-and-times-in-r.html#cb1209-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set new year, output &quot;2017-02-23&quot;</span></span>
<span id="cb1209-8"><a href="working-with-dates-and-times-in-r.html#cb1209-8" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(x) <span class="ot">&lt;-</span> 2017x</span></code></pre></div>
<p><strong>Other useful functions</strong></p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Extracts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>leap_year()</code></td>
<td>In leap year ( 閏年, <code>TRUE</code> or <code>FALSE</code> )</td>
</tr>
<tr class="even">
<td><code>am()</code></td>
<td>In morning ( <code>TRUE</code> or <code>FALSE</code> )</td>
</tr>
<tr class="odd">
<td><code>pm()</code></td>
<td>In afternoon ( <code>TRUE</code> or <code>FALSE</code> )</td>
</tr>
<tr class="even">
<td><code>dst()</code></td>
<td>During daylight savings ( <code>TRUE</code> or <code>FALSE</code> )</td>
</tr>
<tr class="odd">
<td><code>quarter()</code></td>
<td>Quarter of year (1-4)</td>
</tr>
<tr class="even">
<td><code>semester()</code></td>
<td>Half of year (1-2)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="what-can-you-extract" class="section level4 hasAnchor" number="11.2.3.1">
<h4><span class="header-section-number">11.2.3.1</span> What can you extract<a href="working-with-dates-and-times-in-r.html#what-can-you-extract" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1210-1"><a href="working-with-dates-and-times-in-r.html#cb1210-1" aria-hidden="true" tabindex="-1"></a>release_time <span class="ot">&lt;-</span> releases<span class="sc">$</span>datetime</span>
<span id="cb1210-2"><a href="working-with-dates-and-times-in-r.html#cb1210-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1210-3"><a href="working-with-dates-and-times-in-r.html#cb1210-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the head() of release_time</span></span>
<span id="cb1210-4"><a href="working-with-dates-and-times-in-r.html#cb1210-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(release_time)</span></code></pre></div>
<pre><code>## [1] &quot;1997-12-04 08:47:58 UTC&quot; &quot;1997-12-21 13:09:22 UTC&quot;
## [3] &quot;1998-01-10 00:31:55 UTC&quot; &quot;1998-03-14 19:25:55 UTC&quot;
## [5] &quot;1998-05-02 07:58:17 UTC&quot; &quot;1998-06-14 12:56:20 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1212-1"><a href="working-with-dates-and-times-in-r.html#cb1212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the head() of the months of release_time</span></span>
<span id="cb1212-2"><a href="working-with-dates-and-times-in-r.html#cb1212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">month</span>(release_time))</span></code></pre></div>
<pre><code>## [1] 12 12  1  3  5  6</code></pre>
<div class="sourceCode" id="cb1214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1214-1"><a href="working-with-dates-and-times-in-r.html#cb1214-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the month of releases </span></span>
<span id="cb1214-2"><a href="working-with-dates-and-times-in-r.html#cb1214-2" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(release_time) <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code></pre></div>
<pre><code>## .
##  1  2  3  4  5  6  7  8  9 10 11 12 
##  5  6  8 18  5 16  4  7  2 15  6 13</code></pre>
<div class="sourceCode" id="cb1216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1216-1"><a href="working-with-dates-and-times-in-r.html#cb1216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the year of releases</span></span>
<span id="cb1216-2"><a href="working-with-dates-and-times-in-r.html#cb1216-2" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(release_time) <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code></pre></div>
<pre><code>## .
## 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 
##    2   10    9    6    6    5    5    4    4    4    4    6    5    4    6 
## 2012 2013 2014 2015 2016 2017 
##    4    4    4    5    5    3</code></pre>
<div class="sourceCode" id="cb1218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1218-1"><a href="working-with-dates-and-times-in-r.html#cb1218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How often is the hour before 12 (noon)?</span></span>
<span id="cb1218-2"><a href="working-with-dates-and-times-in-r.html#cb1218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">hour</span>(release_time) <span class="sc">&lt;</span> <span class="dv">12</span>)</span></code></pre></div>
<pre><code>## [1] 0.752</code></pre>
<div class="sourceCode" id="cb1220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1220-1"><a href="working-with-dates-and-times-in-r.html#cb1220-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How often is the release in am?</span></span>
<span id="cb1220-2"><a href="working-with-dates-and-times-in-r.html#cb1220-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively use am() to find out how often releases happen in the morning.</span></span>
<span id="cb1220-3"><a href="working-with-dates-and-times-in-r.html#cb1220-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">am</span>(release_time))</span></code></pre></div>
<pre><code>## [1] 0.752</code></pre>
<p>R versions have historically been released most in April, June, October and December, 1998 saw 10 releases and about 75% of releases happen in the morning (at least according to UTC).</p>
</div>
<div id="adding-useful-labels" class="section level4 hasAnchor" number="11.2.3.2">
<h4><span class="header-section-number">11.2.3.2</span> Adding useful labels<a href="working-with-dates-and-times-in-r.html#adding-useful-labels" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Both the <a href="https://www.rdocumentation.org/packages/lubridate/versions/1.8.0/topics/month"><strong><code>month()</code></strong></a> and <code>wday()</code> (day of the week) functions have two additional arguments:</p>
<ul>
<li><p><code>label</code>: Set <code>label = TRUE</code> to have the output labelled with month (or weekday) names</p></li>
<li><p><code>abbr</code>: Set <code>abbr = FALSE</code> for those names to be written in full rather than <u>abbr</u>eviated.</p></li>
</ul>
<div class="sourceCode" id="cb1222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1222-1"><a href="working-with-dates-and-times-in-r.html#cb1222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use wday() to tabulate release by day of the week</span></span>
<span id="cb1222-2"><a href="working-with-dates-and-times-in-r.html#cb1222-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Do you know if 1 is Sunday or Monday?</span></span>
<span id="cb1222-3"><a href="working-with-dates-and-times-in-r.html#cb1222-3" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">wday</span>(releases<span class="sc">$</span>datetime) <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code></pre></div>
<pre><code>## .
##  1  2  3  4  5  6  7 
##  3 29  9 12 18 31  3</code></pre>
<div class="sourceCode" id="cb1224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1224-1"><a href="working-with-dates-and-times-in-r.html#cb1224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add label = TRUE to make table more readable</span></span>
<span id="cb1224-2"><a href="working-with-dates-and-times-in-r.html#cb1224-2" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">wday</span>(releases<span class="sc">$</span>datetime, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code></pre></div>
<pre><code>## .
## Sun Mon Tue Wed Thu Fri Sat 
##   3  29   9  12  18  31   3</code></pre>
<div class="sourceCode" id="cb1226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1226-1"><a href="working-with-dates-and-times-in-r.html#cb1226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create column wday to hold labelled week days</span></span>
<span id="cb1226-2"><a href="working-with-dates-and-times-in-r.html#cb1226-2" aria-hidden="true" tabindex="-1"></a>releases<span class="sc">$</span>wday <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">wday</span>(releases<span class="sc">$</span>datetime, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1226-3"><a href="working-with-dates-and-times-in-r.html#cb1226-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1226-4"><a href="working-with-dates-and-times-in-r.html#cb1226-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot barchart of weekday by type of release</span></span>
<span id="cb1226-5"><a href="working-with-dates-and-times-in-r.html#cb1226-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(releases, <span class="fu">aes</span>(wday)) <span class="sc">+</span></span>
<span id="cb1226-6"><a href="working-with-dates-and-times-in-r.html#cb1226-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb1226-7"><a href="working-with-dates-and-times-in-r.html#cb1226-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> type, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scale =</span> <span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-492-1.png" width="672" /></p>
<p>Looks like not too many releases occur on the weekends, and there is quite a different weekday pattern between minor and patch releases.</p>
</div>
<div id="extracting-for-plotting" class="section level4 hasAnchor" number="11.2.3.3">
<h4><span class="header-section-number">11.2.3.3</span> Extracting for plotting<a href="working-with-dates-and-times-in-r.html#extracting-for-plotting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Extracting components from a datetime is particularly useful when exploring data.</p>
<p>Earlier in the chapter you imported daily data for weather in Auckland, and created a time series plot of ten years of daily maximum temperature. While that plot gives you a good overview of the whole ten years, it’s hard to see the annual pattern.</p>
<p>In this exercise you’ll use components of the dates to help explore the pattern of maximum temperature over the year.</p>
<div class="sourceCode" id="cb1227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1227-1"><a href="working-with-dates-and-times-in-r.html#cb1227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(akl_daily)</span></code></pre></div>
<p>The first step is to create some new columns to hold the extracted pieces, then you’ll use them in a couple of plots.</p>
<div class="sourceCode" id="cb1228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1228-1"><a href="working-with-dates-and-times-in-r.html#cb1228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add columns for year, yday and month</span></span>
<span id="cb1228-2"><a href="working-with-dates-and-times-in-r.html#cb1228-2" aria-hidden="true" tabindex="-1"></a>akl_daily <span class="ot">&lt;-</span> akl_daily <span class="sc">%&gt;%</span></span>
<span id="cb1228-3"><a href="working-with-dates-and-times-in-r.html#cb1228-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1228-4"><a href="working-with-dates-and-times-in-r.html#cb1228-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(date),</span>
<span id="cb1228-5"><a href="working-with-dates-and-times-in-r.html#cb1228-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yday =</span> lubridate<span class="sc">::</span><span class="fu">yday</span>(date),</span>
<span id="cb1228-6"><a href="working-with-dates-and-times-in-r.html#cb1228-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1228-7"><a href="working-with-dates-and-times-in-r.html#cb1228-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1228-8"><a href="working-with-dates-and-times-in-r.html#cb1228-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Take a look of mutate outcome</span></span>
<span id="cb1228-9"><a href="working-with-dates-and-times-in-r.html#cb1228-9" aria-hidden="true" tabindex="-1"></a>akl_daily <span class="sc">%&gt;%</span> <span class="fu">select</span>(date, year, yday, month)</span></code></pre></div>
<p>Each year is a line on this plot, with the x-axis running from Jan 1 to Dec 31.</p>
<div class="sourceCode" id="cb1229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1229-1"><a href="working-with-dates-and-times-in-r.html#cb1229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot max_temp by yday for all years</span></span>
<span id="cb1229-2"><a href="working-with-dates-and-times-in-r.html#cb1229-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(akl_daily, <span class="fu">aes</span>(<span class="at">x =</span> yday, <span class="at">y =</span> max_temp)) <span class="sc">+</span></span>
<span id="cb1229-3"><a href="working-with-dates-and-times-in-r.html#cb1229-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> year), <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 1 row containing missing values (`geom_line()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-495-1.png" width="672" /></p>
<p>To take an alternate look, create a <a href="https://blog.revolutionanalytics.com/2017/07/joyplots.html"><strong>ridgeline plot</strong></a>(formerly known as a joyplot) with <code>max_temp</code> on the x-axis, <code>month</code> on the y-axis, using <code>geom_density_ridges()</code> from the <code>ggridges</code> package.</p>
<div class="sourceCode" id="cb1231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1231-1"><a href="working-with-dates-and-times-in-r.html#cb1231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb1231-2"><a href="working-with-dates-and-times-in-r.html#cb1231-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1231-3"><a href="working-with-dates-and-times-in-r.html#cb1231-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine distribution of max_temp by month</span></span>
<span id="cb1231-4"><a href="working-with-dates-and-times-in-r.html#cb1231-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(akl_daily, <span class="fu">aes</span>(<span class="at">x =</span> max_temp, <span class="at">y =</span> month, <span class="at">height =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb1231-5"><a href="working-with-dates-and-times-in-r.html#cb1231-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">stat =</span> <span class="st">&quot;density&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 10 rows containing non-finite values (`stat_density()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-496-1.png" width="672" /></p>
<p>Looks like Jan, Feb and Mar are great months to visit if you want warm temperatures.</p>
</div>
<div id="extracting-for-filter-summarize" class="section level4 hasAnchor" number="11.2.3.4">
<h4><span class="header-section-number">11.2.3.4</span> Extracting for filter &amp; summarize<a href="working-with-dates-and-times-in-r.html#extracting-for-filter-summarize" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Another reason to extract components is to help with filtering observations or creating summaries.</p>
<p>For example, if you are only interested in observations made on weekdays (i.e. not on weekends) you could extract the weekdays then filter out weekends, e.g. <code>wday(date) %in% 2:6</code>.</p>
<p>You’ll use the hourly data to calculate how many days in each month there was any rain during the day.</p>
<div class="sourceCode" id="cb1233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1233-1"><a href="working-with-dates-and-times-in-r.html#cb1233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(akl_hourly)</span></code></pre></div>
<pre><code>## tibble [17,454 × 13] (S3: tbl_df/tbl/data.frame)
##  $ year           : num [1:17454] 2016 2016 2016 2016 2016 ...
##  $ month          : num [1:17454] 1 1 1 1 1 1 1 1 1 1 ...
##  $ mday           : num [1:17454] 1 1 1 1 1 1 1 1 1 1 ...
##  $ time           : &#39;hms&#39; num [1:17454] 00:00:00 00:30:00 01:00:00 01:30:00 ...
##   ..- attr(*, &quot;units&quot;)= chr &quot;secs&quot;
##  $ temperature    : num [1:17454] 68 68 68 68 68 68 68 68 68 66.2 ...
##  $ weather        : chr [1:17454] &quot;Clear&quot; &quot;Clear&quot; &quot;Clear&quot; &quot;Clear&quot; ...
##  $ conditions     : chr [1:17454] &quot;Clear&quot; &quot;Clear&quot; &quot;Clear&quot; &quot;Clear&quot; ...
##  $ events         : chr [1:17454] NA NA NA NA ...
##  $ humidity       : num [1:17454] 68 68 73 68 68 68 68 68 68 73 ...
##  $ date_utc       : POSIXct[1:17454], format: &quot;2015-12-31 11:00:00&quot; &quot;2015-12-31 11:30:00&quot; ...
##  $ date           : Date[1:17454], format: &quot;2016-01-01&quot; &quot;2016-01-01&quot; ...
##  $ datetime_string: chr [1:17454] &quot;2016-01-01T00:00:00&quot; &quot;2016-01-01T00:30:00&quot; &quot;2016-01-01T01:00:00&quot; &quot;2016-01-01T01:30:00&quot; ...
##  $ datetime       : POSIXct[1:17454], format: &quot;2016-01-01 00:00:00&quot; &quot;2016-01-01 00:30:00&quot; ...</code></pre>
<div class="sourceCode" id="cb1235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1235-1"><a href="working-with-dates-and-times-in-r.html#cb1235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new columns hour, month and rainy</span></span>
<span id="cb1235-2"><a href="working-with-dates-and-times-in-r.html#cb1235-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="ot">&lt;-</span> akl_hourly <span class="sc">%&gt;%</span></span>
<span id="cb1235-3"><a href="working-with-dates-and-times-in-r.html#cb1235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1235-4"><a href="working-with-dates-and-times-in-r.html#cb1235-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour =</span> lubridate<span class="sc">::</span><span class="fu">hour</span>(datetime),</span>
<span id="cb1235-5"><a href="working-with-dates-and-times-in-r.html#cb1235-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(datetime, <span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1235-6"><a href="working-with-dates-and-times-in-r.html#cb1235-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">rainy =</span> weather <span class="sc">==</span> <span class="st">&quot;Precipitation&quot;</span></span>
<span id="cb1235-7"><a href="working-with-dates-and-times-in-r.html#cb1235-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1235-8"><a href="working-with-dates-and-times-in-r.html#cb1235-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1235-9"><a href="working-with-dates-and-times-in-r.html#cb1235-9" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="sc">%&gt;%</span> <span class="fu">select</span>(datetime, date, hour, month, rainy)</span></code></pre></div>
<p>Filter to just daytime observations.</p>
<div class="sourceCode" id="cb1236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1236-1"><a href="working-with-dates-and-times-in-r.html#cb1236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for hours between 8am and 10pm (inclusive)</span></span>
<span id="cb1236-2"><a href="working-with-dates-and-times-in-r.html#cb1236-2" aria-hidden="true" tabindex="-1"></a>akl_day <span class="ot">&lt;-</span> akl_hourly <span class="sc">%&gt;%</span> </span>
<span id="cb1236-3"><a href="working-with-dates-and-times-in-r.html#cb1236-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hour <span class="sc">&gt;=</span> <span class="dv">8</span>, hour <span class="sc">&lt;=</span> <span class="dv">22</span>)</span></code></pre></div>
<p>Group the observations first by <code>month</code>, then by <code>date</code>, and summarise by using <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/any"><strong><code>any()</code></strong></a> on the <code>rainy</code> column. <em>This results in one value per day.</em></p>
<div class="sourceCode" id="cb1237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1237-1"><a href="working-with-dates-and-times-in-r.html#cb1237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarise for each date if there is any rain</span></span>
<span id="cb1237-2"><a href="working-with-dates-and-times-in-r.html#cb1237-2" aria-hidden="true" tabindex="-1"></a>rainy_days <span class="ot">&lt;-</span> akl_day <span class="sc">%&gt;%</span> </span>
<span id="cb1237-3"><a href="working-with-dates-and-times-in-r.html#cb1237-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month, date) <span class="sc">%&gt;%</span></span>
<span id="cb1237-4"><a href="working-with-dates-and-times-in-r.html#cb1237-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1237-5"><a href="working-with-dates-and-times-in-r.html#cb1237-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">any_rain =</span> <span class="fu">any</span>(rainy)</span>
<span id="cb1237-6"><a href="working-with-dates-and-times-in-r.html#cb1237-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;month&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb1239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1239-1"><a href="working-with-dates-and-times-in-r.html#cb1239-1" aria-hidden="true" tabindex="-1"></a>rainy_days</span></code></pre></div>
<p>Summarise again by summing <code>any_rain</code>. <em>This results in one value per month.</em></p>
<div class="sourceCode" id="cb1240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1240-1"><a href="working-with-dates-and-times-in-r.html#cb1240-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarise for each month, the number of days with rain</span></span>
<span id="cb1240-2"><a href="working-with-dates-and-times-in-r.html#cb1240-2" aria-hidden="true" tabindex="-1"></a>rainy_days <span class="sc">%&gt;%</span> </span>
<span id="cb1240-3"><a href="working-with-dates-and-times-in-r.html#cb1240-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1240-4"><a href="working-with-dates-and-times-in-r.html#cb1240-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">days_rainy =</span> <span class="fu">sum</span>(any_rain)</span>
<span id="cb1240-5"><a href="working-with-dates-and-times-in-r.html#cb1240-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>At least in 2016, it looks like you’ll still need to pack a raincoat if you visit in Jan, Feb or March.</p>
<p><code>days_in_month</code> get the number of days in the month of a date-time.(該月份有幾天)</p>
</div>
</div>
<div id="rounding-datetimes" class="section level3 hasAnchor" number="11.2.4">
<h3><span class="header-section-number">11.2.4</span> Rounding datetimes<a href="working-with-dates-and-times-in-r.html#rounding-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Rounding in lubridate</strong></p>
<ul>
<li><p><code>round_date()</code> - round to <em>nearest</em> (四捨五入)</p></li>
<li><p><code>ceiling_date()</code> - round <em>up</em> (無條件進位)</p></li>
<li><p><code>floor_date()</code> - round <em>down</em> (無條件捨去)</p></li>
<li><p>Possible values of <code>unit</code> :</p>
<ul>
<li><p><code>"second"</code> , <code>"minute"</code> , <code>"hour"</code> , <code>"day"</code> , <code>"week"</code> , <code>"month"</code> , <code>"bimonth"</code> , <code>"quarter"</code> , <code>"halfyear"</code> , or <code>"year"</code> .</p></li>
<li><p>Or multiples, e.g <code>"2 years"</code> , <code>"5 minutes"</code></p></li>
</ul></li>
</ul>
<div id="practice-rounding" class="section level4 hasAnchor" number="11.2.4.1">
<h4><span class="header-section-number">11.2.4.1</span> Practice rounding<a href="working-with-dates-and-times-in-r.html#practice-rounding" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>That last technique of subtracting a rounded datetime from an unrounded one is a really useful trick to remember.</p>
<div class="sourceCode" id="cb1241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1241-1"><a href="working-with-dates-and-times-in-r.html#cb1241-1" aria-hidden="true" tabindex="-1"></a>r_3_4_1 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2016-05-03 07:13:28 UTC&quot;</span>)</span>
<span id="cb1241-2"><a href="working-with-dates-and-times-in-r.html#cb1241-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1241-3"><a href="working-with-dates-and-times-in-r.html#cb1241-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Round down to day</span></span>
<span id="cb1241-4"><a href="working-with-dates-and-times-in-r.html#cb1241-4" aria-hidden="true" tabindex="-1"></a><span class="fu">floor_date</span>(r_3_4_1, <span class="at">unit =</span> <span class="st">&quot;day&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2016-05-03 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1243-1"><a href="working-with-dates-and-times-in-r.html#cb1243-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Round to nearest 5 minutes</span></span>
<span id="cb1243-2"><a href="working-with-dates-and-times-in-r.html#cb1243-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round_date</span>(r_3_4_1, <span class="at">unit =</span> <span class="st">&quot;5 minutes&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2016-05-03 07:15:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1245-1"><a href="working-with-dates-and-times-in-r.html#cb1245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Round up to week </span></span>
<span id="cb1245-2"><a href="working-with-dates-and-times-in-r.html#cb1245-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ceiling_date</span>(r_3_4_1, <span class="at">unit =</span> <span class="st">&quot;week&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2016-05-08 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1247-1"><a href="working-with-dates-and-times-in-r.html#cb1247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtract r_3_4_1 rounded down to day</span></span>
<span id="cb1247-2"><a href="working-with-dates-and-times-in-r.html#cb1247-2" aria-hidden="true" tabindex="-1"></a>r_3_4_1 <span class="sc">-</span> <span class="fu">floor_date</span>(r_3_4_1, <span class="at">unit =</span> <span class="st">&quot;day&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 7.22 hours</code></pre>
</div>
<div id="rounding-with-the-weather-data" class="section level4 hasAnchor" number="11.2.4.2">
<h4><span class="header-section-number">11.2.4.2</span> Rounding with the weather data<a href="working-with-dates-and-times-in-r.html#rounding-with-the-weather-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The advantage of rounding over extracting is that it maintains the context of the unit.</p>
<p>You’ll explore how many observations per hour there really are in the hourly Auckland weather data.</p>
<div class="sourceCode" id="cb1249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1249-1"><a href="working-with-dates-and-times-in-r.html#cb1249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create day_hour, datetime rounded down to hour</span></span>
<span id="cb1249-2"><a href="working-with-dates-and-times-in-r.html#cb1249-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="ot">&lt;-</span> akl_hourly <span class="sc">%&gt;%</span></span>
<span id="cb1249-3"><a href="working-with-dates-and-times-in-r.html#cb1249-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1249-4"><a href="working-with-dates-and-times-in-r.html#cb1249-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_hour =</span> <span class="fu">floor_date</span>(datetime, <span class="at">unit =</span> <span class="st">&quot;hour&quot;</span>)</span>
<span id="cb1249-5"><a href="working-with-dates-and-times-in-r.html#cb1249-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1249-6"><a href="working-with-dates-and-times-in-r.html#cb1249-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1249-7"><a href="working-with-dates-and-times-in-r.html#cb1249-7" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="sc">%&gt;%</span> <span class="fu">select</span>(datetime, day_hour)</span></code></pre></div>
<p>Count how many observations there are in each hour. What looks like the most common value?</p>
<div class="sourceCode" id="cb1250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1250-1"><a href="working-with-dates-and-times-in-r.html#cb1250-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count observations per hour  </span></span>
<span id="cb1250-2"><a href="working-with-dates-and-times-in-r.html#cb1250-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="sc">%&gt;%</span> </span>
<span id="cb1250-3"><a href="working-with-dates-and-times-in-r.html#cb1250-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(day_hour) </span></code></pre></div>
<p>Filter for observations where <code>n</code> is not equal to 2.</p>
<div class="sourceCode" id="cb1251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1251-1"><a href="working-with-dates-and-times-in-r.html#cb1251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find day_hours with n != 2  </span></span>
<span id="cb1251-2"><a href="working-with-dates-and-times-in-r.html#cb1251-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="sc">%&gt;%</span> </span>
<span id="cb1251-3"><a href="working-with-dates-and-times-in-r.html#cb1251-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(day_hour) <span class="sc">%&gt;%</span></span>
<span id="cb1251-4"><a href="working-with-dates-and-times-in-r.html#cb1251-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">!=</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1251-5"><a href="working-with-dates-and-times-in-r.html#cb1251-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code></pre></div>
<p>92 hours that don’t have two measurements. Interestingly there are four measurements on 2016-04-03 and 2016-09-25, they happen to be the days Daylight Saving starts and ends.</p>
</div>
</div>
</div>
<div id="arithmetic-with-dates-and-times" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> Arithmetic with Dates and Times<a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="taking-differences-of-datetimes" class="section level3 hasAnchor" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> Taking differences of datetimes<a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Subtraction of datetimes</strong></p>
<ul>
<li><p><code>difftime(time1, time2)</code></p>
<ul>
<li><p>is the same as <code>time1 - time2</code></p></li>
<li><p>takes an argument <code>units</code> which specifies the units for the difference.</p></li>
<li><p><code>units</code> = <code>"secs"</code> , <code>"mins"</code> , <code>"hours"</code> , <code>"days"</code> , or <code>"weeks"</code></p></li>
</ul></li>
<li><p><code>lubridate</code> functions <code>today()</code> and <code>now()</code>: return the current date and time in your system’s timezone.</p></li>
</ul>
<div class="sourceCode" id="cb1252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1252-1"><a href="working-with-dates-and-times-in-r.html#cb1252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>()</span>
<span id="cb1252-2"><a href="working-with-dates-and-times-in-r.html#cb1252-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;2023-11-10&quot;</span></span>
<span id="cb1252-3"><a href="working-with-dates-and-times-in-r.html#cb1252-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1252-4"><a href="working-with-dates-and-times-in-r.html#cb1252-4" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()</span>
<span id="cb1252-5"><a href="working-with-dates-and-times-in-r.html#cb1252-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;2023-11-10 10:53:08 CST&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb1253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1253-1"><a href="working-with-dates-and-times-in-r.html#cb1253-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The date of landing and moment of step</span></span>
<span id="cb1253-2"><a href="working-with-dates-and-times-in-r.html#cb1253-2" aria-hidden="true" tabindex="-1"></a>date_landing <span class="ot">&lt;-</span> <span class="fu">mdy</span>(<span class="st">&quot;July 20, 1969&quot;</span>)</span>
<span id="cb1253-3"><a href="working-with-dates-and-times-in-r.html#cb1253-3" aria-hidden="true" tabindex="-1"></a>moment_step <span class="ot">&lt;-</span> <span class="fu">mdy_hms</span>(<span class="st">&quot;July 20, 1969, 02:56:15&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span>
<span id="cb1253-4"><a href="working-with-dates-and-times-in-r.html#cb1253-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1253-5"><a href="working-with-dates-and-times-in-r.html#cb1253-5" aria-hidden="true" tabindex="-1"></a><span class="co"># How many days since the first man on the moon?</span></span>
<span id="cb1253-6"><a href="working-with-dates-and-times-in-r.html#cb1253-6" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">today</span>(), date_landing, <span class="at">units =</span> <span class="st">&quot;days&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 19901 days</code></pre>
<div class="sourceCode" id="cb1255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1255-1"><a href="working-with-dates-and-times-in-r.html#cb1255-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many seconds since the first man on the moon?</span></span>
<span id="cb1255-2"><a href="working-with-dates-and-times-in-r.html#cb1255-2" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">now</span>(), moment_step, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 1719458701 secs</code></pre>
<p><em>How many seconds are in a day?</em></p>
<p>There are 24 hours in a day, 60 minutes in an hour, and 60 seconds in a minute, so there should be <code>24*60*60</code> = <code>86400</code> seconds, right? — Not always!🙄</p>
<div class="sourceCode" id="cb1257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1257-1"><a href="working-with-dates-and-times-in-r.html#cb1257-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Three dates</span></span>
<span id="cb1257-2"><a href="working-with-dates-and-times-in-r.html#cb1257-2" aria-hidden="true" tabindex="-1"></a>mar_11 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2017-03-11 12:00:00&quot;</span>, </span>
<span id="cb1257-3"><a href="working-with-dates-and-times-in-r.html#cb1257-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tz =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)</span>
<span id="cb1257-4"><a href="working-with-dates-and-times-in-r.html#cb1257-4" aria-hidden="true" tabindex="-1"></a>mar_12 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2017-03-12 12:00:00&quot;</span>, </span>
<span id="cb1257-5"><a href="working-with-dates-and-times-in-r.html#cb1257-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tz =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)</span>
<span id="cb1257-6"><a href="working-with-dates-and-times-in-r.html#cb1257-6" aria-hidden="true" tabindex="-1"></a>mar_13 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2017-03-13 12:00:00&quot;</span>, </span>
<span id="cb1257-7"><a href="working-with-dates-and-times-in-r.html#cb1257-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">tz =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)</span>
<span id="cb1257-8"><a href="working-with-dates-and-times-in-r.html#cb1257-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1257-9"><a href="working-with-dates-and-times-in-r.html#cb1257-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Difference between mar_13 and mar_12 in seconds</span></span>
<span id="cb1257-10"><a href="working-with-dates-and-times-in-r.html#cb1257-10" aria-hidden="true" tabindex="-1"></a><span class="co"># This should match your intuition.</span></span>
<span id="cb1257-11"><a href="working-with-dates-and-times-in-r.html#cb1257-11" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(mar_13, mar_12, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 86400 secs</code></pre>
<div class="sourceCode" id="cb1259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1259-1"><a href="working-with-dates-and-times-in-r.html#cb1259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Difference between mar_12 and mar_11 in seconds</span></span>
<span id="cb1259-2"><a href="working-with-dates-and-times-in-r.html#cb1259-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Surprised?</span></span>
<span id="cb1259-3"><a href="working-with-dates-and-times-in-r.html#cb1259-3" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(mar_12, mar_11, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 82800 secs</code></pre>
<p>Why would a day only have 82800 seconds? At 2am on Mar 12th 2017, Daylight Savings started in the Pacific timezone. That means a whole hour of seconds gets skipped between noon on the 11th and noon on the 12th.</p>
</div>
<div id="time-spans" class="section level3 hasAnchor" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> Time spans<a href="working-with-dates-and-times-in-r.html#time-spans" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Time spans in lubridate</strong></p>
<ul>
<li><p>Duration</p>
<ul>
<li><p>represent an exact number of seconds</p></li>
<li><p>use case: only care about physical time (seconds elapsed)</p></li>
<li><p>datetime + duration of one day = datetime + 86400 seconds</p></li>
</ul></li>
<li><p>Period</p>
<ul>
<li><p>represent human units</p></li>
<li><p>use case: interested in human interpretaions of time</p></li>
<li><p>datetime + period of one day = same time on the next date</p></li>
</ul></li>
<li><p>Interval</p>
<ul>
<li><p>represent a starting and ending point</p></li>
<li><p>use case: when you have a start and end, and figure out how long a span is in human units</p></li>
</ul></li>
</ul>
<p><strong>Functions to create time spans</strong></p>
<p><img src="image/function%20to%20create%20timespan.png" width="276" /></p>
<div id="adding-or-subtracting-a-time-span" class="section level4 hasAnchor" number="11.3.2.1">
<h4><span class="header-section-number">11.3.2.1</span> Adding or subtracting a time span<a href="working-with-dates-and-times-in-r.html#adding-or-subtracting-a-time-span" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Duration vs Period</p>
<div class="sourceCode" id="cb1261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1261-1"><a href="working-with-dates-and-times-in-r.html#cb1261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a period of one week to mon_2pm</span></span>
<span id="cb1261-2"><a href="working-with-dates-and-times-in-r.html#cb1261-2" aria-hidden="true" tabindex="-1"></a>mon_2pm <span class="ot">&lt;-</span> <span class="fu">dmy_hm</span>(<span class="st">&quot;27 Aug 2018 14:00&quot;</span>)</span>
<span id="cb1261-3"><a href="working-with-dates-and-times-in-r.html#cb1261-3" aria-hidden="true" tabindex="-1"></a>mon_2pm <span class="sc">+</span> <span class="fu">weeks</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2018-09-03 14:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1263-1"><a href="working-with-dates-and-times-in-r.html#cb1263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a duration of 81 hours to tue_9am</span></span>
<span id="cb1263-2"><a href="working-with-dates-and-times-in-r.html#cb1263-2" aria-hidden="true" tabindex="-1"></a>tue_9am <span class="ot">&lt;-</span> <span class="fu">dmy_hm</span>(<span class="st">&quot;28 Aug 2018 9:00&quot;</span>)</span>
<span id="cb1263-3"><a href="working-with-dates-and-times-in-r.html#cb1263-3" aria-hidden="true" tabindex="-1"></a>tue_9am <span class="sc">+</span> <span class="fu">dhours</span>(<span class="dv">81</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2018-08-31 18:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1265-1"><a href="working-with-dates-and-times-in-r.html#cb1265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtract a period of five years from today()</span></span>
<span id="cb1265-2"><a href="working-with-dates-and-times-in-r.html#cb1265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2019-01-14&quot;</code></pre>
<div class="sourceCode" id="cb1267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1267-1"><a href="working-with-dates-and-times-in-r.html#cb1267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtract a duration of five years from today()</span></span>
<span id="cb1267-2"><a href="working-with-dates-and-times-in-r.html#cb1267-2" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>() <span class="sc">-</span> <span class="fu">dyears</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2019-01-13 18:00:00 UTC&quot;</code></pre>
<p>Why did subtracting a duration of five years from today, give a different answer to subtracting a period of five years?</p>
<p>Periods know about leap years, and since five years ago includes at least one leap year, the period of five years is longer than the duration of 365*5 days.</p>
</div>
<div id="arithmetic-with-timespans" class="section level4 hasAnchor" number="11.3.2.2">
<h4><span class="header-section-number">11.3.2.2</span> Arithmetic with timespans<a href="working-with-dates-and-times-in-r.html#arithmetic-with-timespans" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can add and subtract timespans to create different length timespans, and even multiply them by numbers.</p>
<p>For example, to create a duration of three days and three hours: <code>ddays(3) + dhours(3)</code>, <code>3*ddays(1) + 3*dhours(1)</code> or <code>3*(ddays(1) + dhours(1))</code></p>
<p>There was an eclipse over North America on 2017-08-21 at 18:26:40. It’s possible to predict the next eclipse with similar geometry by calculating the time and date one <a href="https://eclipse.gsfc.nasa.gov/SEsaros/SEsaros.html"><strong>Saros</strong></a> in the future.</p>
<ul>
<li><p>One Saros = 223 Synodic Months</p></li>
<li><p>One Synodic Month = 29d 12h 44m 03s</p></li>
</ul>
<div class="sourceCode" id="cb1269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1269-1"><a href="working-with-dates-and-times-in-r.html#cb1269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Time of North American Eclipse 2017</span></span>
<span id="cb1269-2"><a href="working-with-dates-and-times-in-r.html#cb1269-2" aria-hidden="true" tabindex="-1"></a>eclipse_2017 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2017-08-21 18:26:40&quot;</span>)</span>
<span id="cb1269-3"><a href="working-with-dates-and-times-in-r.html#cb1269-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1269-4"><a href="working-with-dates-and-times-in-r.html#cb1269-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Duration of 29 days, 12 hours, 44 mins and 3 secs</span></span>
<span id="cb1269-5"><a href="working-with-dates-and-times-in-r.html#cb1269-5" aria-hidden="true" tabindex="-1"></a>synodic <span class="ot">&lt;-</span> <span class="fu">ddays</span>(<span class="dv">29</span>) <span class="sc">+</span> <span class="fu">dhours</span>(<span class="dv">12</span>) <span class="sc">+</span> <span class="fu">dminutes</span>(<span class="dv">44</span>) <span class="sc">+</span> <span class="fu">dseconds</span>(<span class="dv">3</span>)</span>
<span id="cb1269-6"><a href="working-with-dates-and-times-in-r.html#cb1269-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1269-7"><a href="working-with-dates-and-times-in-r.html#cb1269-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 223 synodic months</span></span>
<span id="cb1269-8"><a href="working-with-dates-and-times-in-r.html#cb1269-8" aria-hidden="true" tabindex="-1"></a>saros <span class="ot">&lt;-</span> <span class="dv">223</span> <span class="sc">*</span> synodic</span>
<span id="cb1269-9"><a href="working-with-dates-and-times-in-r.html#cb1269-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1269-10"><a href="working-with-dates-and-times-in-r.html#cb1269-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Add saros to eclipse_2017</span></span>
<span id="cb1269-11"><a href="working-with-dates-and-times-in-r.html#cb1269-11" aria-hidden="true" tabindex="-1"></a>eclipse_2017 <span class="sc">+</span> saros</span></code></pre></div>
<pre><code>## [1] &quot;2035-09-02 02:09:49 UTC&quot;</code></pre>
</div>
<div id="generate-sequences-of-datetimes" class="section level4 hasAnchor" number="11.3.2.3">
<h4><span class="header-section-number">11.3.2.3</span> Generate sequences of datetimes<a href="working-with-dates-and-times-in-r.html#generate-sequences-of-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>By combining addition and multiplication with sequences you can generate sequences of datetimes.</p>
<div class="sourceCode" id="cb1271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1271-1"><a href="working-with-dates-and-times-in-r.html#cb1271-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">*</span> <span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;1d 0H 0M 0S&quot;  &quot;2d 0H 0M 0S&quot;  &quot;3d 0H 0M 0S&quot;  &quot;4d 0H 0M 0S&quot; 
##  [5] &quot;5d 0H 0M 0S&quot;  &quot;6d 0H 0M 0S&quot;  &quot;7d 0H 0M 0S&quot;  &quot;8d 0H 0M 0S&quot; 
##  [9] &quot;9d 0H 0M 0S&quot;  &quot;10d 0H 0M 0S&quot;</code></pre>
<p>Then by adding this sequence to a specific datetime, you can construct a sequence of datetimes from 1 day up to 10 days into the future.</p>
<div class="sourceCode" id="cb1273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1273-1"><a href="working-with-dates-and-times-in-r.html#cb1273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>() <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">*</span> <span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2024-01-15&quot; &quot;2024-01-16&quot; &quot;2024-01-17&quot; &quot;2024-01-18&quot; &quot;2024-01-19&quot;
##  [6] &quot;2024-01-20&quot; &quot;2024-01-21&quot; &quot;2024-01-22&quot; &quot;2024-01-23&quot; &quot;2024-01-24&quot;</code></pre>
<p>You had a meeting this morning at 8am and you’d like to have that meeting at the same time and day every two weeks for a year. Generate the meeting times.</p>
<div class="sourceCode" id="cb1275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1275-1"><a href="working-with-dates-and-times-in-r.html#cb1275-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a period of 8 hours to today</span></span>
<span id="cb1275-2"><a href="working-with-dates-and-times-in-r.html#cb1275-2" aria-hidden="true" tabindex="-1"></a>today_8am <span class="ot">&lt;-</span> <span class="fu">today</span>() <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">8</span>); today_8am</span></code></pre></div>
<pre><code>## [1] &quot;2024-01-14 08:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1277-1"><a href="working-with-dates-and-times-in-r.html#cb1277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sequence of two weeks from 1 to 26</span></span>
<span id="cb1277-2"><a href="working-with-dates-and-times-in-r.html#cb1277-2" aria-hidden="true" tabindex="-1"></a>every_two_weeks <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">26</span> <span class="sc">*</span> <span class="fu">weeks</span>(<span class="dv">2</span>); every_two_weeks</span></code></pre></div>
<pre><code>##  [1] &quot;14d 0H 0M 0S&quot;  &quot;28d 0H 0M 0S&quot;  &quot;42d 0H 0M 0S&quot;  &quot;56d 0H 0M 0S&quot; 
##  [5] &quot;70d 0H 0M 0S&quot;  &quot;84d 0H 0M 0S&quot;  &quot;98d 0H 0M 0S&quot;  &quot;112d 0H 0M 0S&quot;
##  [9] &quot;126d 0H 0M 0S&quot; &quot;140d 0H 0M 0S&quot; &quot;154d 0H 0M 0S&quot; &quot;168d 0H 0M 0S&quot;
## [13] &quot;182d 0H 0M 0S&quot; &quot;196d 0H 0M 0S&quot; &quot;210d 0H 0M 0S&quot; &quot;224d 0H 0M 0S&quot;
## [17] &quot;238d 0H 0M 0S&quot; &quot;252d 0H 0M 0S&quot; &quot;266d 0H 0M 0S&quot; &quot;280d 0H 0M 0S&quot;
## [21] &quot;294d 0H 0M 0S&quot; &quot;308d 0H 0M 0S&quot; &quot;322d 0H 0M 0S&quot; &quot;336d 0H 0M 0S&quot;
## [25] &quot;350d 0H 0M 0S&quot; &quot;364d 0H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb1279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1279-1"><a href="working-with-dates-and-times-in-r.html#cb1279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create datetime for every two weeks for a year</span></span>
<span id="cb1279-2"><a href="working-with-dates-and-times-in-r.html#cb1279-2" aria-hidden="true" tabindex="-1"></a>today_8am <span class="sc">+</span> every_two_weeks</span></code></pre></div>
<pre><code>##  [1] &quot;2024-01-28 08:00:00 UTC&quot; &quot;2024-02-11 08:00:00 UTC&quot;
##  [3] &quot;2024-02-25 08:00:00 UTC&quot; &quot;2024-03-10 08:00:00 UTC&quot;
##  [5] &quot;2024-03-24 08:00:00 UTC&quot; &quot;2024-04-07 08:00:00 UTC&quot;
##  [7] &quot;2024-04-21 08:00:00 UTC&quot; &quot;2024-05-05 08:00:00 UTC&quot;
##  [9] &quot;2024-05-19 08:00:00 UTC&quot; &quot;2024-06-02 08:00:00 UTC&quot;
## [11] &quot;2024-06-16 08:00:00 UTC&quot; &quot;2024-06-30 08:00:00 UTC&quot;
## [13] &quot;2024-07-14 08:00:00 UTC&quot; &quot;2024-07-28 08:00:00 UTC&quot;
## [15] &quot;2024-08-11 08:00:00 UTC&quot; &quot;2024-08-25 08:00:00 UTC&quot;
## [17] &quot;2024-09-08 08:00:00 UTC&quot; &quot;2024-09-22 08:00:00 UTC&quot;
## [19] &quot;2024-10-06 08:00:00 UTC&quot; &quot;2024-10-20 08:00:00 UTC&quot;
## [21] &quot;2024-11-03 08:00:00 UTC&quot; &quot;2024-11-17 08:00:00 UTC&quot;
## [23] &quot;2024-12-01 08:00:00 UTC&quot; &quot;2024-12-15 08:00:00 UTC&quot;
## [25] &quot;2024-12-29 08:00:00 UTC&quot; &quot;2025-01-12 08:00:00 UTC&quot;</code></pre>
</div>
<div id="tricky-thing-about-months" class="section level4 hasAnchor" number="11.3.2.4">
<h4><span class="header-section-number">11.3.2.4</span> Tricky thing about months<a href="working-with-dates-and-times-in-r.html#tricky-thing-about-months" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In general <code>lubridate</code> returns the same <em>day of the month</em> in the next month, but since the 31st of February, April, June, September, November don’t exist, <code>lubridate</code> returns <code>NA</code>s.</p>
<div class="sourceCode" id="cb1281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1281-1"><a href="working-with-dates-and-times-in-r.html#cb1281-1" aria-hidden="true" tabindex="-1"></a>jan_31 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2023-01-31&quot;</span>)</span>
<span id="cb1281-2"><a href="working-with-dates-and-times-in-r.html#cb1281-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1281-3"><a href="working-with-dates-and-times-in-r.html#cb1281-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A sequence of 1 to 12 periods of 1 month</span></span>
<span id="cb1281-4"><a href="working-with-dates-and-times-in-r.html#cb1281-4" aria-hidden="true" tabindex="-1"></a><span class="co"># output: &quot;1m 0d 0H 0M 0S&quot;, &quot;2m 0d 0H 0M 0S&quot;...&quot;12m 0d 0H 0M 0S&quot;</span></span>
<span id="cb1281-5"><a href="working-with-dates-and-times-in-r.html#cb1281-5" aria-hidden="true" tabindex="-1"></a>month_seq <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span> <span class="sc">*</span> <span class="fu">months</span>(<span class="dv">1</span>)</span>
<span id="cb1281-6"><a href="working-with-dates-and-times-in-r.html#cb1281-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1281-7"><a href="working-with-dates-and-times-in-r.html#cb1281-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add 1 to 12 months to jan_31</span></span>
<span id="cb1281-8"><a href="working-with-dates-and-times-in-r.html#cb1281-8" aria-hidden="true" tabindex="-1"></a>jan_31 <span class="sc">+</span> month_seq</span></code></pre></div>
<pre><code>##  [1] NA           &quot;2023-03-31&quot; NA           &quot;2023-05-31&quot; NA          
##  [6] &quot;2023-07-31&quot; &quot;2023-08-31&quot; NA           &quot;2023-10-31&quot; NA          
## [11] &quot;2023-12-31&quot; &quot;2024-01-31&quot;</code></pre>
<p>Alternative addition and subtraction operators: <code>%m+%</code> &amp; <code>%m-%</code></p>
<p>Rather than returning an <code>NA</code> for a non-existent date, they roll back to the last existing date.</p>
<div class="sourceCode" id="cb1283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1283-1"><a href="working-with-dates-and-times-in-r.html#cb1283-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace + with %m+%</span></span>
<span id="cb1283-2"><a href="working-with-dates-and-times-in-r.html#cb1283-2" aria-hidden="true" tabindex="-1"></a>jan_31 <span class="sc">%m+%</span> month_seq</span></code></pre></div>
<pre><code>##  [1] &quot;2023-02-28&quot; &quot;2023-03-31&quot; &quot;2023-04-30&quot; &quot;2023-05-31&quot; &quot;2023-06-30&quot;
##  [6] &quot;2023-07-31&quot; &quot;2023-08-31&quot; &quot;2023-09-30&quot; &quot;2023-10-31&quot; &quot;2023-11-30&quot;
## [11] &quot;2023-12-31&quot; &quot;2024-01-31&quot;</code></pre>
<div class="sourceCode" id="cb1285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1285-1"><a href="working-with-dates-and-times-in-r.html#cb1285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace + with %m-%</span></span>
<span id="cb1285-2"><a href="working-with-dates-and-times-in-r.html#cb1285-2" aria-hidden="true" tabindex="-1"></a>jan_31 <span class="sc">%m-%</span> month_seq</span></code></pre></div>
<pre><code>##  [1] &quot;2022-12-31&quot; &quot;2022-11-30&quot; &quot;2022-10-31&quot; &quot;2022-09-30&quot; &quot;2022-08-31&quot;
##  [6] &quot;2022-07-31&quot; &quot;2022-06-30&quot; &quot;2022-05-31&quot; &quot;2022-04-30&quot; &quot;2022-03-31&quot;
## [11] &quot;2022-02-28&quot; &quot;2022-01-31&quot;</code></pre>
<p>Use <code>add_with_rollback(x, months(), roll_to_first = TRUE)</code> to rollback to the first day of the month instead of the last day of the previous month.</p>
<div class="sourceCode" id="cb1287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1287-1"><a href="working-with-dates-and-times-in-r.html#cb1287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add_with_rollback</span>(jan_31, <span class="fu">months</span>(<span class="dv">1</span>), <span class="at">roll_to_first =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2023-03-01&quot;</code></pre>
</div>
</div>
<div id="intervals" class="section level3 hasAnchor" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> Intervals<a href="working-with-dates-and-times-in-r.html#intervals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Rather than representing an amount of time like a period or duration, interval have a specific start and end datetime.</p>
<p><strong>Creating intervals</strong></p>
<ul>
<li><p><code>datetime1 %--% datetime2</code></p></li>
<li><p><code>interval(datetime1, datetime2)</code></p></li>
</ul>
<p><strong>Operating on an interval</strong></p>
<ul>
<li><p><code>int_start()</code> : extract the start of the interval.</p></li>
<li><p><code>int_end()</code> : extract the end of the interval.</p></li>
<li><p><code>int_length()</code> : finds the length of the interval in seconds.</p></li>
<li><p><code>as.period()</code></p></li>
<li><p><code>as.duration()</code></p></li>
</ul>
<p><strong>Comparing intervals</strong></p>
<ul>
<li><p>date <code>%within%</code> interval : return <code>TRUE</code> if the datetime is inside the interval, vice versa.</p></li>
<li><p><code>int_overlaps(int_1, int_2)</code> : return <code>TRUE</code> if there are any times that are inside both intervals.</p></li>
</ul>
<div id="examining-intervals" class="section level4 hasAnchor" number="11.3.3.1">
<h4><span class="header-section-number">11.3.3.1</span> Examining intervals<a href="working-with-dates-and-times-in-r.html#examining-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Practice by exploring the reigns of kings and queens of Britain (and its historical dominions).</p>
<div class="sourceCode" id="cb1289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1289-1"><a href="working-with-dates-and-times-in-r.html#cb1289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1289-2"><a href="working-with-dates-and-times-in-r.html#cb1289-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1289-3"><a href="working-with-dates-and-times-in-r.html#cb1289-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dataset</span></span>
<span id="cb1289-4"><a href="working-with-dates-and-times-in-r.html#cb1289-4" aria-hidden="true" tabindex="-1"></a>monarchs <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/monarchs.xlsx&quot;</span>)</span>
<span id="cb1289-5"><a href="working-with-dates-and-times-in-r.html#cb1289-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(monarchs)</span></code></pre></div>
<pre><code>## tibble [131 × 4] (S3: tbl_df/tbl/data.frame)
##  $ name    : chr [1:131] &quot;Elizabeth II&quot; &quot;Victoria&quot; &quot;George V&quot; &quot;George III&quot; ...
##  $ from    : chr [1:131] &quot;1952-02-06 00:00:00&quot; &quot;1837-06-20 00:00:00&quot; &quot;1910-05-06 00:00:00&quot; &quot;1801-01-01 00:00:00&quot; ...
##  $ to      : chr [1:131] &quot;2022-07-04 00:00:00&quot; &quot;1901-01-22 00:00:00&quot; &quot;1936-01-20 00:00:00&quot; &quot;1820-01-29 00:00:00&quot; ...
##  $ dominion: chr [1:131] &quot;United Ki&quot; &quot;United Ki&quot; &quot;United Ki&quot; &quot;United Ki&quot; ...</code></pre>
<div class="sourceCode" id="cb1291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1291-1"><a href="working-with-dates-and-times-in-r.html#cb1291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert data type</span></span>
<span id="cb1291-2"><a href="working-with-dates-and-times-in-r.html#cb1291-2" aria-hidden="true" tabindex="-1"></a>monarchs <span class="ot">&lt;-</span> monarchs <span class="sc">%&gt;%</span></span>
<span id="cb1291-3"><a href="working-with-dates-and-times-in-r.html#cb1291-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">as.POSIXct</span>(from, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>),</span>
<span id="cb1291-4"><a href="working-with-dates-and-times-in-r.html#cb1291-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">to =</span> <span class="fu">as.POSIXct</span>(to, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>))</span>
<span id="cb1291-5"><a href="working-with-dates-and-times-in-r.html#cb1291-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1291-6"><a href="working-with-dates-and-times-in-r.html#cb1291-6" aria-hidden="true" tabindex="-1"></a>monarchs</span></code></pre></div>
<div class="sourceCode" id="cb1292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1292-1"><a href="working-with-dates-and-times-in-r.html#cb1292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interval for reign</span></span>
<span id="cb1292-2"><a href="working-with-dates-and-times-in-r.html#cb1292-2" aria-hidden="true" tabindex="-1"></a>monarchs <span class="ot">&lt;-</span> monarchs <span class="sc">%&gt;%</span></span>
<span id="cb1292-3"><a href="working-with-dates-and-times-in-r.html#cb1292-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reign =</span> from <span class="sc">%--%</span> to) </span>
<span id="cb1292-4"><a href="working-with-dates-and-times-in-r.html#cb1292-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1292-5"><a href="working-with-dates-and-times-in-r.html#cb1292-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the length of reign, and arrange</span></span>
<span id="cb1292-6"><a href="working-with-dates-and-times-in-r.html#cb1292-6" aria-hidden="true" tabindex="-1"></a>monarchs <span class="sc">%&gt;%</span></span>
<span id="cb1292-7"><a href="working-with-dates-and-times-in-r.html#cb1292-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">length =</span> <span class="fu">int_length</span>(reign)) <span class="sc">%&gt;%</span> </span>
<span id="cb1292-8"><a href="working-with-dates-and-times-in-r.html#cb1292-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(length)) <span class="sc">%&gt;%</span></span>
<span id="cb1292-9"><a href="working-with-dates-and-times-in-r.html#cb1292-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, length, dominion)</span></code></pre></div>
</div>
<div id="comparing-intervals-and-datetimes" class="section level4 hasAnchor" number="11.3.3.2">
<h4><span class="header-section-number">11.3.3.2</span> Comparing intervals and datetimes<a href="working-with-dates-and-times-in-r.html#comparing-intervals-and-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A common task with intervals is to ask if a certain time is inside the interval or whether it overlaps with another interval.</p>
<p>The operator <code>%within%</code> tests if the datetime (or interval) on the left hand side is within the interval of the right hand side.</p>
<p><code>int_overlaps()</code> performs a similar test, but will return true if two intervals overlap at all.</p>
<p><code>halleys</code> is a data set describing appearances of Halley’s comet.</p>
<p>Practice to find out which monarchs saw Halley’s comet around 1066.</p>
<div class="sourceCode" id="cb1293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1293-1"><a href="working-with-dates-and-times-in-r.html#cb1293-1" aria-hidden="true" tabindex="-1"></a>halleys <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/halleys.xlsx&quot;</span>)</span>
<span id="cb1293-2"><a href="working-with-dates-and-times-in-r.html#cb1293-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(halleys)</span></code></pre></div>
<pre><code>## tibble [27 × 6] (S3: tbl_df/tbl/data.frame)
##  $ designation    : chr [1:27] &quot;1P/66 B1, 66&quot; &quot;1P/141 F1, 141&quot; &quot;1P/218 H1, 218&quot; &quot;1P/295 J1, 295&quot; ...
##  $ year           : num [1:27] 66 141 218 295 374 451 530 607 684 760 ...
##  $ perihelion_date: chr [1:27] &quot;1966-01-26&quot; &quot;141-03-25&quot; &quot;218-04-06&quot; &quot;295-04-07&quot; ...
##  $ start_date     : chr [1:27] &quot;1966-01-26&quot; &quot;141-03-22&quot; &quot;218-04-06&quot; &quot;295-04-07&quot; ...
##  $ end_date       : chr [1:27] &quot;1966-01-26&quot; &quot;141-03-25&quot; &quot;218-05-17&quot; &quot;295-04-20&quot; ...
##  $ distance       : chr [1:27] &quot;NA&quot; &quot;NA&quot; &quot;NA&quot; &quot;NA&quot; ...</code></pre>
<p><code>perihelion_date</code> is the date the Comet is closest to the Sun.</p>
<p><code>start_date</code> and <code>end_date</code> are the range of dates the comet is visible from Earth.</p>
<div class="sourceCode" id="cb1295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1295-1"><a href="working-with-dates-and-times-in-r.html#cb1295-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert data type</span></span>
<span id="cb1295-2"><a href="working-with-dates-and-times-in-r.html#cb1295-2" aria-hidden="true" tabindex="-1"></a>halleys <span class="ot">&lt;-</span> halleys <span class="sc">%&gt;%</span></span>
<span id="cb1295-3"><a href="working-with-dates-and-times-in-r.html#cb1295-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">perihelion_date =</span> <span class="fu">as.Date</span>(perihelion_date, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>),</span>
<span id="cb1295-4"><a href="working-with-dates-and-times-in-r.html#cb1295-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">start_date =</span> <span class="fu">as.Date</span>(start_date, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>),</span>
<span id="cb1295-5"><a href="working-with-dates-and-times-in-r.html#cb1295-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">end_date =</span> <span class="fu">as.Date</span>(end_date, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>))</span>
<span id="cb1295-6"><a href="working-with-dates-and-times-in-r.html#cb1295-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1295-7"><a href="working-with-dates-and-times-in-r.html#cb1295-7" aria-hidden="true" tabindex="-1"></a>halleys</span></code></pre></div>
<p>Work with one appearance.</p>
<div class="sourceCode" id="cb1296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1296-1"><a href="working-with-dates-and-times-in-r.html#cb1296-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New column for interval from start to end date</span></span>
<span id="cb1296-2"><a href="working-with-dates-and-times-in-r.html#cb1296-2" aria-hidden="true" tabindex="-1"></a>halleys <span class="ot">&lt;-</span> halleys <span class="sc">%&gt;%</span> </span>
<span id="cb1296-3"><a href="working-with-dates-and-times-in-r.html#cb1296-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">visible =</span> start_date <span class="sc">%--%</span> end_date)</span>
<span id="cb1296-4"><a href="working-with-dates-and-times-in-r.html#cb1296-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1296-5"><a href="working-with-dates-and-times-in-r.html#cb1296-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The visitation of 1066</span></span>
<span id="cb1296-6"><a href="working-with-dates-and-times-in-r.html#cb1296-6" aria-hidden="true" tabindex="-1"></a>halleys_1066 <span class="ot">&lt;-</span> halleys[<span class="dv">14</span>, ]; halleys_1066</span></code></pre></div>
<div class="sourceCode" id="cb1297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1297-1"><a href="working-with-dates-and-times-in-r.html#cb1297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Monarchs in power on perihelion date</span></span>
<span id="cb1297-2"><a href="working-with-dates-and-times-in-r.html#cb1297-2" aria-hidden="true" tabindex="-1"></a>monarchs <span class="sc">%&gt;%</span> </span>
<span id="cb1297-3"><a href="working-with-dates-and-times-in-r.html#cb1297-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(halleys_1066<span class="sc">$</span>perihelion_date <span class="sc">%within%</span> reign) <span class="sc">%&gt;%</span></span>
<span id="cb1297-4"><a href="working-with-dates-and-times-in-r.html#cb1297-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, from, to, dominion)</span>
<span id="cb1297-5"><a href="working-with-dates-and-times-in-r.html#cb1297-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1297-6"><a href="working-with-dates-and-times-in-r.html#cb1297-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Monarchs whose reign overlaps visible time</span></span>
<span id="cb1297-7"><a href="working-with-dates-and-times-in-r.html#cb1297-7" aria-hidden="true" tabindex="-1"></a>monarchs <span class="sc">%&gt;%</span> </span>
<span id="cb1297-8"><a href="working-with-dates-and-times-in-r.html#cb1297-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">int_overlaps</span>(reign, halleys_1066<span class="sc">$</span>visible)) <span class="sc">%&gt;%</span></span>
<span id="cb1297-9"><a href="working-with-dates-and-times-in-r.html#cb1297-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, from, to, dominion)</span></code></pre></div>
<p>Looks like the Kings of England Edward the Confessor and Harold II would have been able to see the comet.</p>
</div>
<div id="converting-to-durations-and-periods" class="section level4 hasAnchor" number="11.3.3.3">
<h4><span class="header-section-number">11.3.3.3</span> Converting to durations and periods<a href="working-with-dates-and-times-in-r.html#converting-to-durations-and-periods" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Intervals are the most specific way to represent a span of time since they retain information about the exact start and end moments.</p>
<p>They can be converted to periods (<code>as.period()</code>) and durations (<code>as.duration</code>) exactly:</p>
<p>Calculate both the exact number of seconds elapsed between the start and end date, as well as the perceived change in clock time.</p>
<p>Try to get better representations of the length of the monarchs reigns.</p>
<div class="sourceCode" id="cb1298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1298-1"><a href="working-with-dates-and-times-in-r.html#cb1298-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New columns for duration and period</span></span>
<span id="cb1298-2"><a href="working-with-dates-and-times-in-r.html#cb1298-2" aria-hidden="true" tabindex="-1"></a>monarchs <span class="ot">&lt;-</span> monarchs <span class="sc">%&gt;%</span></span>
<span id="cb1298-3"><a href="working-with-dates-and-times-in-r.html#cb1298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1298-4"><a href="working-with-dates-and-times-in-r.html#cb1298-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration =</span> <span class="fu">as.duration</span>(reign),</span>
<span id="cb1298-5"><a href="working-with-dates-and-times-in-r.html#cb1298-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">as.period</span>(reign)) </span>
<span id="cb1298-6"><a href="working-with-dates-and-times-in-r.html#cb1298-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1298-7"><a href="working-with-dates-and-times-in-r.html#cb1298-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine results    </span></span>
<span id="cb1298-8"><a href="working-with-dates-and-times-in-r.html#cb1298-8" aria-hidden="true" tabindex="-1"></a>monarchs <span class="sc">%&gt;%</span></span>
<span id="cb1298-9"><a href="working-with-dates-and-times-in-r.html#cb1298-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, duration, period)</span></code></pre></div>
</div>
</div>
</div>
<div id="problems-in-practice" class="section level2 hasAnchor" number="11.4">
<h2><span class="header-section-number">11.4</span> Problems in practice<a href="working-with-dates-and-times-in-r.html#problems-in-practice" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="time-zones" class="section level3 hasAnchor" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> Time zones<a href="working-with-dates-and-times-in-r.html#time-zones" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>IANA Timezones</strong></p>
<div class="sourceCode" id="cb1299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1299-1"><a href="working-with-dates-and-times-in-r.html#cb1299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">OlsonNames</span>()</span></code></pre></div>
<pre><code>##   [1] &quot;Africa/Abidjan&quot;                   &quot;Africa/Accra&quot;                    
##   [3] &quot;Africa/Addis_Ababa&quot;               &quot;Africa/Algiers&quot;                  
##   [5] &quot;Africa/Asmara&quot;                    &quot;Africa/Asmera&quot;                   
##   [7] &quot;Africa/Bamako&quot;                    &quot;Africa/Bangui&quot;                   
##   [9] &quot;Africa/Banjul&quot;                    &quot;Africa/Bissau&quot;                   
##  [11] &quot;Africa/Blantyre&quot;                  &quot;Africa/Brazzaville&quot;              
##  [13] &quot;Africa/Bujumbura&quot;                 &quot;Africa/Cairo&quot;                    
##  [15] &quot;Africa/Casablanca&quot;                &quot;Africa/Ceuta&quot;                    
##  [17] &quot;Africa/Conakry&quot;                   &quot;Africa/Dakar&quot;                    
##  [19] &quot;Africa/Dar_es_Salaam&quot;             &quot;Africa/Djibouti&quot;                 
##  [21] &quot;Africa/Douala&quot;                    &quot;Africa/El_Aaiun&quot;                 
##  [23] &quot;Africa/Freetown&quot;                  &quot;Africa/Gaborone&quot;                 
##  [25] &quot;Africa/Harare&quot;                    &quot;Africa/Johannesburg&quot;             
##  [27] &quot;Africa/Juba&quot;                      &quot;Africa/Kampala&quot;                  
##  [29] &quot;Africa/Khartoum&quot;                  &quot;Africa/Kigali&quot;                   
##  [31] &quot;Africa/Kinshasa&quot;                  &quot;Africa/Lagos&quot;                    
##  [33] &quot;Africa/Libreville&quot;                &quot;Africa/Lome&quot;                     
##  [35] &quot;Africa/Luanda&quot;                    &quot;Africa/Lubumbashi&quot;               
##  [37] &quot;Africa/Lusaka&quot;                    &quot;Africa/Malabo&quot;                   
##  [39] &quot;Africa/Maputo&quot;                    &quot;Africa/Maseru&quot;                   
##  [41] &quot;Africa/Mbabane&quot;                   &quot;Africa/Mogadishu&quot;                
##  [43] &quot;Africa/Monrovia&quot;                  &quot;Africa/Nairobi&quot;                  
##  [45] &quot;Africa/Ndjamena&quot;                  &quot;Africa/Niamey&quot;                   
##  [47] &quot;Africa/Nouakchott&quot;                &quot;Africa/Ouagadougou&quot;              
##  [49] &quot;Africa/Porto-Novo&quot;                &quot;Africa/Sao_Tome&quot;                 
##  [51] &quot;Africa/Timbuktu&quot;                  &quot;Africa/Tripoli&quot;                  
##  [53] &quot;Africa/Tunis&quot;                     &quot;Africa/Windhoek&quot;                 
##  [55] &quot;America/Adak&quot;                     &quot;America/Anchorage&quot;               
##  [57] &quot;America/Anguilla&quot;                 &quot;America/Antigua&quot;                 
##  [59] &quot;America/Araguaina&quot;                &quot;America/Argentina/Buenos_Aires&quot;  
##  [61] &quot;America/Argentina/Catamarca&quot;      &quot;America/Argentina/ComodRivadavia&quot;
##  [63] &quot;America/Argentina/Cordoba&quot;        &quot;America/Argentina/Jujuy&quot;         
##  [65] &quot;America/Argentina/La_Rioja&quot;       &quot;America/Argentina/Mendoza&quot;       
##  [67] &quot;America/Argentina/Rio_Gallegos&quot;   &quot;America/Argentina/Salta&quot;         
##  [69] &quot;America/Argentina/San_Juan&quot;       &quot;America/Argentina/San_Luis&quot;      
##  [71] &quot;America/Argentina/Tucuman&quot;        &quot;America/Argentina/Ushuaia&quot;       
##  [73] &quot;America/Aruba&quot;                    &quot;America/Asuncion&quot;                
##  [75] &quot;America/Atikokan&quot;                 &quot;America/Atka&quot;                    
##  [77] &quot;America/Bahia&quot;                    &quot;America/Bahia_Banderas&quot;          
##  [79] &quot;America/Barbados&quot;                 &quot;America/Belem&quot;                   
##  [81] &quot;America/Belize&quot;                   &quot;America/Blanc-Sablon&quot;            
##  [83] &quot;America/Boa_Vista&quot;                &quot;America/Bogota&quot;                  
##  [85] &quot;America/Boise&quot;                    &quot;America/Buenos_Aires&quot;            
##  [87] &quot;America/Cambridge_Bay&quot;            &quot;America/Campo_Grande&quot;            
##  [89] &quot;America/Cancun&quot;                   &quot;America/Caracas&quot;                 
##  [91] &quot;America/Catamarca&quot;                &quot;America/Cayenne&quot;                 
##  [93] &quot;America/Cayman&quot;                   &quot;America/Chicago&quot;                 
##  [95] &quot;America/Chihuahua&quot;                &quot;America/Ciudad_Juarez&quot;           
##  [97] &quot;America/Coral_Harbour&quot;            &quot;America/Cordoba&quot;                 
##  [99] &quot;America/Costa_Rica&quot;               &quot;America/Creston&quot;                 
## [101] &quot;America/Cuiaba&quot;                   &quot;America/Curacao&quot;                 
## [103] &quot;America/Danmarkshavn&quot;             &quot;America/Dawson&quot;                  
## [105] &quot;America/Dawson_Creek&quot;             &quot;America/Denver&quot;                  
## [107] &quot;America/Detroit&quot;                  &quot;America/Dominica&quot;                
## [109] &quot;America/Edmonton&quot;                 &quot;America/Eirunepe&quot;                
## [111] &quot;America/El_Salvador&quot;              &quot;America/Ensenada&quot;                
## [113] &quot;America/Fort_Nelson&quot;              &quot;America/Fort_Wayne&quot;              
## [115] &quot;America/Fortaleza&quot;                &quot;America/Glace_Bay&quot;               
## [117] &quot;America/Godthab&quot;                  &quot;America/Goose_Bay&quot;               
## [119] &quot;America/Grand_Turk&quot;               &quot;America/Grenada&quot;                 
## [121] &quot;America/Guadeloupe&quot;               &quot;America/Guatemala&quot;               
## [123] &quot;America/Guayaquil&quot;                &quot;America/Guyana&quot;                  
## [125] &quot;America/Halifax&quot;                  &quot;America/Havana&quot;                  
## [127] &quot;America/Hermosillo&quot;               &quot;America/Indiana/Indianapolis&quot;    
## [129] &quot;America/Indiana/Knox&quot;             &quot;America/Indiana/Marengo&quot;         
## [131] &quot;America/Indiana/Petersburg&quot;       &quot;America/Indiana/Tell_City&quot;       
## [133] &quot;America/Indiana/Vevay&quot;            &quot;America/Indiana/Vincennes&quot;       
## [135] &quot;America/Indiana/Winamac&quot;          &quot;America/Indianapolis&quot;            
## [137] &quot;America/Inuvik&quot;                   &quot;America/Iqaluit&quot;                 
## [139] &quot;America/Jamaica&quot;                  &quot;America/Jujuy&quot;                   
## [141] &quot;America/Juneau&quot;                   &quot;America/Kentucky/Louisville&quot;     
## [143] &quot;America/Kentucky/Monticello&quot;      &quot;America/Knox_IN&quot;                 
## [145] &quot;America/Kralendijk&quot;               &quot;America/La_Paz&quot;                  
## [147] &quot;America/Lima&quot;                     &quot;America/Los_Angeles&quot;             
## [149] &quot;America/Louisville&quot;               &quot;America/Lower_Princes&quot;           
## [151] &quot;America/Maceio&quot;                   &quot;America/Managua&quot;                 
## [153] &quot;America/Manaus&quot;                   &quot;America/Marigot&quot;                 
## [155] &quot;America/Martinique&quot;               &quot;America/Matamoros&quot;               
## [157] &quot;America/Mazatlan&quot;                 &quot;America/Mendoza&quot;                 
## [159] &quot;America/Menominee&quot;                &quot;America/Merida&quot;                  
## [161] &quot;America/Metlakatla&quot;               &quot;America/Mexico_City&quot;             
## [163] &quot;America/Miquelon&quot;                 &quot;America/Moncton&quot;                 
## [165] &quot;America/Monterrey&quot;                &quot;America/Montevideo&quot;              
## [167] &quot;America/Montreal&quot;                 &quot;America/Montserrat&quot;              
## [169] &quot;America/Nassau&quot;                   &quot;America/New_York&quot;                
## [171] &quot;America/Nipigon&quot;                  &quot;America/Nome&quot;                    
## [173] &quot;America/Noronha&quot;                  &quot;America/North_Dakota/Beulah&quot;     
## [175] &quot;America/North_Dakota/Center&quot;      &quot;America/North_Dakota/New_Salem&quot;  
## [177] &quot;America/Nuuk&quot;                     &quot;America/Ojinaga&quot;                 
## [179] &quot;America/Panama&quot;                   &quot;America/Pangnirtung&quot;             
## [181] &quot;America/Paramaribo&quot;               &quot;America/Phoenix&quot;                 
## [183] &quot;America/Port-au-Prince&quot;           &quot;America/Port_of_Spain&quot;           
## [185] &quot;America/Porto_Acre&quot;               &quot;America/Porto_Velho&quot;             
## [187] &quot;America/Puerto_Rico&quot;              &quot;America/Punta_Arenas&quot;            
## [189] &quot;America/Rainy_River&quot;              &quot;America/Rankin_Inlet&quot;            
## [191] &quot;America/Recife&quot;                   &quot;America/Regina&quot;                  
## [193] &quot;America/Resolute&quot;                 &quot;America/Rio_Branco&quot;              
## [195] &quot;America/Rosario&quot;                  &quot;America/Santa_Isabel&quot;            
## [197] &quot;America/Santarem&quot;                 &quot;America/Santiago&quot;                
## [199] &quot;America/Santo_Domingo&quot;            &quot;America/Sao_Paulo&quot;               
## [201] &quot;America/Scoresbysund&quot;             &quot;America/Shiprock&quot;                
## [203] &quot;America/Sitka&quot;                    &quot;America/St_Barthelemy&quot;           
## [205] &quot;America/St_Johns&quot;                 &quot;America/St_Kitts&quot;                
## [207] &quot;America/St_Lucia&quot;                 &quot;America/St_Thomas&quot;               
## [209] &quot;America/St_Vincent&quot;               &quot;America/Swift_Current&quot;           
## [211] &quot;America/Tegucigalpa&quot;              &quot;America/Thule&quot;                   
## [213] &quot;America/Thunder_Bay&quot;              &quot;America/Tijuana&quot;                 
## [215] &quot;America/Toronto&quot;                  &quot;America/Tortola&quot;                 
## [217] &quot;America/Vancouver&quot;                &quot;America/Virgin&quot;                  
## [219] &quot;America/Whitehorse&quot;               &quot;America/Winnipeg&quot;                
## [221] &quot;America/Yakutat&quot;                  &quot;America/Yellowknife&quot;             
## [223] &quot;Antarctica/Casey&quot;                 &quot;Antarctica/Davis&quot;                
## [225] &quot;Antarctica/DumontDUrville&quot;        &quot;Antarctica/Macquarie&quot;            
## [227] &quot;Antarctica/Mawson&quot;                &quot;Antarctica/McMurdo&quot;              
## [229] &quot;Antarctica/Palmer&quot;                &quot;Antarctica/Rothera&quot;              
## [231] &quot;Antarctica/South_Pole&quot;            &quot;Antarctica/Syowa&quot;                
## [233] &quot;Antarctica/Troll&quot;                 &quot;Antarctica/Vostok&quot;               
## [235] &quot;Arctic/Longyearbyen&quot;              &quot;Asia/Aden&quot;                       
## [237] &quot;Asia/Almaty&quot;                      &quot;Asia/Amman&quot;                      
## [239] &quot;Asia/Anadyr&quot;                      &quot;Asia/Aqtau&quot;                      
## [241] &quot;Asia/Aqtobe&quot;                      &quot;Asia/Ashgabat&quot;                   
## [243] &quot;Asia/Ashkhabad&quot;                   &quot;Asia/Atyrau&quot;                     
## [245] &quot;Asia/Baghdad&quot;                     &quot;Asia/Bahrain&quot;                    
## [247] &quot;Asia/Baku&quot;                        &quot;Asia/Bangkok&quot;                    
## [249] &quot;Asia/Barnaul&quot;                     &quot;Asia/Beirut&quot;                     
## [251] &quot;Asia/Bishkek&quot;                     &quot;Asia/Brunei&quot;                     
## [253] &quot;Asia/Calcutta&quot;                    &quot;Asia/Chita&quot;                      
## [255] &quot;Asia/Choibalsan&quot;                  &quot;Asia/Chongqing&quot;                  
## [257] &quot;Asia/Chungking&quot;                   &quot;Asia/Colombo&quot;                    
## [259] &quot;Asia/Dacca&quot;                       &quot;Asia/Damascus&quot;                   
## [261] &quot;Asia/Dhaka&quot;                       &quot;Asia/Dili&quot;                       
## [263] &quot;Asia/Dubai&quot;                       &quot;Asia/Dushanbe&quot;                   
## [265] &quot;Asia/Famagusta&quot;                   &quot;Asia/Gaza&quot;                       
## [267] &quot;Asia/Harbin&quot;                      &quot;Asia/Hebron&quot;                     
## [269] &quot;Asia/Ho_Chi_Minh&quot;                 &quot;Asia/Hong_Kong&quot;                  
## [271] &quot;Asia/Hovd&quot;                        &quot;Asia/Irkutsk&quot;                    
## [273] &quot;Asia/Istanbul&quot;                    &quot;Asia/Jakarta&quot;                    
## [275] &quot;Asia/Jayapura&quot;                    &quot;Asia/Jerusalem&quot;                  
## [277] &quot;Asia/Kabul&quot;                       &quot;Asia/Kamchatka&quot;                  
## [279] &quot;Asia/Karachi&quot;                     &quot;Asia/Kashgar&quot;                    
## [281] &quot;Asia/Kathmandu&quot;                   &quot;Asia/Katmandu&quot;                   
## [283] &quot;Asia/Khandyga&quot;                    &quot;Asia/Kolkata&quot;                    
## [285] &quot;Asia/Krasnoyarsk&quot;                 &quot;Asia/Kuala_Lumpur&quot;               
## [287] &quot;Asia/Kuching&quot;                     &quot;Asia/Kuwait&quot;                     
## [289] &quot;Asia/Macao&quot;                       &quot;Asia/Macau&quot;                      
## [291] &quot;Asia/Magadan&quot;                     &quot;Asia/Makassar&quot;                   
## [293] &quot;Asia/Manila&quot;                      &quot;Asia/Muscat&quot;                     
## [295] &quot;Asia/Nicosia&quot;                     &quot;Asia/Novokuznetsk&quot;               
## [297] &quot;Asia/Novosibirsk&quot;                 &quot;Asia/Omsk&quot;                       
## [299] &quot;Asia/Oral&quot;                        &quot;Asia/Phnom_Penh&quot;                 
## [301] &quot;Asia/Pontianak&quot;                   &quot;Asia/Pyongyang&quot;                  
## [303] &quot;Asia/Qatar&quot;                       &quot;Asia/Qostanay&quot;                   
## [305] &quot;Asia/Qyzylorda&quot;                   &quot;Asia/Rangoon&quot;                    
## [307] &quot;Asia/Riyadh&quot;                      &quot;Asia/Saigon&quot;                     
## [309] &quot;Asia/Sakhalin&quot;                    &quot;Asia/Samarkand&quot;                  
## [311] &quot;Asia/Seoul&quot;                       &quot;Asia/Shanghai&quot;                   
## [313] &quot;Asia/Singapore&quot;                   &quot;Asia/Srednekolymsk&quot;              
## [315] &quot;Asia/Taipei&quot;                      &quot;Asia/Tashkent&quot;                   
## [317] &quot;Asia/Tbilisi&quot;                     &quot;Asia/Tehran&quot;                     
## [319] &quot;Asia/Tel_Aviv&quot;                    &quot;Asia/Thimbu&quot;                     
## [321] &quot;Asia/Thimphu&quot;                     &quot;Asia/Tokyo&quot;                      
## [323] &quot;Asia/Tomsk&quot;                       &quot;Asia/Ujung_Pandang&quot;              
## [325] &quot;Asia/Ulaanbaatar&quot;                 &quot;Asia/Ulan_Bator&quot;                 
## [327] &quot;Asia/Urumqi&quot;                      &quot;Asia/Ust-Nera&quot;                   
## [329] &quot;Asia/Vientiane&quot;                   &quot;Asia/Vladivostok&quot;                
## [331] &quot;Asia/Yakutsk&quot;                     &quot;Asia/Yangon&quot;                     
## [333] &quot;Asia/Yekaterinburg&quot;               &quot;Asia/Yerevan&quot;                    
## [335] &quot;Atlantic/Azores&quot;                  &quot;Atlantic/Bermuda&quot;                
## [337] &quot;Atlantic/Canary&quot;                  &quot;Atlantic/Cape_Verde&quot;             
## [339] &quot;Atlantic/Faeroe&quot;                  &quot;Atlantic/Faroe&quot;                  
## [341] &quot;Atlantic/Jan_Mayen&quot;               &quot;Atlantic/Madeira&quot;                
## [343] &quot;Atlantic/Reykjavik&quot;               &quot;Atlantic/South_Georgia&quot;          
## [345] &quot;Atlantic/St_Helena&quot;               &quot;Atlantic/Stanley&quot;                
## [347] &quot;Australia/ACT&quot;                    &quot;Australia/Adelaide&quot;              
## [349] &quot;Australia/Brisbane&quot;               &quot;Australia/Broken_Hill&quot;           
## [351] &quot;Australia/Canberra&quot;               &quot;Australia/Currie&quot;                
## [353] &quot;Australia/Darwin&quot;                 &quot;Australia/Eucla&quot;                 
## [355] &quot;Australia/Hobart&quot;                 &quot;Australia/LHI&quot;                   
## [357] &quot;Australia/Lindeman&quot;               &quot;Australia/Lord_Howe&quot;             
## [359] &quot;Australia/Melbourne&quot;              &quot;Australia/North&quot;                 
## [361] &quot;Australia/NSW&quot;                    &quot;Australia/Perth&quot;                 
## [363] &quot;Australia/Queensland&quot;             &quot;Australia/South&quot;                 
## [365] &quot;Australia/Sydney&quot;                 &quot;Australia/Tasmania&quot;              
## [367] &quot;Australia/Victoria&quot;               &quot;Australia/West&quot;                  
## [369] &quot;Australia/Yancowinna&quot;             &quot;Brazil/Acre&quot;                     
## [371] &quot;Brazil/DeNoronha&quot;                 &quot;Brazil/East&quot;                     
## [373] &quot;Brazil/West&quot;                      &quot;Canada/Atlantic&quot;                 
## [375] &quot;Canada/Central&quot;                   &quot;Canada/Eastern&quot;                  
## [377] &quot;Canada/Mountain&quot;                  &quot;Canada/Newfoundland&quot;             
## [379] &quot;Canada/Pacific&quot;                   &quot;Canada/Saskatchewan&quot;             
## [381] &quot;Canada/Yukon&quot;                     &quot;CET&quot;                             
## [383] &quot;Chile/Continental&quot;                &quot;Chile/EasterIsland&quot;              
## [385] &quot;CST6CDT&quot;                          &quot;Cuba&quot;                            
## [387] &quot;EET&quot;                              &quot;Egypt&quot;                           
## [389] &quot;Eire&quot;                             &quot;EST&quot;                             
## [391] &quot;EST5EDT&quot;                          &quot;Etc/GMT&quot;                         
## [393] &quot;Etc/GMT-0&quot;                        &quot;Etc/GMT-1&quot;                       
## [395] &quot;Etc/GMT-10&quot;                       &quot;Etc/GMT-11&quot;                      
## [397] &quot;Etc/GMT-12&quot;                       &quot;Etc/GMT-13&quot;                      
## [399] &quot;Etc/GMT-14&quot;                       &quot;Etc/GMT-2&quot;                       
## [401] &quot;Etc/GMT-3&quot;                        &quot;Etc/GMT-4&quot;                       
## [403] &quot;Etc/GMT-5&quot;                        &quot;Etc/GMT-6&quot;                       
## [405] &quot;Etc/GMT-7&quot;                        &quot;Etc/GMT-8&quot;                       
## [407] &quot;Etc/GMT-9&quot;                        &quot;Etc/GMT+0&quot;                       
## [409] &quot;Etc/GMT+1&quot;                        &quot;Etc/GMT+10&quot;                      
## [411] &quot;Etc/GMT+11&quot;                       &quot;Etc/GMT+12&quot;                      
## [413] &quot;Etc/GMT+2&quot;                        &quot;Etc/GMT+3&quot;                       
## [415] &quot;Etc/GMT+4&quot;                        &quot;Etc/GMT+5&quot;                       
## [417] &quot;Etc/GMT+6&quot;                        &quot;Etc/GMT+7&quot;                       
## [419] &quot;Etc/GMT+8&quot;                        &quot;Etc/GMT+9&quot;                       
## [421] &quot;Etc/GMT0&quot;                         &quot;Etc/Greenwich&quot;                   
## [423] &quot;Etc/UCT&quot;                          &quot;Etc/Universal&quot;                   
## [425] &quot;Etc/UTC&quot;                          &quot;Etc/Zulu&quot;                        
## [427] &quot;Europe/Amsterdam&quot;                 &quot;Europe/Andorra&quot;                  
## [429] &quot;Europe/Astrakhan&quot;                 &quot;Europe/Athens&quot;                   
## [431] &quot;Europe/Belfast&quot;                   &quot;Europe/Belgrade&quot;                 
## [433] &quot;Europe/Berlin&quot;                    &quot;Europe/Bratislava&quot;               
## [435] &quot;Europe/Brussels&quot;                  &quot;Europe/Bucharest&quot;                
## [437] &quot;Europe/Budapest&quot;                  &quot;Europe/Busingen&quot;                 
## [439] &quot;Europe/Chisinau&quot;                  &quot;Europe/Copenhagen&quot;               
## [441] &quot;Europe/Dublin&quot;                    &quot;Europe/Gibraltar&quot;                
## [443] &quot;Europe/Guernsey&quot;                  &quot;Europe/Helsinki&quot;                 
## [445] &quot;Europe/Isle_of_Man&quot;               &quot;Europe/Istanbul&quot;                 
## [447] &quot;Europe/Jersey&quot;                    &quot;Europe/Kaliningrad&quot;              
## [449] &quot;Europe/Kiev&quot;                      &quot;Europe/Kirov&quot;                    
## [451] &quot;Europe/Kyiv&quot;                      &quot;Europe/Lisbon&quot;                   
## [453] &quot;Europe/Ljubljana&quot;                 &quot;Europe/London&quot;                   
## [455] &quot;Europe/Luxembourg&quot;                &quot;Europe/Madrid&quot;                   
## [457] &quot;Europe/Malta&quot;                     &quot;Europe/Mariehamn&quot;                
## [459] &quot;Europe/Minsk&quot;                     &quot;Europe/Monaco&quot;                   
## [461] &quot;Europe/Moscow&quot;                    &quot;Europe/Nicosia&quot;                  
## [463] &quot;Europe/Oslo&quot;                      &quot;Europe/Paris&quot;                    
## [465] &quot;Europe/Podgorica&quot;                 &quot;Europe/Prague&quot;                   
## [467] &quot;Europe/Riga&quot;                      &quot;Europe/Rome&quot;                     
## [469] &quot;Europe/Samara&quot;                    &quot;Europe/San_Marino&quot;               
## [471] &quot;Europe/Sarajevo&quot;                  &quot;Europe/Saratov&quot;                  
## [473] &quot;Europe/Simferopol&quot;                &quot;Europe/Skopje&quot;                   
## [475] &quot;Europe/Sofia&quot;                     &quot;Europe/Stockholm&quot;                
## [477] &quot;Europe/Tallinn&quot;                   &quot;Europe/Tirane&quot;                   
## [479] &quot;Europe/Tiraspol&quot;                  &quot;Europe/Ulyanovsk&quot;                
## [481] &quot;Europe/Uzhgorod&quot;                  &quot;Europe/Vaduz&quot;                    
## [483] &quot;Europe/Vatican&quot;                   &quot;Europe/Vienna&quot;                   
## [485] &quot;Europe/Vilnius&quot;                   &quot;Europe/Volgograd&quot;                
## [487] &quot;Europe/Warsaw&quot;                    &quot;Europe/Zagreb&quot;                   
## [489] &quot;Europe/Zaporozhye&quot;                &quot;Europe/Zurich&quot;                   
## [491] &quot;GB&quot;                               &quot;GB-Eire&quot;                         
## [493] &quot;GMT&quot;                              &quot;GMT-0&quot;                           
## [495] &quot;GMT+0&quot;                            &quot;GMT0&quot;                            
## [497] &quot;Greenwich&quot;                        &quot;Hongkong&quot;                        
## [499] &quot;HST&quot;                              &quot;Iceland&quot;                         
## [501] &quot;Indian/Antananarivo&quot;              &quot;Indian/Chagos&quot;                   
## [503] &quot;Indian/Christmas&quot;                 &quot;Indian/Cocos&quot;                    
## [505] &quot;Indian/Comoro&quot;                    &quot;Indian/Kerguelen&quot;                
## [507] &quot;Indian/Mahe&quot;                      &quot;Indian/Maldives&quot;                 
## [509] &quot;Indian/Mauritius&quot;                 &quot;Indian/Mayotte&quot;                  
## [511] &quot;Indian/Reunion&quot;                   &quot;Iran&quot;                            
## [513] &quot;Israel&quot;                           &quot;Jamaica&quot;                         
## [515] &quot;Japan&quot;                            &quot;Kwajalein&quot;                       
## [517] &quot;Libya&quot;                            &quot;MET&quot;                             
## [519] &quot;Mexico/BajaNorte&quot;                 &quot;Mexico/BajaSur&quot;                  
## [521] &quot;Mexico/General&quot;                   &quot;MST&quot;                             
## [523] &quot;MST7MDT&quot;                          &quot;Navajo&quot;                          
## [525] &quot;NZ&quot;                               &quot;NZ-CHAT&quot;                         
## [527] &quot;Pacific/Apia&quot;                     &quot;Pacific/Auckland&quot;                
## [529] &quot;Pacific/Bougainville&quot;             &quot;Pacific/Chatham&quot;                 
## [531] &quot;Pacific/Chuuk&quot;                    &quot;Pacific/Easter&quot;                  
## [533] &quot;Pacific/Efate&quot;                    &quot;Pacific/Enderbury&quot;               
## [535] &quot;Pacific/Fakaofo&quot;                  &quot;Pacific/Fiji&quot;                    
## [537] &quot;Pacific/Funafuti&quot;                 &quot;Pacific/Galapagos&quot;               
## [539] &quot;Pacific/Gambier&quot;                  &quot;Pacific/Guadalcanal&quot;             
## [541] &quot;Pacific/Guam&quot;                     &quot;Pacific/Honolulu&quot;                
## [543] &quot;Pacific/Johnston&quot;                 &quot;Pacific/Kanton&quot;                  
## [545] &quot;Pacific/Kiritimati&quot;               &quot;Pacific/Kosrae&quot;                  
## [547] &quot;Pacific/Kwajalein&quot;                &quot;Pacific/Majuro&quot;                  
## [549] &quot;Pacific/Marquesas&quot;                &quot;Pacific/Midway&quot;                  
## [551] &quot;Pacific/Nauru&quot;                    &quot;Pacific/Niue&quot;                    
## [553] &quot;Pacific/Norfolk&quot;                  &quot;Pacific/Noumea&quot;                  
## [555] &quot;Pacific/Pago_Pago&quot;                &quot;Pacific/Palau&quot;                   
## [557] &quot;Pacific/Pitcairn&quot;                 &quot;Pacific/Pohnpei&quot;                 
## [559] &quot;Pacific/Ponape&quot;                   &quot;Pacific/Port_Moresby&quot;            
## [561] &quot;Pacific/Rarotonga&quot;                &quot;Pacific/Saipan&quot;                  
## [563] &quot;Pacific/Samoa&quot;                    &quot;Pacific/Tahiti&quot;                  
## [565] &quot;Pacific/Tarawa&quot;                   &quot;Pacific/Tongatapu&quot;               
## [567] &quot;Pacific/Truk&quot;                     &quot;Pacific/Wake&quot;                    
## [569] &quot;Pacific/Wallis&quot;                   &quot;Pacific/Yap&quot;                     
## [571] &quot;Poland&quot;                           &quot;Portugal&quot;                        
## [573] &quot;PRC&quot;                              &quot;PST8PDT&quot;                         
## [575] &quot;ROC&quot;                              &quot;ROK&quot;                             
## [577] &quot;Singapore&quot;                        &quot;Turkey&quot;                          
## [579] &quot;UCT&quot;                              &quot;Universal&quot;                       
## [581] &quot;US/Alaska&quot;                        &quot;US/Aleutian&quot;                     
## [583] &quot;US/Arizona&quot;                       &quot;US/Central&quot;                      
## [585] &quot;US/East-Indiana&quot;                  &quot;US/Eastern&quot;                      
## [587] &quot;US/Hawaii&quot;                        &quot;US/Indiana-Starke&quot;               
## [589] &quot;US/Michigan&quot;                      &quot;US/Mountain&quot;                     
## [591] &quot;US/Pacific&quot;                       &quot;US/Samoa&quot;                        
## [593] &quot;UTC&quot;                              &quot;W-SU&quot;                            
## [595] &quot;WET&quot;                              &quot;Zulu&quot;                            
## attr(,&quot;Version&quot;)
## [1] &quot;2023c&quot;</code></pre>
<p><strong>Setting and extracting timezone</strong></p>
<ul>
<li><p>setting: set <code>tz = "timezone_name"</code> argument</p></li>
<li><p>extracting: function <code>tz()</code></p></li>
</ul>
<p><strong>Manipulating timezones</strong></p>
<ul>
<li><p><code>force_tz()</code>: change the timezone without changing the clock time</p></li>
<li><p><code>with_tz()</code> - view the same instant in a different timezone</p></li>
</ul>
<div id="setting-the-timezone" class="section level4 hasAnchor" number="11.4.1.1">
<h4><span class="header-section-number">11.4.1.1</span> Setting the timezone<a href="working-with-dates-and-times-in-r.html#setting-the-timezone" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you import a datetime and it has the wrong timezone, you can set it with <code>force_tz(date, tzone = "tz")</code>.</p>
<p>To watch New Zealand in the Women’s World Cup Soccer games in 2015, but the times listed on the FIFA website were all in times local to the venues. In this exercise you’ll help to set the timezones.</p>
<div class="sourceCode" id="cb1301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1301-1"><a href="working-with-dates-and-times-in-r.html#cb1301-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Game2: CAN vs NZL in Edmonton</span></span>
<span id="cb1301-2"><a href="working-with-dates-and-times-in-r.html#cb1301-2" aria-hidden="true" tabindex="-1"></a>game2 <span class="ot">&lt;-</span> <span class="fu">mdy_hm</span>(<span class="st">&quot;June 11 2015 19:00&quot;</span>)</span>
<span id="cb1301-3"><a href="working-with-dates-and-times-in-r.html#cb1301-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1301-4"><a href="working-with-dates-and-times-in-r.html#cb1301-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Game3: CHN vs NZL in Winnipeg</span></span>
<span id="cb1301-5"><a href="working-with-dates-and-times-in-r.html#cb1301-5" aria-hidden="true" tabindex="-1"></a>game3 <span class="ot">&lt;-</span> <span class="fu">mdy_hm</span>(<span class="st">&quot;June 15 2015 18:30&quot;</span>)</span></code></pre></div>
<p>Game 2 was played in Edmonton.</p>
<div class="sourceCode" id="cb1302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1302-1"><a href="working-with-dates-and-times-in-r.html#cb1302-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the timezone to &quot;America/Edmonton&quot;</span></span>
<span id="cb1302-2"><a href="working-with-dates-and-times-in-r.html#cb1302-2" aria-hidden="true" tabindex="-1"></a>game2_local <span class="ot">&lt;-</span> <span class="fu">force_tz</span>(game2, <span class="at">tzone =</span> <span class="st">&quot;America/Edmonton&quot;</span>)</span>
<span id="cb1302-3"><a href="working-with-dates-and-times-in-r.html#cb1302-3" aria-hidden="true" tabindex="-1"></a>game2_local</span></code></pre></div>
<pre><code>## [1] &quot;2015-06-11 19:00:00 MDT&quot;</code></pre>
<p>Game 3 was played in Winnipeg.</p>
<div class="sourceCode" id="cb1304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1304-1"><a href="working-with-dates-and-times-in-r.html#cb1304-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the timezone to &quot;America/Winnipeg&quot;</span></span>
<span id="cb1304-2"><a href="working-with-dates-and-times-in-r.html#cb1304-2" aria-hidden="true" tabindex="-1"></a>game3_local <span class="ot">&lt;-</span> <span class="fu">force_tz</span>(game3, <span class="at">tzone =</span> <span class="st">&quot;America/Winnipeg&quot;</span>)</span>
<span id="cb1304-3"><a href="working-with-dates-and-times-in-r.html#cb1304-3" aria-hidden="true" tabindex="-1"></a>game3_local</span></code></pre></div>
<pre><code>## [1] &quot;2015-06-15 18:30:00 CDT&quot;</code></pre>
<p>Find out how long the team had to rest between the two games.</p>
<div class="sourceCode" id="cb1306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1306-1"><a href="working-with-dates-and-times-in-r.html#cb1306-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How long does the team have to rest?</span></span>
<span id="cb1306-2"><a href="working-with-dates-and-times-in-r.html#cb1306-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.period</span>(<span class="fu">interval</span>(game2_local, game3_local))</span></code></pre></div>
<pre><code>## [1] &quot;3d 22H 30M 0S&quot;</code></pre>
<p>Edmonton and Winnipeg are in different timezones, so even though the start times of the games only look 30 minutes apart, they are in fact 1 hour and 30 minutes apart, and the team only has 3 days, 22 hours and 30 minutes to prepare.</p>
</div>
<div id="viewing-in-a-timezone" class="section level4 hasAnchor" number="11.4.1.2">
<h4><span class="header-section-number">11.4.1.2</span> Viewing in a timezone<a href="working-with-dates-and-times-in-r.html#viewing-in-a-timezone" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>with_tz(date, tzone = "tz")</code> isn’t changing the underlying moment of time.</p>
<p>For example, the difference between <code>now()</code> displayed in the “America/Los_Angeles” timezone and “Pacific/Auckland” timezone is 0. (同一時間，只是在不同時區)</p>
<p>Now, figure out when to tune into the games from the previous exercise.</p>
<p>Most fans will tune in from New Zealand. Use<code>with_tz()</code> to display <code>game2_local</code> in New Zealand time. New Zealand is in the <code>"Pacific/Auckland"</code> timezone.</p>
<div class="sourceCode" id="cb1308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1308-1"><a href="working-with-dates-and-times-in-r.html#cb1308-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What time is game2_local in NZ?</span></span>
<span id="cb1308-2"><a href="working-with-dates-and-times-in-r.html#cb1308-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(game2_local, <span class="at">tzone =</span> <span class="st">&quot;Pacific/Auckland&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2015-06-12 13:00:00 NZST&quot;</code></pre>
<p>In Corvallis, Corvallis is in the “America/Los_Angeles” timezone.</p>
<div class="sourceCode" id="cb1310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1310-1"><a href="working-with-dates-and-times-in-r.html#cb1310-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What time is game2_local in Corvallis, Oregon?</span></span>
<span id="cb1310-2"><a href="working-with-dates-and-times-in-r.html#cb1310-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(game2_local, <span class="at">tzone =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2015-06-11 18:00:00 PDT&quot;</code></pre>
<div class="sourceCode" id="cb1312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1312-1"><a href="working-with-dates-and-times-in-r.html#cb1312-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What time is game3_local in NZ?</span></span>
<span id="cb1312-2"><a href="working-with-dates-and-times-in-r.html#cb1312-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(game3_local, <span class="at">tzone =</span> <span class="st">&quot;Pacific/Auckland&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2015-06-16 11:30:00 NZST&quot;</code></pre>
</div>
<div id="timezones-in-the-weather-data" class="section level4 hasAnchor" number="11.4.1.3">
<h4><span class="header-section-number">11.4.1.3</span> Timezones in the weather data<a href="working-with-dates-and-times-in-r.html#timezones-in-the-weather-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1314-1"><a href="working-with-dates-and-times-in-r.html#cb1314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(akl_hourly)</span></code></pre></div>
<pre><code>## Rows: 17,454
## Columns: 16
## $ year            &lt;dbl&gt; 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2…
## $ month           &lt;ord&gt; Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan,…
## $ mday            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ time            &lt;time&gt; 00:00:00, 00:30:00, 01:00:00, 01:30:00, 02:00:00…
## $ temperature     &lt;dbl&gt; 68.0, 68.0, 68.0, 68.0, 68.0, 68.0, 68.0, 68.0, 6…
## $ weather         &lt;chr&gt; &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Cle…
## $ conditions      &lt;chr&gt; &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;Cle…
## $ events          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ humidity        &lt;dbl&gt; 68, 68, 73, 68, 68, 68, 68, 68, 68, 73, 73, 73, 6…
## $ date_utc        &lt;dttm&gt; 2015-12-31 11:00:00, 2015-12-31 11:30:00, 2015-1…
## $ date            &lt;date&gt; 2016-01-01, 2016-01-01, 2016-01-01, 2016-01-01, …
## $ datetime_string &lt;chr&gt; &quot;2016-01-01T00:00:00&quot;, &quot;2016-01-01T00:30:00&quot;, &quot;20…
## $ datetime        &lt;dttm&gt; 2016-01-01 00:00:00, 2016-01-01 00:30:00, 2016-0…
## $ hour            &lt;int&gt; 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8…
## $ rainy           &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
## $ day_hour        &lt;dttm&gt; 2016-01-01 00:00:00, 2016-01-01 00:00:00, 2016-0…</code></pre>
<p>The <code>datetime</code> column you created represented local time in Auckland, NZ.</p>
<p>Suspect <code>date_utc</code> column represents the observation time in UTC (the name seems a big clue). But does it really?</p>
<p>What timezone are datetime and date_utc currently in?</p>
<div class="sourceCode" id="cb1316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1316-1"><a href="working-with-dates-and-times-in-r.html#cb1316-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine datetime columns</span></span>
<span id="cb1316-2"><a href="working-with-dates-and-times-in-r.html#cb1316-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(akl_hourly<span class="sc">$</span>datetime)</span></code></pre></div>
<pre><code>## [1] &quot;2016-01-01 00:00:00 UTC&quot; &quot;2016-01-01 00:30:00 UTC&quot;
## [3] &quot;2016-01-01 01:00:00 UTC&quot; &quot;2016-01-01 01:30:00 UTC&quot;
## [5] &quot;2016-01-01 02:00:00 UTC&quot; &quot;2016-01-01 02:30:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb1318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1318-1"><a href="working-with-dates-and-times-in-r.html#cb1318-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine date_utc columns</span></span>
<span id="cb1318-2"><a href="working-with-dates-and-times-in-r.html#cb1318-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(akl_hourly<span class="sc">$</span>date_utc)</span></code></pre></div>
<pre><code>## [1] &quot;2015-12-31 11:00:00 UTC&quot; &quot;2015-12-31 11:30:00 UTC&quot;
## [3] &quot;2015-12-31 12:00:00 UTC&quot; &quot;2015-12-31 12:30:00 UTC&quot;
## [5] &quot;2015-12-31 13:00:00 UTC&quot; &quot;2015-12-31 13:30:00 UTC&quot;</code></pre>
<p>Fix <code>datetime</code> to have the timezone for <code>"Pacific/Auckland"</code>.</p>
<div class="sourceCode" id="cb1320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1320-1"><a href="working-with-dates-and-times-in-r.html#cb1320-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Force datetime to Pacific/Auckland</span></span>
<span id="cb1320-2"><a href="working-with-dates-and-times-in-r.html#cb1320-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="ot">&lt;-</span> akl_hourly <span class="sc">%&gt;%</span></span>
<span id="cb1320-3"><a href="working-with-dates-and-times-in-r.html#cb1320-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">datetime =</span> <span class="fu">force_tz</span>(datetime, <span class="at">tzone =</span> <span class="st">&quot;Pacific/Auckland&quot;</span>))</span>
<span id="cb1320-4"><a href="working-with-dates-and-times-in-r.html#cb1320-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1320-5"><a href="working-with-dates-and-times-in-r.html#cb1320-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Reexamine datetime</span></span>
<span id="cb1320-6"><a href="working-with-dates-and-times-in-r.html#cb1320-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(akl_hourly<span class="sc">$</span>datetime)</span></code></pre></div>
<pre><code>## [1] &quot;2016-01-01 00:00:00 NZDT&quot; &quot;2016-01-01 00:30:00 NZDT&quot;
## [3] &quot;2016-01-01 01:00:00 NZDT&quot; &quot;2016-01-01 01:30:00 NZDT&quot;
## [5] &quot;2016-01-01 02:00:00 NZDT&quot; &quot;2016-01-01 02:30:00 NZDT&quot;</code></pre>
<p>Now tabulate up the difference between the <code>datetime</code> and <code>date_utc</code>. It should be zero if our hypothesis was correct.</p>
<div class="sourceCode" id="cb1322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1322-1"><a href="working-with-dates-and-times-in-r.html#cb1322-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Are datetime and date_utc the same moments</span></span>
<span id="cb1322-2"><a href="working-with-dates-and-times-in-r.html#cb1322-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(akl_hourly<span class="sc">$</span>datetime <span class="sc">-</span> akl_hourly<span class="sc">$</span>date_utc)</span></code></pre></div>
<pre><code>## 
## -82800      0   3600 
##      2  17450      2</code></pre>
<p>Looks like for 17,450 rows <code>datetime</code> and <code>date_utc</code> describe the same moment.</p>
<p>But for 4 rows they are different. Because it’s the times where DST kicks in.</p>
</div>
<div id="times-without-dates" class="section level4 hasAnchor" number="11.4.1.4">
<h4><span class="header-section-number">11.4.1.4</span> Times without dates<a href="working-with-dates-and-times-in-r.html#times-without-dates" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sometimes you just have a time without a date.</p>
<p>The <code>hms</code> package provides an <code>hms</code> class of object for holding times without dates, and the best place to start would be with <code>as.hms()</code>.</p>
<div class="sourceCode" id="cb1324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1324-1"><a href="working-with-dates-and-times-in-r.html#cb1324-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import auckland hourly data </span></span>
<span id="cb1324-2"><a href="working-with-dates-and-times-in-r.html#cb1324-2" aria-hidden="true" tabindex="-1"></a>akl_hourly <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/akl_weather_hourly_2016.csv&quot;</span>)</span>
<span id="cb1324-3"><a href="working-with-dates-and-times-in-r.html#cb1324-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1324-4"><a href="working-with-dates-and-times-in-r.html#cb1324-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine structure of time column</span></span>
<span id="cb1324-5"><a href="working-with-dates-and-times-in-r.html#cb1324-5" aria-hidden="true" tabindex="-1"></a><span class="co"># verify it has the class hms</span></span>
<span id="cb1324-6"><a href="working-with-dates-and-times-in-r.html#cb1324-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(akl_hourly<span class="sc">$</span>time)</span></code></pre></div>
<pre><code>##  &#39;hms&#39; num [1:17454] 00:00:00 00:30:00 01:00:00 01:30:00 ...
##  - attr(*, &quot;units&quot;)= chr &quot;secs&quot;</code></pre>
<div class="sourceCode" id="cb1326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1326-1"><a href="working-with-dates-and-times-in-r.html#cb1326-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine head of time column</span></span>
<span id="cb1326-2"><a href="working-with-dates-and-times-in-r.html#cb1326-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(akl_hourly<span class="sc">$</span>time)</span></code></pre></div>
<pre><code>## 00:00:00
## 00:30:00
## 01:00:00
## 01:30:00
## 02:00:00
## 02:30:00</code></pre>
<p>Using time without date is a great way to examine daily patterns.</p>
<div class="sourceCode" id="cb1328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1328-1"><a href="working-with-dates-and-times-in-r.html#cb1328-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A plot using just time</span></span>
<span id="cb1328-2"><a href="working-with-dates-and-times-in-r.html#cb1328-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(akl_hourly, <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> temperature)) <span class="sc">+</span></span>
<span id="cb1328-3"><a href="working-with-dates-and-times-in-r.html#cb1328-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="fu">make_date</span>(year, month, mday)), <span class="at">alpha =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-535-1.png" width="672" /></p>
</div>
</div>
<div id="more-on-import-and-export-datetimes" class="section level3 hasAnchor" number="11.4.2">
<h3><span class="header-section-number">11.4.2</span> More on import and export datetimes<a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="fast-parsing-with-fasttime" class="section level4 hasAnchor" number="11.4.2.1">
<h4><span class="header-section-number">11.4.2.1</span> Fast parsing with fasttime<a href="working-with-dates-and-times-in-r.html#fast-parsing-with-fasttime" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>fasttime</code> package provides a single function <a href="https://www.rdocumentation.org/packages/fasttime/versions/1.0-2/topics/fastPOSIXct"><strong><code>fastPOSIXct()</code></strong></a>, designed to read in datetimes formatted according to ISO 8601 (YYYY-MM-DD HH:MM:SS).</p>
<p>Because it only reads in one format, and doesn’t have to guess a format, it is really fast!</p>
<p>You’ll see how fast in this exercise by comparing how fast it reads in the dates from the Auckland hourly weather data (over 17,000 dates) to <code>lubridate</code>s <a href="https://www.rdocumentation.org/packages/lubridate/versions/1.8.0/topics/ymd_hms"><strong><code>ymd_hms()</code></strong></a>.</p>
<p>To compare run times you’ll use the <a href="https://www.rdocumentation.org/packages/microbenchmark/versions/1.4.9/topics/microbenchmark"><strong><code>microbenchmark()</code></strong></a> function from the package of the same name.</p>
<div class="sourceCode" id="cb1329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1329-1"><a href="working-with-dates-and-times-in-r.html#cb1329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb1329-2"><a href="working-with-dates-and-times-in-r.html#cb1329-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fasttime)</span>
<span id="cb1329-3"><a href="working-with-dates-and-times-in-r.html#cb1329-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1329-4"><a href="working-with-dates-and-times-in-r.html#cb1329-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use make_date() to combine year, month and mday </span></span>
<span id="cb1329-5"><a href="working-with-dates-and-times-in-r.html#cb1329-5" aria-hidden="true" tabindex="-1"></a>akl_hourly  <span class="ot">&lt;-</span> akl_hourly_raw  <span class="sc">%&gt;%</span> </span>
<span id="cb1329-6"><a href="working-with-dates-and-times-in-r.html#cb1329-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> month, <span class="at">day =</span> mday),</span>
<span id="cb1329-7"><a href="working-with-dates-and-times-in-r.html#cb1329-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">datetime_string =</span> <span class="fu">paste</span>(date, <span class="st">&quot;T&quot;</span>, time, <span class="st">&quot;Z&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb1329-8"><a href="working-with-dates-and-times-in-r.html#cb1329-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">datetime =</span> <span class="fu">ymd_hms</span>(datetime_string))</span>
<span id="cb1329-9"><a href="working-with-dates-and-times-in-r.html#cb1329-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1329-10"><a href="working-with-dates-and-times-in-r.html#cb1329-10" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> akl_hourly<span class="sc">$</span>datetime_string</span>
<span id="cb1329-11"><a href="working-with-dates-and-times-in-r.html#cb1329-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1329-12"><a href="working-with-dates-and-times-in-r.html#cb1329-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine structure of dates</span></span>
<span id="cb1329-13"><a href="working-with-dates-and-times-in-r.html#cb1329-13" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dates)</span></code></pre></div>
<pre><code>##  chr [1:17454] &quot;2016-01-01T00:00:00Z&quot; &quot;2016-01-01T00:30:00Z&quot; ...</code></pre>
<div class="sourceCode" id="cb1331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1331-1"><a href="working-with-dates-and-times-in-r.html#cb1331-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use fastPOSIXct() to parse dates</span></span>
<span id="cb1331-2"><a href="working-with-dates-and-times-in-r.html#cb1331-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fastPOSIXct</span>(dates) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>##  POSIXct[1:17454], format: &quot;2016-01-01 08:00:00&quot; &quot;2016-01-01 08:30:00&quot; ...</code></pre>
<p>Now to compare timing</p>
<div class="sourceCode" id="cb1333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1333-1"><a href="working-with-dates-and-times-in-r.html#cb1333-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare speed of fastPOSIXct() to ymd_hms()</span></span>
<span id="cb1333-2"><a href="working-with-dates-and-times-in-r.html#cb1333-2" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(</span>
<span id="cb1333-3"><a href="working-with-dates-and-times-in-r.html#cb1333-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ymd_hms =</span> <span class="fu">ymd_hms</span>(dates),</span>
<span id="cb1333-4"><a href="working-with-dates-and-times-in-r.html#cb1333-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fasttime =</span> <span class="fu">fastPOSIXct</span>(dates),</span>
<span id="cb1333-5"><a href="working-with-dates-and-times-in-r.html#cb1333-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">times =</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## Unit: milliseconds</code></pre>
</div>
<div id="fast-parsing-with-lubridate" class="section level4 hasAnchor" number="11.4.2.2">
<h4><span class="header-section-number">11.4.2.2</span> Fast parsing with lubridate<a href="working-with-dates-and-times-in-r.html#fast-parsing-with-lubridate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>lubridate</code> provides its own fast datetime parser: <code>fast_strptime()</code>.</p>
<p>It takes a <code>format</code> argument and the format must comply with the <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/strptime"><strong><code>strptime()</code></strong></a> style.</p>
<p>e.g, <code>fast_strptime(x, format = "%Y-%m-%d")</code></p>
<div class="sourceCode" id="cb1335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1335-1"><a href="working-with-dates-and-times-in-r.html#cb1335-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Head of dates</span></span>
<span id="cb1335-2"><a href="working-with-dates-and-times-in-r.html#cb1335-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dates)</span></code></pre></div>
<pre><code>## [1] &quot;2016-01-01T00:00:00Z&quot; &quot;2016-01-01T00:30:00Z&quot; &quot;2016-01-01T01:00:00Z&quot;
## [4] &quot;2016-01-01T01:30:00Z&quot; &quot;2016-01-01T02:00:00Z&quot; &quot;2016-01-01T02:30:00Z&quot;</code></pre>
<p>Parse <code>dates</code> with <code>fast_strptime()</code> by specifying the appropriate format string.</p>
<div class="sourceCode" id="cb1337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1337-1"><a href="working-with-dates-and-times-in-r.html#cb1337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse dates with fast_strptime</span></span>
<span id="cb1337-2"><a href="working-with-dates-and-times-in-r.html#cb1337-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fast_strptime</span>(dates, </span>
<span id="cb1337-3"><a href="working-with-dates-and-times-in-r.html#cb1337-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">&quot;%Y-%m-%dT%H:%M:%SZ&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>##  POSIXlt[1:17454], format: &quot;2016-01-01 00:00:00&quot; &quot;2016-01-01 00:30:00&quot; ...</code></pre>
<p>Compare the timing of <code>fast_strptime()</code> to <code>fasttime</code> and <code>ymd_hms()</code>.</p>
<div class="sourceCode" id="cb1339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1339-1"><a href="working-with-dates-and-times-in-r.html#cb1339-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparse speed to ymd_hms() and fasttime</span></span>
<span id="cb1339-2"><a href="working-with-dates-and-times-in-r.html#cb1339-2" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(</span>
<span id="cb1339-3"><a href="working-with-dates-and-times-in-r.html#cb1339-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ymd_hms =</span> <span class="fu">ymd_hms</span>(dates),</span>
<span id="cb1339-4"><a href="working-with-dates-and-times-in-r.html#cb1339-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fasttime =</span> <span class="fu">fastPOSIXct</span>(dates),</span>
<span id="cb1339-5"><a href="working-with-dates-and-times-in-r.html#cb1339-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">fast_strptime =</span> <span class="fu">fast_strptime</span>(dates, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%dT%H:%M:%SZ&quot;</span>),</span>
<span id="cb1339-6"><a href="working-with-dates-and-times-in-r.html#cb1339-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">times =</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## Unit: milliseconds</code></pre>
</div>
<div id="outputting-pretty-dates-and-times" class="section level4 hasAnchor" number="11.4.2.3">
<h4><span class="header-section-number">11.4.2.3</span> Outputting pretty dates and times<a href="working-with-dates-and-times-in-r.html#outputting-pretty-dates-and-times" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An easy way to output dates is to use the <code>stamp()</code> function in <code>lubridate</code>.</p>
<p><a href="https://www.rdocumentation.org/packages/lubridate/versions/1.8.0/topics/stamp"><code>stamp()</code></a> takes a string which should be an example of how the date should be formatted, and returns a function that can be used to format dates.</p>
<p>Notice <code>date_stamp</code> is a function.</p>
<div class="sourceCode" id="cb1341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1341-1"><a href="working-with-dates-and-times-in-r.html#cb1341-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stamp based on &quot;Saturday, Jan 1, 2000&quot;</span></span>
<span id="cb1341-2"><a href="working-with-dates-and-times-in-r.html#cb1341-2" aria-hidden="true" tabindex="-1"></a>date_stamp <span class="ot">&lt;-</span> <span class="fu">stamp</span>(<span class="st">&quot;Saturday, Jan 1, 2000&quot;</span>)</span></code></pre></div>
<pre><code>## Multiple formats matched: &quot;%A, %b %d, %Y&quot;(1), &quot;Saturday, %Om %d, %Y&quot;(1), &quot;Saturday, Jan %Om, %Y&quot;(1), &quot;Saturday, %b %d, %Y&quot;(1), &quot;Saturday, Jan %m, %Y&quot;(1), &quot;%A, %Om %d, %Y&quot;(0), &quot;%A, Jan %Om, %Y&quot;(0), &quot;%A, Jan %m, %Y&quot;(0)</code></pre>
<pre><code>## Using: &quot;%A, %b %d, %Y&quot;</code></pre>
<div class="sourceCode" id="cb1344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1344-1"><a href="working-with-dates-and-times-in-r.html#cb1344-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print date_stamp</span></span>
<span id="cb1344-2"><a href="working-with-dates-and-times-in-r.html#cb1344-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(date_stamp)</span></code></pre></div>
<pre><code>## function (x, locale = &quot;C&quot;) 
## {
##     {
##         old_lc_time &lt;- Sys.getlocale(&quot;LC_TIME&quot;)
##         if (old_lc_time != locale) {
##             on.exit(Sys.setlocale(&quot;LC_TIME&quot;, old_lc_time))
##             Sys.setlocale(&quot;LC_TIME&quot;, locale)
##         }
##     }
##     format(x, format = &quot;%A, %b %d, %Y&quot;)
## }
## &lt;environment: 0x00000286c8037c60&gt;</code></pre>
<p>Format today’s date by <code>date_stamp</code>.</p>
<div class="sourceCode" id="cb1346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1346-1"><a href="working-with-dates-and-times-in-r.html#cb1346-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call date_stamp on today()</span></span>
<span id="cb1346-2"><a href="working-with-dates-and-times-in-r.html#cb1346-2" aria-hidden="true" tabindex="-1"></a><span class="fu">date_stamp</span>(<span class="fu">today</span>())</span></code></pre></div>
<pre><code>## [1] &quot;Sunday, Jan 14, 2024&quot;</code></pre>
<p>Now output today’s date in American style <code>MM/DD/YYYY</code>.</p>
<div class="sourceCode" id="cb1348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1348-1"><a href="working-with-dates-and-times-in-r.html#cb1348-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and call a stamp based on &quot;12/31/1999&quot;</span></span>
<span id="cb1348-2"><a href="working-with-dates-and-times-in-r.html#cb1348-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stamp</span>(<span class="st">&quot;12/31/1999&quot;</span>)(<span class="fu">today</span>())</span></code></pre></div>
<pre><code>## Multiple formats matched: &quot;%Om/%d/%Y&quot;(1), &quot;%m/%d/%Y&quot;(1)</code></pre>
<pre><code>## Using: &quot;%Om/%d/%Y&quot;</code></pre>
<pre><code>## [1] &quot;01/14/2024&quot;</code></pre>
<div class="sourceCode" id="cb1352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1352-1"><a href="working-with-dates-and-times-in-r.html#cb1352-1" aria-hidden="true" tabindex="-1"></a>finished <span class="ot">&lt;-</span> <span class="st">&quot;I finished &#39;Dates and Times in R&#39; on Thursday, September 4, 2017!&quot;</span></span>
<span id="cb1352-2"><a href="working-with-dates-and-times-in-r.html#cb1352-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1352-3"><a href="working-with-dates-and-times-in-r.html#cb1352-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use string finished for stamp()</span></span>
<span id="cb1352-4"><a href="working-with-dates-and-times-in-r.html#cb1352-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stamp</span>(finished)(<span class="fu">today</span>())</span></code></pre></div>
<pre><code>## Multiple formats matched: &quot;I finished &#39;Dates and Times in R&#39; on %A, %B %d, %Y!&quot;(1), &quot;I finished &#39;Dates and Times in R&#39; on Thursday, %Om %d, %Y!&quot;(1), &quot;I finished &#39;Dates and Times in R&#39; on Thursday, September %Om, %Y!&quot;(1), &quot;I finished &#39;Dates and Times in R&#39; on Thursday, %B %d, %Y!&quot;(1), &quot;I finished &#39;Dates and Times in R&#39; on Thursday, September %m, %Y!&quot;(1), &quot;I finished &#39;Dates and Times in R&#39; on %A, %Om %d, %Y!&quot;(0), &quot;I finished &#39;Dates and Times in R&#39; on %A, September %Om, %Y!&quot;(0), &quot;I finished &#39;Dates and Times in R&#39; on %A, September %m, %Y!&quot;(0)</code></pre>
<pre><code>## Using: &quot;I finished &#39;Dates and Times in R&#39; on %A, %B %d, %Y!&quot;</code></pre>
<pre><code>## [1] &quot;I finished &#39;Dates and Times in R&#39; on Sunday, January 14, 2024!&quot;</code></pre>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning-data-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-writing-functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/11-Working-with-Dates-and-Times-in-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
