<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 16 Sampling in R | Data Scientist with R</title>
  <meta name="description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 16 Sampling in R | Data Scientist with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="github-repo" content="yenchunnnn/CourseNote" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 16 Sampling in R | Data Scientist with R" />
  
  <meta name="twitter:description" content="This is a notebook about the data science courses took from the datacamp." />
  

<meta name="author" content="Yen Chun Chen" />


<meta name="date" content="2024-01-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intermediate-regression.html"/>
<link rel="next" href="hypothesis-testing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Scientist with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic data types</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vector"><i class="fa fa-check"></i><b>1.3</b> Vector</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function"><i class="fa fa-check"></i><b>1.3.1</b> Useful function</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-brackets-or-names"><i class="fa fa-check"></i><b>1.3.2</b> Selection - by brackets or names</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---operators"><i class="fa fa-check"></i><b>1.3.3</b> Selection - by comparison - operators</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---values"><i class="fa fa-check"></i><b>1.3.4</b> Selection - by comparison - values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrix"><i class="fa fa-check"></i><b>1.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-function"><i class="fa fa-check"></i><b>1.4.1</b> Construct function</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-by-vector"><i class="fa fa-check"></i><b>1.4.2</b> Construct by vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.4.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---sum-of-each-row-column"><i class="fa fa-check"></i><b>1.4.4</b> Manipulating - sum of each row &amp; column</a></li>
<li class="chapter" data-level="1.4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-columns"><i class="fa fa-check"></i><b>1.4.5</b> Manipulating - add columns</a></li>
<li class="chapter" data-level="1.4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-rows"><i class="fa fa-check"></i><b>1.4.6</b> Manipulating - add rows</a></li>
<li class="chapter" data-level="1.4.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.4.7</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.4.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---1"><i class="fa fa-check"></i><b>1.4.8</b> Arithmetic - 1</a></li>
<li class="chapter" data-level="1.4.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---2"><i class="fa fa-check"></i><b>1.4.9</b> Arithmetic - 2</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor"><i class="fa fa-check"></i><b>1.5</b> Factor</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function-1"><i class="fa fa-check"></i><b>1.5.1</b> Useful function</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-ordinal-categorical-variable"><i class="fa fa-check"></i><b>1.5.2</b> Nominal &amp; Ordinal categorical variable</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor-levels"><i class="fa fa-check"></i><b>1.5.3</b> Factor levels</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.5.4</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordered-factors"><i class="fa fa-check"></i><b>1.5.5</b> Ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frame"><i class="fa fa-check"></i><b>1.6</b> Data Frame</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#quick-look-at-dataset"><i class="fa fa-check"></i><b>1.6.1</b> Quick look at dataset</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---brackets"><i class="fa fa-check"></i><b>1.6.3</b> Selection - brackets</a></li>
<li class="chapter" data-level="1.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---names"><i class="fa fa-check"></i><b>1.6.4</b> Selection - names</a></li>
<li class="chapter" data-level="1.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection--"><i class="fa fa-check"></i><b>1.6.5</b> Selection - $</a></li>
<li class="chapter" data-level="1.6.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---subset"><i class="fa fa-check"></i><b>1.6.6</b> Selection - subset</a></li>
<li class="chapter" data-level="1.6.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sorting"><i class="fa fa-check"></i><b>1.6.7</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#list"><i class="fa fa-check"></i><b>1.7</b> List</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-list"><i class="fa fa-check"></i><b>1.7.1</b> Creating a list</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.7.2</b> Creating a named list</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection"><i class="fa fa-check"></i><b>1.7.3</b> Selection</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bring-it-all-together"><i class="fa fa-check"></i><b>1.8</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Relational operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#conditional-statements"><i class="fa fa-check"></i><b>2.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#while-loop"><i class="fa fa-check"></i><b>2.2.1</b> While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loop"><i class="fa fa-check"></i><b>2.2.2</b> For loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#bring-it-all-together-1"><i class="fa fa-check"></i><b>2.2.3</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#function"><i class="fa fa-check"></i><b>2.3</b> Function</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#introduction-to-function"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to function</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#writing-functions"><i class="fa fa-check"></i><b>2.3.2</b> Writing functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#packages"><i class="fa fa-check"></i><b>2.3.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply"><i class="fa fa-check"></i><b>2.4.1</b> lapply</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply"><i class="fa fa-check"></i><b>2.4.2</b> sapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#vapply"><i class="fa fa-check"></i><b>2.4.3</b> vapply</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-vs-sapply-vs-vapply"><i class="fa fa-check"></i><b>2.4.4</b> lapply vs sapply vs vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#data-structures-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Data structures utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#regular-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Regular Expressions</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#dates-times"><i class="fa fa-check"></i><b>2.5.4</b> Dates &amp; Times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#load-dataset"><i class="fa fa-check"></i><b>3.1.1</b> Load dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filtering"><i class="fa fa-check"></i><b>3.1.2</b> Filtering</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange"><i class="fa fa-check"></i><b>3.1.3</b> Arrange</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.4</b> Mutate</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#subset-df-variable"><i class="fa fa-check"></i><b>3.2.1</b> Subset df variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> ggplot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#faceting"><i class="fa fa-check"></i><b>3.2.3</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#grouping-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping &amp; summarizing</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize"><i class="fa fa-check"></i><b>3.3.1</b> Summarize</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group-by"><i class="fa fa-check"></i><b>3.3.2</b> Group by</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-summarized-data"><i class="fa fa-check"></i><b>3.3.3</b> Visualizing summarized data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#line-plots"><i class="fa fa-check"></i><b>3.4.1</b> Line plots</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#bar-plots"><i class="fa fa-check"></i><b>3.4.2</b> Bar plots</a></li>
<li class="chapter" data-level="3.4.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#histograms"><i class="fa fa-check"></i><b>3.4.3</b> Histograms</a></li>
<li class="chapter" data-level="3.4.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#box-plots"><i class="fa fa-check"></i><b>3.4.4</b> Box plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-data"><i class="fa fa-check"></i><b>4.1</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data"><i class="fa fa-check"></i><b>4.1.1</b> Exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>4.2.1</b> Count</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-summarize-ungroup"><i class="fa fa-check"></i><b>4.2.2</b> group_by, summarize, ungroup</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#slice_min-slice_max"><i class="fa fa-check"></i><b>4.2.3</b> slice_min, slice_max</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.3.1</b> Select</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>4.3.2</b> Rename</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#transmute"><i class="fa fa-check"></i><b>4.3.3</b> Transmute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#load-dataset-1"><i class="fa fa-check"></i><b>4.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data-1"><i class="fa fa-check"></i><b>4.4.2</b> Exploring data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>5</b> Joining Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joining-data.html"><a href="joining-data.html#inner-join"><i class="fa fa-check"></i><b>5.1</b> Inner join</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joining-data.html"><a href="joining-data.html#join-by-keys"><i class="fa fa-check"></i><b>5.1.1</b> Join by keys</a></li>
<li class="chapter" data-level="5.1.2" data-path="joining-data.html"><a href="joining-data.html#join-with-a-one-to-many-relationship"><i class="fa fa-check"></i><b>5.1.2</b> Join with a one-to-many relationship</a></li>
<li class="chapter" data-level="5.1.3" data-path="joining-data.html"><a href="joining-data.html#join-in-either-direction"><i class="fa fa-check"></i><b>5.1.3</b> Join in either direction</a></li>
<li class="chapter" data-level="5.1.4" data-path="joining-data.html"><a href="joining-data.html#join-three-or-more-tables"><i class="fa fa-check"></i><b>5.1.4</b> Join three or more tables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="joining-data.html"><a href="joining-data.html#left-right-joins"><i class="fa fa-check"></i><b>5.2</b> Left &amp; Right Joins</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i><b>5.2.1</b> Left join</a></li>
<li class="chapter" data-level="5.2.2" data-path="joining-data.html"><a href="joining-data.html#right-join"><i class="fa fa-check"></i><b>5.2.2</b> Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="joining-data.html"><a href="joining-data.html#full-semi-anti-joins"><i class="fa fa-check"></i><b>5.3</b> Full, Semi &amp; Anti Joins</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="joining-data.html"><a href="joining-data.html#full-join"><i class="fa fa-check"></i><b>5.3.1</b> Full join</a></li>
<li class="chapter" data-level="5.3.2" data-path="joining-data.html"><a href="joining-data.html#semi-anti-joins"><i class="fa fa-check"></i><b>5.3.2</b> Semi &amp; Anti joins</a></li>
<li class="chapter" data-level="5.3.3" data-path="joining-data.html"><a href="joining-data.html#visualizing-set-differences"><i class="fa fa-check"></i><b>5.3.3</b> Visualizing set differences</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="joining-data.html"><a href="joining-data.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>5.4</b> Case study: Joins on Stack Overflow Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="joining-data.html"><a href="joining-data.html#load-dataset-2"><i class="fa fa-check"></i><b>5.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="5.4.2" data-path="joining-data.html"><a href="joining-data.html#stack-overflow-questions"><i class="fa fa-check"></i><b>5.4.2</b> Stack Overflow questions</a></li>
<li class="chapter" data-level="5.4.3" data-path="joining-data.html"><a href="joining-data.html#joining-questions-and-answers"><i class="fa fa-check"></i><b>5.4.3</b> Joining questions and answers</a></li>
<li class="chapter" data-level="5.4.4" data-path="joining-data.html"><a href="joining-data.html#the-bind_rows-verb"><i class="fa fa-check"></i><b>5.4.4</b> The bind_rows verb</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>6</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#summary-statistics"><i class="fa fa-check"></i><b>6.1</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-center"><i class="fa fa-check"></i><b>6.1.1</b> Measures of center</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-spread"><i class="fa fa-check"></i><b>6.1.2</b> Measures of spread</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#random-numbers-and-probability"><i class="fa fa-check"></i><b>6.2</b> Random Numbers and Probability</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chances"><i class="fa fa-check"></i><b>6.2.1</b> Chances</a></li>
<li class="chapter" data-level="6.2.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2.2</b> Discrete distributions</a></li>
<li class="chapter" data-level="6.2.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#continuous-distributions"><i class="fa fa-check"></i><b>6.2.3</b> Continuous distributions</a></li>
<li class="chapter" data-level="6.2.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#binomial-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#more-distributions-central-limit-theorem"><i class="fa fa-check"></i><b>6.3</b> More Distributions &amp; Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.3.2</b> Central limit theorem</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#poisson-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Poisson distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exponential-distribution"><i class="fa fa-check"></i><b>6.3.4</b> Exponential distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#students-t-distribution"><i class="fa fa-check"></i><b>6.3.5</b> (Student’s) t-distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#log-normal-distribution"><i class="fa fa-check"></i><b>6.3.6</b> Log-normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-and-experimental-design"><i class="fa fa-check"></i><b>6.4</b> Correlation and Experimental Design</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation"><i class="fa fa-check"></i><b>6.4.1</b> Correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-caveats"><i class="fa fa-check"></i><b>6.4.2</b> Correlation caveats</a></li>
<li class="chapter" data-level="6.4.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#design-of-experiments"><i class="fa fa-check"></i><b>6.4.3</b> Design of experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Introduction to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#data-columns-types-affect-plot-types"><i class="fa fa-check"></i><b>7.1.1</b> Data columns types affect plot types</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#ggplot2-layers"><i class="fa fa-check"></i><b>7.1.3</b> ggplot2 layers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>7.2</b> Aesthetics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#visible-aesthetics"><i class="fa fa-check"></i><b>7.2.1</b> Visible aesthetics</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#using-attributes"><i class="fa fa-check"></i><b>7.2.2</b> Using attributes</a></li>
<li class="chapter" data-level="7.2.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#modifying-aesthetics"><i class="fa fa-check"></i><b>7.2.3</b> Modifying aesthetics</a></li>
<li class="chapter" data-level="7.2.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics-best-practices"><i class="fa fa-check"></i><b>7.2.4</b> Aesthetics best practices</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>7.3</b> Geometries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>7.3.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#bar-plots-1"><i class="fa fa-check"></i><b>7.3.3</b> Bar plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#line-plots-1"><i class="fa fa-check"></i><b>7.3.4</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.4</b> Themes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes-from-scratch"><i class="fa fa-check"></i><b>7.4.1</b> Themes from scratch</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#theme-flexibility"><i class="fa fa-check"></i><b>7.4.2</b> Theme flexibility</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#effective-explanatory-plots"><i class="fa fa-check"></i><b>7.4.3</b> Effective explanatory plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>8.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-with-geoms"><i class="fa fa-check"></i><b>8.1.1</b> Stats with geoms</a></li>
<li class="chapter" data-level="8.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-sum-quantile"><i class="fa fa-check"></i><b>8.1.2</b> Stats: sum &amp; quantile</a></li>
<li class="chapter" data-level="8.1.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-outside-geoms"><i class="fa fa-check"></i><b>8.1.3</b> Stats outside geoms</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates"><i class="fa fa-check"></i><b>8.2</b> Coordinates</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>8.2.1</b> Coordinates layer</a></li>
<li class="chapter" data-level="8.2.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-vs.-scales"><i class="fa fa-check"></i><b>8.2.2</b> Coordinates vs. scales</a></li>
<li class="chapter" data-level="8.2.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#double-flipped-axes"><i class="fa fa-check"></i><b>8.2.3</b> Double &amp; flipped axes</a></li>
<li class="chapter" data-level="8.2.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#polar-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Polar coordinates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.3</b> Facets</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#the-facets-layer"><i class="fa fa-check"></i><b>8.3.1</b> The facets layer</a></li>
<li class="chapter" data-level="8.3.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-labels-order"><i class="fa fa-check"></i><b>8.3.2</b> Facet labels &amp; order</a></li>
<li class="chapter" data-level="8.3.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-plotting-spaces"><i class="fa fa-check"></i><b>8.3.3</b> Facet plotting spaces</a></li>
<li class="chapter" data-level="8.3.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-wrap-margins"><i class="fa fa-check"></i><b>8.3.4</b> Facet wrap &amp; margins</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#best-practices"><i class="fa fa-check"></i><b>8.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#bar-plots-2"><i class="fa fa-check"></i><b>8.4.1</b> Bar plots</a></li>
<li class="chapter" data-level="8.4.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#heatmaps-use-case-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Heatmaps use case scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#when-good-data-makes-bad-plots"><i class="fa fa-check"></i><b>8.4.3</b> When good data makes bad plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Introduction to Importing Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#flat-files-with-utils"><i class="fa fa-check"></i><b>9.1</b> Flat files with utils</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.csv"><i class="fa fa-check"></i><b>9.1.1</b> read.csv</a></li>
<li class="chapter" data-level="9.1.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.delim"><i class="fa fa-check"></i><b>9.1.2</b> read.delim</a></li>
<li class="chapter" data-level="9.1.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.table"><i class="fa fa-check"></i><b>9.1.3</b> read.table</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr-data.table"><i class="fa fa-check"></i><b>9.2</b> readr &amp; data.table</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr"><i class="fa fa-check"></i><b>9.2.1</b> readr</a></li>
<li class="chapter" data-level="9.2.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#data.table"><i class="fa fa-check"></i><b>9.2.2</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#excel-data"><i class="fa fa-check"></i><b>9.3</b> Excel data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#list-the-sheets-of-xls-file"><i class="fa fa-check"></i><b>9.3.1</b> List the sheets of xls file</a></li>
<li class="chapter" data-level="9.3.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#import-an-excel-sheet"><i class="fa fa-check"></i><b>9.3.2</b> Import an Excel sheet</a></li>
<li class="chapter" data-level="9.3.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#col_names-skip-argument"><i class="fa fa-check"></i><b>9.3.3</b> col_names &amp; skip argument</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#reproducible-excel-work---xlconnect"><i class="fa fa-check"></i><b>9.4</b> Reproducible Excel work - XLConnect</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets"><i class="fa fa-check"></i><b>9.4.1</b> Adapting sheets</a></li>
<li class="chapter" data-level="9.4.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets-1"><i class="fa fa-check"></i><b>9.4.2</b> Adapting sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>10.1</b> Common Data Problems</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#data-type-constraints"><i class="fa fa-check"></i><b>10.1.1</b> Data type constraints</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#range-constraints"><i class="fa fa-check"></i><b>10.1.2</b> Range constraints</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniqueness-constraints"><i class="fa fa-check"></i><b>10.1.3</b> Uniqueness constraints</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>10.2</b> Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#checking-membership"><i class="fa fa-check"></i><b>10.2.1</b> Checking membership</a></li>
<li class="chapter" data-level="10.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-data-problems"><i class="fa fa-check"></i><b>10.2.2</b> Categorical data problems</a></li>
<li class="chapter" data-level="10.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cleaning-text-data"><i class="fa fa-check"></i><b>10.2.3</b> Cleaning text data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>10.3</b> Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniformity"><i class="fa fa-check"></i><b>10.3.1</b> Uniformity</a></li>
<li class="chapter" data-level="10.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cross-field-validation"><i class="fa fa-check"></i><b>10.3.2</b> Cross field validation</a></li>
<li class="chapter" data-level="10.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#completeness"><i class="fa fa-check"></i><b>10.3.3</b> Completeness</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>10.4</b> Record Linkage</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-strings"><i class="fa fa-check"></i><b>10.4.1</b> Comparing strings</a></li>
<li class="chapter" data-level="10.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#generating-and-comparing-pairs"><i class="fa fa-check"></i><b>10.4.2</b> Generating and comparing pairs</a></li>
<li class="chapter" data-level="10.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#scoring-and-linking"><i class="fa fa-check"></i><b>10.4.3</b> Scoring and linking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r"><i class="fa fa-check"></i><b>11.1</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#introduction-to-dates"><i class="fa fa-check"></i><b>11.1.1</b> Introduction to dates</a></li>
<li class="chapter" data-level="11.1.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#why-use-dates"><i class="fa fa-check"></i><b>11.1.2</b> Why use dates?</a></li>
<li class="chapter" data-level="11.1.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#what-about-times"><i class="fa fa-check"></i><b>11.1.3</b> What about times?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate"><i class="fa fa-check"></i><b>11.2</b> Parsing &amp; Manipulating with lubridate</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-dates"><i class="fa fa-check"></i><b>11.2.1</b> Parsing dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#manipulating-dates"><i class="fa fa-check"></i><b>11.2.2</b> Manipulating dates</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime"><i class="fa fa-check"></i><b>11.2.3</b> Extracting parts of a datetime</a></li>
<li class="chapter" data-level="11.2.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#rounding-datetimes"><i class="fa fa-check"></i><b>11.2.4</b> Rounding datetimes</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times"><i class="fa fa-check"></i><b>11.3</b> Arithmetic with Dates and Times</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes"><i class="fa fa-check"></i><b>11.3.1</b> Taking differences of datetimes</a></li>
<li class="chapter" data-level="11.3.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-spans"><i class="fa fa-check"></i><b>11.3.2</b> Time spans</a></li>
<li class="chapter" data-level="11.3.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#intervals"><i class="fa fa-check"></i><b>11.3.3</b> Intervals</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#problems-in-practice"><i class="fa fa-check"></i><b>11.4</b> Problems in practice</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-zones"><i class="fa fa-check"></i><b>11.4.1</b> Time zones</a></li>
<li class="chapter" data-level="11.4.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes"><i class="fa fa-check"></i><b>11.4.2</b> More on import and export datetimes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html"><i class="fa fa-check"></i><b>12</b> Introduction to Writing Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#write-a-function"><i class="fa fa-check"></i><b>12.1</b> Write a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#why-write-function"><i class="fa fa-check"></i><b>12.1.1</b> Why write function?</a></li>
<li class="chapter" data-level="12.1.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#convert-scripts-into-functions"><i class="fa fa-check"></i><b>12.1.2</b> Convert scripts into functions</a></li>
<li class="chapter" data-level="12.1.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#readable-code"><i class="fa fa-check"></i><b>12.1.3</b> Readable code</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#all-about-arguments"><i class="fa fa-check"></i><b>12.2</b> All About Arguments</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#default-arguments"><i class="fa fa-check"></i><b>12.2.1</b> Default arguments</a></li>
<li class="chapter" data-level="12.2.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#pass-arguments-between-functions"><i class="fa fa-check"></i><b>12.2.2</b> Pass arguments between functions</a></li>
<li class="chapter" data-level="12.2.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#checking-arguments"><i class="fa fa-check"></i><b>12.2.3</b> Checking arguments</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-values-and-scope"><i class="fa fa-check"></i><b>12.3</b> Return Values and Scope</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#returning-values"><i class="fa fa-check"></i><b>12.3.1</b> Returning values</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-multiple-values"><i class="fa fa-check"></i><b>12.3.2</b> Return multiple values</a></li>
<li class="chapter" data-level="12.3.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#environments"><i class="fa fa-check"></i><b>12.3.3</b> Environments</a></li>
<li class="chapter" data-level="12.3.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#scope-and-precedence"><i class="fa fa-check"></i><b>12.3.4</b> Scope and precedence</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#case-study-on-grain-yields"><i class="fa fa-check"></i><b>12.4</b> Case Study on Grain Yields</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#grain-yields-unit-conversion"><i class="fa fa-check"></i><b>12.4.1</b> Grain yields &amp; unit conversion</a></li>
<li class="chapter" data-level="12.4.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#visualizing-grain-yields"><i class="fa fa-check"></i><b>12.4.2</b> Visualizing grain yields</a></li>
<li class="chapter" data-level="12.4.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#modeling-grain-yields"><i class="fa fa-check"></i><b>12.4.3</b> Modeling grain yields</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-categorical-data"><i class="fa fa-check"></i><b>13.1</b> Exploring Categorical Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#categorical-data"><i class="fa fa-check"></i><b>13.1.1</b> Categorical data</a></li>
<li class="chapter" data-level="13.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions"><i class="fa fa-check"></i><b>13.1.2</b> Counts vs. proportions</a></li>
<li class="chapter" data-level="13.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable"><i class="fa fa-check"></i><b>13.1.3</b> Distribution of one variable</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-numerical-data"><i class="fa fa-check"></i><b>13.2</b> Exploring numerical data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-data"><i class="fa fa-check"></i><b>13.2.1</b> Numerical Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable-1"><i class="fa fa-check"></i><b>13.2.2</b> Distribution of one variable</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-1"><i class="fa fa-check"></i><b>13.2.3</b> Box plots</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#visual-in-higher-dimensions"><i class="fa fa-check"></i><b>13.2.4</b> Visual in higher dimensions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>13.3</b> Numerical Summaries</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-center-1"><i class="fa fa-check"></i><b>13.3.1</b> Measures of center</a></li>
<li class="chapter" data-level="13.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-variability"><i class="fa fa-check"></i><b>13.3.2</b> Measures of variability</a></li>
<li class="chapter" data-level="13.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#shape-transformations"><i class="fa fa-check"></i><b>13.3.3</b> Shape &amp; transformations</a></li>
<li class="chapter" data-level="13.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#outliers"><i class="fa fa-check"></i><b>13.3.4</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#case-study"><i class="fa fa-check"></i><b>13.4</b> Case Study</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#new-data"><i class="fa fa-check"></i><b>13.4.1</b> New data</a></li>
<li class="chapter" data-level="13.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-1"><i class="fa fa-check"></i><b>13.4.2</b> Check-in 1</a></li>
<li class="chapter" data-level="13.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-2"><i class="fa fa-check"></i><b>13.4.3</b> Check-in 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html"><i class="fa fa-check"></i><b>14</b> Introduction to Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>14.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#tale-of-two-variables"><i class="fa fa-check"></i><b>14.1.1</b> Tale of two variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#fitting-a-linear-regression"><i class="fa fa-check"></i><b>14.1.2</b> Fitting a linear regression</a></li>
<li class="chapter" data-level="14.1.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#categorical-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Categorical explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-model-objects"><i class="fa fa-check"></i><b>14.2</b> Predictions &amp; model objects</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#making-predictions"><i class="fa fa-check"></i><b>14.2.1</b> Making predictions</a></li>
<li class="chapter" data-level="14.2.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#working-with-model-objects"><i class="fa fa-check"></i><b>14.2.2</b> Working with model objects</a></li>
<li class="chapter" data-level="14.2.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>14.2.3</b> Regression to the mean</a></li>
<li class="chapter" data-level="14.2.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#transforming-variables"><i class="fa fa-check"></i><b>14.2.4</b> Transforming variables</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#assessing-model-fit"><i class="fa fa-check"></i><b>14.3</b> Assessing model fit</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantifying-model-fit"><i class="fa fa-check"></i><b>14.3.1</b> Quantifying model fit</a></li>
<li class="chapter" data-level="14.3.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#visualizing-model-fit"><i class="fa fa-check"></i><b>14.3.2</b> Visualizing model fit</a></li>
<li class="chapter" data-level="14.3.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#outliers-leverage-influence"><i class="fa fa-check"></i><b>14.3.3</b> Outliers, leverage, influence</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-logistic-regression"><i class="fa fa-check"></i><b>14.4</b> Simple logistic regression</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#why-need-logistic-regression"><i class="fa fa-check"></i><b>14.4.1</b> Why need logistic regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-odds-ratios"><i class="fa fa-check"></i><b>14.4.2</b> Predictions &amp; odds ratios</a></li>
<li class="chapter" data-level="14.4.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantify-logistic-regression-fit"><i class="fa fa-check"></i><b>14.4.3</b> Quantify logistic regression fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>15</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>15.1</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes-linear-regression"><i class="fa fa-check"></i><b>15.1.1</b> Parallel slopes linear regression</a></li>
<li class="chapter" data-level="15.1.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predicting-parallel-slopes"><i class="fa fa-check"></i><b>15.1.2</b> Predicting parallel slopes</a></li>
<li class="chapter" data-level="15.1.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#assessing-model-performance"><i class="fa fa-check"></i><b>15.1.3</b> Assessing model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#interactions"><i class="fa fa-check"></i><b>15.2</b> Interactions</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#models-for-each-category"><i class="fa fa-check"></i><b>15.2.1</b> Models for each category</a></li>
<li class="chapter" data-level="15.2.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#one-model-with-an-interaction"><i class="fa fa-check"></i><b>15.2.2</b> One model with an interaction</a></li>
<li class="chapter" data-level="15.2.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predict-with-interactions"><i class="fa fa-check"></i><b>15.2.3</b> Predict with interactions</a></li>
<li class="chapter" data-level="15.2.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>15.2.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>15.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#two-numeric-ivs"><i class="fa fa-check"></i><b>15.3.1</b> Two numeric IVs</a></li>
<li class="chapter" data-level="15.3.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#more-than-2-ivs"><i class="fa fa-check"></i><b>15.3.2</b> More than 2 IVs</a></li>
<li class="chapter" data-level="15.3.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance"><i class="fa fa-check"></i><b>15.3.3</b> Model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>15.4</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression-1"><i class="fa fa-check"></i><b>15.4.1</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#logistic-distribution"><i class="fa fa-check"></i><b>15.4.2</b> Logistic distribution</a></li>
<li class="chapter" data-level="15.4.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance-1"><i class="fa fa-check"></i><b>15.4.3</b> Model performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sampling-in-r.html"><a href="sampling-in-r.html"><i class="fa fa-check"></i><b>16</b> Sampling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-sampling"><i class="fa fa-check"></i><b>16.1</b> Introduction to Sampling</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-point-estimates"><i class="fa fa-check"></i><b>16.1.1</b> Sampling &amp; point estimates</a></li>
<li class="chapter" data-level="16.1.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#convenience-sampling"><i class="fa fa-check"></i><b>16.1.2</b> Convenience sampling</a></li>
<li class="chapter" data-level="16.1.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#pseudo-random-number-generation"><i class="fa fa-check"></i><b>16.1.3</b> Pseudo-random number generation</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-methods"><i class="fa fa-check"></i><b>16.2</b> Sampling Methods</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#simple-random-systematic-sampling"><i class="fa fa-check"></i><b>16.2.1</b> Simple random &amp; systematic sampling</a></li>
<li class="chapter" data-level="16.2.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#stratified-weighted-random-sampling"><i class="fa fa-check"></i><b>16.2.2</b> Stratified &amp; weighted random sampling</a></li>
<li class="chapter" data-level="16.2.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>16.2.3</b> Cluster sampling</a></li>
<li class="chapter" data-level="16.2.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-methods"><i class="fa fa-check"></i><b>16.2.4</b> Comparing sampling methods</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-distributions"><i class="fa fa-check"></i><b>16.3</b> Sampling Distributions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#relative-error-of-point-estimates"><i class="fa fa-check"></i><b>16.3.1</b> Relative error of point estimates</a></li>
<li class="chapter" data-level="16.3.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#creating-a-sampling-distribution"><i class="fa fa-check"></i><b>16.3.2</b> Creating a sampling distribution</a></li>
<li class="chapter" data-level="16.3.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#approximate-sampling-distributions"><i class="fa fa-check"></i><b>16.3.3</b> Approximate sampling distributions</a></li>
<li class="chapter" data-level="16.3.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#standard-errors-clt"><i class="fa fa-check"></i><b>16.3.4</b> Standard errors &amp; CLT</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#bootstrap-distributions"><i class="fa fa-check"></i><b>16.4</b> Bootstrap Distributions</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-bootstrapping"><i class="fa fa-check"></i><b>16.4.1</b> Introduction to bootstrapping</a></li>
<li class="chapter" data-level="16.4.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions"><i class="fa fa-check"></i><b>16.4.2</b> Comparing sampling &amp; bootstrap distributions</a></li>
<li class="chapter" data-level="16.4.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#confidence-intervals"><i class="fa fa-check"></i><b>16.4.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>17</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>17.1</b> Introduction to Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-tests-z-scores"><i class="fa fa-check"></i><b>17.1.1</b> Hypothesis tests &amp; z-scores</a></li>
<li class="chapter" data-level="17.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>17.1.2</b> p-values</a></li>
<li class="chapter" data-level="17.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>17.1.3</b> Statistical significance</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-anova-tests"><i class="fa fa-check"></i><b>17.2</b> Two-Sample &amp; ANOVA Tests</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#performing-t-tests"><i class="fa fa-check"></i><b>17.2.1</b> Performing t-tests</a></li>
<li class="chapter" data-level="17.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#calculating-p-values-from-t-statistics"><i class="fa fa-check"></i><b>17.2.2</b> Calculating p-values from t-statistics</a></li>
<li class="chapter" data-level="17.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-t-tests"><i class="fa fa-check"></i><b>17.2.3</b> Paired t-tests</a></li>
<li class="chapter" data-level="17.2.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#anova-tests"><i class="fa fa-check"></i><b>17.2.4</b> ANOVA tests</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#proportion-tests"><i class="fa fa-check"></i><b>17.3</b> Proportion Tests</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.1</b> One-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.2</b> Two-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>17.3.3</b> Chi-square test of independence</a></li>
<li class="chapter" data-level="17.3.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-goodness-of-fit-tests"><i class="fa fa-check"></i><b>17.3.4</b> Chi-square goodness of fit tests</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>17.4</b> Non-Parametric Tests</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#assumptions-in-hypothesis-testing"><i class="fa fa-check"></i><b>17.4.1</b> Assumptions in hypothesis testing</a></li>
<li class="chapter" data-level="17.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#simulation-based-infer-pipeline"><i class="fa fa-check"></i><b>17.4.2</b> Simulation-based infer pipeline</a></li>
<li class="chapter" data-level="17.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-anova-unpaired-t-tests"><i class="fa fa-check"></i><b>17.4.3</b> Non-parametric ANOVA &amp; unpaired t-tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>18</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="18.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-to-experimental-design"><i class="fa fa-check"></i><b>18.1</b> Introduction to experimental design</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-1"><i class="fa fa-check"></i><b>18.1.1</b> Introduction</a></li>
<li class="chapter" data-level="18.1.2" data-path="experimental-design.html"><a href="experimental-design.html#replication-blocking"><i class="fa fa-check"></i><b>18.1.2</b> Replication &amp; blocking</a></li>
<li class="chapter" data-level="18.1.3" data-path="experimental-design.html"><a href="experimental-design.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>18.1.3</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="experimental-design.html"><a href="experimental-design.html#basic-experiments"><i class="fa fa-check"></i><b>18.2</b> Basic Experiments</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="experimental-design.html"><a href="experimental-design.html#anova-factor-experiments"><i class="fa fa-check"></i><b>18.2.1</b> ANOVA &amp; factor experiments</a></li>
<li class="chapter" data-level="18.2.2" data-path="experimental-design.html"><a href="experimental-design.html#model-validation"><i class="fa fa-check"></i><b>18.2.2</b> Model validation</a></li>
<li class="chapter" data-level="18.2.3" data-path="experimental-design.html"><a href="experimental-design.html#ab-testing"><i class="fa fa-check"></i><b>18.2.3</b> A/B testing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="experimental-design.html"><a href="experimental-design.html#block-designs"><i class="fa fa-check"></i><b>18.3</b> Block Designs</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="experimental-design.html"><a href="experimental-design.html#intro-to-sampling"><i class="fa fa-check"></i><b>18.3.1</b> Intro to sampling</a></li>
<li class="chapter" data-level="18.3.2" data-path="experimental-design.html"><a href="experimental-design.html#randomized-complete-block-designs-rcbd"><i class="fa fa-check"></i><b>18.3.2</b> Randomized Complete Block Designs (RCBD)</a></li>
<li class="chapter" data-level="18.3.3" data-path="experimental-design.html"><a href="experimental-design.html#balanced-incomplete-block-designs-bibd"><i class="fa fa-check"></i><b>18.3.3</b> Balanced Incomplete Block Designs (BIBD)</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="experimental-design.html"><a href="experimental-design.html#squares-factorial-experiments"><i class="fa fa-check"></i><b>18.4</b> Squares &amp; Factorial Experiments</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="experimental-design.html"><a href="experimental-design.html#latin-squares"><i class="fa fa-check"></i><b>18.4.1</b> Latin squares</a></li>
<li class="chapter" data-level="18.4.2" data-path="experimental-design.html"><a href="experimental-design.html#graeco-latin-squares"><i class="fa fa-check"></i><b>18.4.2</b> Graeco-Latin squares</a></li>
<li class="chapter" data-level="18.4.3" data-path="experimental-design.html"><a href="experimental-design.html#factorial-experiments"><i class="fa fa-check"></i><b>18.4.3</b> Factorial experiments</a></li>
<li class="chapter" data-level="18.4.4" data-path="experimental-design.html"><a href="experimental-design.html#other-experimental-designs"><i class="fa fa-check"></i><b>18.4.4</b> Other experimental designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html"><i class="fa fa-check"></i><b>19</b> Supervised Learning: Classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-nearest-neighbors-knn"><i class="fa fa-check"></i><b>19.1</b> k-Nearest Neighbors (kNN)</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-with-nearest-neighbors"><i class="fa fa-check"></i><b>19.1.1</b> Classification with Nearest Neighbors</a></li>
<li class="chapter" data-level="19.1.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-in-knn"><i class="fa fa-check"></i><b>19.1.2</b> ‘k’ in kNN</a></li>
<li class="chapter" data-level="19.1.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#data-preparation-for-knn"><i class="fa fa-check"></i><b>19.1.3</b> 1-3.Data preparation for kNN</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#naive-bayes"><i class="fa fa-check"></i><b>19.2</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-bayesian-methods"><i class="fa fa-check"></i><b>19.2.1</b> Understanding Bayesian methods</a></li>
<li class="chapter" data-level="19.2.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-nbs-naivety"><i class="fa fa-check"></i><b>19.2.2</b> Understanding NB’s “naivety”</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#logistic-regression"><i class="fa fa-check"></i><b>19.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-binary-predictions-with-regression"><i class="fa fa-check"></i><b>19.3.1</b> Making binary predictions with regression</a></li>
<li class="chapter" data-level="19.3.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#model-performance-tradeoffs"><i class="fa fa-check"></i><b>19.3.2</b> Model performance tradeoffs</a></li>
<li class="chapter" data-level="19.3.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#dummy-variables-missing-data-and-interactions"><i class="fa fa-check"></i><b>19.3.3</b> Dummy variables, missing data, and interactions</a></li>
<li class="chapter" data-level="19.3.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#automatic-feature-selection"><i class="fa fa-check"></i><b>19.3.4</b> Automatic feature selection</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-trees"><i class="fa fa-check"></i><b>19.4</b> Classification Trees</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-decisions-with-trees"><i class="fa fa-check"></i><b>19.4.1</b> Making decisions with trees</a></li>
<li class="chapter" data-level="19.4.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#growing-larger-classification-trees"><i class="fa fa-check"></i><b>19.4.2</b> Growing larger classification trees</a></li>
<li class="chapter" data-level="19.4.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#tending-to-classification-trees"><i class="fa fa-check"></i><b>19.4.3</b> Tending to classification trees</a></li>
<li class="chapter" data-level="19.4.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#seeing-the-forest-from-the-trees"><i class="fa fa-check"></i><b>19.4.4</b> Seeing the forest from the trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning: Regression</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#what-is-regression"><i class="fa fa-check"></i><b>20.1</b> What is Regression?</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#introduction-2"><i class="fa fa-check"></i><b>20.1.1</b> Introduction</a></li>
<li class="chapter" data-level="20.1.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#linear-regression"><i class="fa fa-check"></i><b>20.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="20.1.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#predicting-model"><i class="fa fa-check"></i><b>20.1.3</b> Predicting model</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-and-evaluating-models"><i class="fa fa-check"></i><b>20.2</b> Training and Evaluating Models</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#graphically"><i class="fa fa-check"></i><b>20.2.1</b> Graphically</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#root-mean-squared-error"><i class="fa fa-check"></i><b>20.2.2</b> Root Mean Squared Error</a></li>
<li class="chapter" data-level="20.2.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#r-squared"><i class="fa fa-check"></i><b>20.2.3</b> R-squared</a></li>
<li class="chapter" data-level="20.2.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-a-model"><i class="fa fa-check"></i><b>20.2.4</b> Training a Model</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#issues-to-consider"><i class="fa fa-check"></i><b>20.3</b> Issues to Consider</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#categorical-iv"><i class="fa fa-check"></i><b>20.3.1</b> Categorical IV</a></li>
<li class="chapter" data-level="20.3.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#interactions-1"><i class="fa fa-check"></i><b>20.3.2</b> Interactions</a></li>
<li class="chapter" data-level="20.3.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-dv-before-modeling"><i class="fa fa-check"></i><b>20.3.3</b> Transforming DV before modeling</a></li>
<li class="chapter" data-level="20.3.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-iv-before-modeling"><i class="fa fa-check"></i><b>20.3.4</b> Transforming IV before modeling</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#dealing-with-non-linear-responses"><i class="fa fa-check"></i><b>20.4</b> Dealing with Non-Linear Responses</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#logistic-regression-to-predict-probabilities"><i class="fa fa-check"></i><b>20.4.1</b> Logistic regression to predict probabilities</a></li>
<li class="chapter" data-level="20.4.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#poisson-and-quasipoisson-regression-to-predict-counts"><i class="fa fa-check"></i><b>20.4.2</b> Poisson and quasipoisson regression to predict counts</a></li>
<li class="chapter" data-level="20.4.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gam-to-learn-non-linear-transforms"><i class="fa fa-check"></i><b>20.4.3</b> GAM to learn non-linear transforms</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#tree-based-methods"><i class="fa fa-check"></i><b>20.5</b> Tree-Based Methods</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#random-forests"><i class="fa fa-check"></i><b>20.5.1</b> Random forests</a></li>
<li class="chapter" data-level="20.5.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#one-hot-encoding"><i class="fa fa-check"></i><b>20.5.2</b> One-Hot-Encoding</a></li>
<li class="chapter" data-level="20.5.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gradient-boosting"><i class="fa fa-check"></i><b>20.5.3</b> Gradient boosting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>21</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="21.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>21.1</b> k-means clustering</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#types-of-machine-learning"><i class="fa fa-check"></i><b>21.1.1</b> Types of machine learning</a></li>
<li class="chapter" data-level="21.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-to-k-means"><i class="fa fa-check"></i><b>21.1.2</b> Introduction to k-means</a></li>
<li class="chapter" data-level="21.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#model-selection"><i class="fa fa-check"></i><b>21.1.3</b> Model selection</a></li>
<li class="chapter" data-level="21.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#pokemon-data"><i class="fa fa-check"></i><b>21.1.4</b> Pokemon data</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>21.2</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>21.2.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#selecting-number-of-clusters-1"><i class="fa fa-check"></i><b>21.2.2</b> Selecting number of clusters</a></li>
<li class="chapter" data-level="21.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-linkage"><i class="fa fa-check"></i><b>21.2.3</b> Clustering linkage</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction---pca"><i class="fa fa-check"></i><b>21.3</b> Dimensionality reduction - PCA</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-4"><i class="fa fa-check"></i><b>21.3.1</b> Introduction</a></li>
<li class="chapter" data-level="21.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#visualizing-and-interpreting-1"><i class="fa fa-check"></i><b>21.3.2</b> Visualizing and interpreting</a></li>
<li class="chapter" data-level="21.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#practical-issues"><i class="fa fa-check"></i><b>21.3.3</b> Practical issues</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#case-study-1"><i class="fa fa-check"></i><b>21.4</b> Case study</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-5"><i class="fa fa-check"></i><b>21.4.1</b> Introduction</a></li>
<li class="chapter" data-level="21.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#next-steps"><i class="fa fa-check"></i><b>21.4.2</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html"><i class="fa fa-check"></i><b>22</b> Intermediate Importing Data in R</a>
<ul>
<li class="chapter" data-level="22.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-1"><i class="fa fa-check"></i><b>22.1</b> Import from databases-1</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#connect-to-a-database"><i class="fa fa-check"></i><b>22.1.1</b> Connect to a database</a></li>
<li class="chapter" data-level="22.1.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-table-data"><i class="fa fa-check"></i><b>22.1.2</b> Import table data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-2"><i class="fa fa-check"></i><b>22.2</b> Import from databases-2</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#sql-queries-from-inside-r"><i class="fa fa-check"></i><b>22.2.1</b> SQL Queries from inside R</a></li>
<li class="chapter" data-level="22.2.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#dbi-internals"><i class="fa fa-check"></i><b>22.2.2</b> DBI internals</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-1"><i class="fa fa-check"></i><b>22.3</b> Import from the web-1</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#http"><i class="fa fa-check"></i><b>22.3.1</b> HTTP</a></li>
<li class="chapter" data-level="22.3.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#downloading-files"><i class="fa fa-check"></i><b>22.3.2</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-2"><i class="fa fa-check"></i><b>22.4</b> Import from the web-2</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#apis-json"><i class="fa fa-check"></i><b>22.4.1</b> APIs &amp; JSON</a></li>
<li class="chapter" data-level="22.4.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#json-jsonlite"><i class="fa fa-check"></i><b>22.4.2</b> JSON &amp; jsonlite</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-statistical-software"><i class="fa fa-check"></i><b>22.5</b> Import from statistical software</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#haven-package"><i class="fa fa-check"></i><b>22.5.1</b> haven package</a></li>
<li class="chapter" data-level="22.5.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#foreign-package"><i class="fa fa-check"></i><b>22.5.2</b> foreign package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>23</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#relational-databases"><i class="fa fa-check"></i><b>23.1</b> Relational Databases</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#databases"><i class="fa fa-check"></i><b>23.1.1</b> Databases</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#tables"><i class="fa fa-check"></i><b>23.1.2</b> Tables</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#data"><i class="fa fa-check"></i><b>23.1.3</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#querying"><i class="fa fa-check"></i><b>23.2</b> Querying</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#introducing"><i class="fa fa-check"></i><b>23.2.1</b> Introducing</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#writing-queries"><i class="fa fa-check"></i><b>23.2.2</b> Writing queries</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sql-flavors"><i class="fa fa-check"></i><b>23.2.3</b> SQL flavors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="intermediate-sql.html"><a href="intermediate-sql.html"><i class="fa fa-check"></i><b>24</b> Intermediate SQL</a>
<ul>
<li class="chapter" data-level="24.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#selecting-data"><i class="fa fa-check"></i><b>24.1</b> Selecting Data</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#querying-a-database"><i class="fa fa-check"></i><b>24.1.1</b> Querying a database</a></li>
<li class="chapter" data-level="24.1.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#query-execution"><i class="fa fa-check"></i><b>24.1.2</b> Query execution</a></li>
<li class="chapter" data-level="24.1.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sql-style"><i class="fa fa-check"></i><b>24.1.3</b> SQL style</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-records"><i class="fa fa-check"></i><b>24.2</b> Filtering Records</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-numbers"><i class="fa fa-check"></i><b>24.2.1</b> Filtering numbers</a></li>
<li class="chapter" data-level="24.2.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#multiple-criteria"><i class="fa fa-check"></i><b>24.2.2</b> Multiple criteria</a></li>
<li class="chapter" data-level="24.2.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-text"><i class="fa fa-check"></i><b>24.2.3</b> Filtering text</a></li>
<li class="chapter" data-level="24.2.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#null-values"><i class="fa fa-check"></i><b>24.2.4</b> NULL values</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>24.3</b> Aggregate Functions</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-data"><i class="fa fa-check"></i><b>24.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="24.3.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-subsets"><i class="fa fa-check"></i><b>24.3.2</b> Summarizing subsets</a></li>
<li class="chapter" data-level="24.3.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aliasing-and-arithmetic"><i class="fa fa-check"></i><b>24.3.3</b> Aliasing and arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>24.4</b> Sorting and Grouping</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-results"><i class="fa fa-check"></i><b>24.4.1</b> Sorting results</a></li>
<li class="chapter" data-level="24.4.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#grouping-data"><i class="fa fa-check"></i><b>24.4.2</b> Grouping data</a></li>
<li class="chapter" data-level="24.4.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-grouped-data"><i class="fa fa-check"></i><b>24.4.3</b> Filtering grouped data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>25</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="25.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inner-joins"><i class="fa fa-check"></i><b>25.1</b> Inner Joins</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#ins-outs-of-inner-join"><i class="fa fa-check"></i><b>25.1.1</b> ins &amp; outs of INNER JOIN</a></li>
<li class="chapter" data-level="25.1.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#defining-relationships"><i class="fa fa-check"></i><b>25.1.2</b> Defining relationships</a></li>
<li class="chapter" data-level="25.1.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#multiple-joins"><i class="fa fa-check"></i><b>25.1.3</b> Multiple joins</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-cross-self-joins"><i class="fa fa-check"></i><b>25.2</b> Outer, Cross &amp; Self Joins</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#left-right-joins-1"><i class="fa fa-check"></i><b>25.2.1</b> LEFT &amp; RIGHT JOINs</a></li>
<li class="chapter" data-level="25.2.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#full-join-1"><i class="fa fa-check"></i><b>25.2.2</b> FULL JOIN</a></li>
<li class="chapter" data-level="25.2.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#cross-join"><i class="fa fa-check"></i><b>25.2.3</b> CROSS JOIN</a></li>
<li class="chapter" data-level="25.2.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#self-joins"><i class="fa fa-check"></i><b>25.2.4</b> Self joins</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-for-sql-joins"><i class="fa fa-check"></i><b>25.3</b> Set Theory for SQL Joins</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#union-vs.-union-all"><i class="fa fa-check"></i><b>25.3.1</b> UNION vs. UNION ALL</a></li>
<li class="chapter" data-level="25.3.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#intersect"><i class="fa fa-check"></i><b>25.3.2</b> INTERSECT</a></li>
<li class="chapter" data-level="25.3.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#except"><i class="fa fa-check"></i><b>25.3.3</b> EXCEPT</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>25.4</b> Subqueries</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#with-semi-joins-anti-joins"><i class="fa fa-check"></i><b>25.4.1</b> With semi joins &amp; anti joins</a></li>
<li class="chapter" data-level="25.4.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-where-select"><i class="fa fa-check"></i><b>25.4.2</b> Inside WHERE &amp; SELECT</a></li>
<li class="chapter" data-level="25.4.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-from"><i class="fa fa-check"></i><b>25.4.3</b> Inside FROM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>26</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="26.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#introduction-6"><i class="fa fa-check"></i><b>26.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#useful-shell-commands"><i class="fa fa-check"></i><b>26.1.1</b> Useful shell commands</a></li>
<li class="chapter" data-level="26.1.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#saving-files"><i class="fa fa-check"></i><b>26.1.2</b> Saving files</a></li>
<li class="chapter" data-level="26.1.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>26.1.3</b> Comparing files</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#making-changes"><i class="fa fa-check"></i><b>26.2</b> Making changes</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#storing-data-with-git"><i class="fa fa-check"></i><b>26.2.1</b> Storing data with Git</a></li>
<li class="chapter" data-level="26.2.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#viewing-changes"><i class="fa fa-check"></i><b>26.2.2</b> Viewing changes</a></li>
<li class="chapter" data-level="26.2.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-changes-before-committing"><i class="fa fa-check"></i><b>26.2.3</b> Undoing changes before committing</a></li>
<li class="chapter" data-level="26.2.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#restoring-and-reverting"><i class="fa fa-check"></i><b>26.2.4</b> Restoring and reverting</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#git-workflows"><i class="fa fa-check"></i><b>26.3</b> Git workflows</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#configuring-git"><i class="fa fa-check"></i><b>26.3.1</b> Configuring Git</a></li>
<li class="chapter" data-level="26.3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#branches"><i class="fa fa-check"></i><b>26.3.2</b> Branches</a></li>
<li class="chapter" data-level="26.3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-branches"><i class="fa fa-check"></i><b>26.3.3</b> Working with branches</a></li>
<li class="chapter" data-level="26.3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#handling-conflict"><i class="fa fa-check"></i><b>26.3.4</b> Handling conflict</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#collaborating-with-git"><i class="fa fa-check"></i><b>26.4</b> Collaborating with Git</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-repos"><i class="fa fa-check"></i><b>26.4.1</b> Creating repos</a></li>
<li class="chapter" data-level="26.4.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-remotes"><i class="fa fa-check"></i><b>26.4.2</b> Working with remotes</a></li>
<li class="chapter" data-level="26.4.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pulling-from-a-remote"><i class="fa fa-check"></i><b>26.4.3</b> Pulling from a remote</a></li>
<li class="chapter" data-level="26.4.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pushing-to-a-remote"><i class="fa fa-check"></i><b>26.4.4</b> Pushing to a remote</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Scientist with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sampling-in-r" class="section level1 hasAnchor" number="16">
<h1><span class="header-section-number">Chapter 16</span> Sampling in R<a href="sampling-in-r.html#sampling-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-to-sampling" class="section level2 hasAnchor" number="16.1">
<h2><span class="header-section-number">16.1</span> Introduction to Sampling<a href="sampling-in-r.html#introduction-to-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="sampling-point-estimates" class="section level3 hasAnchor" number="16.1.1">
<h3><span class="header-section-number">16.1.1</span> Sampling &amp; point estimates<a href="sampling-in-r.html#sampling-point-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Population vs. sample</strong></p>
<ul>
<li><p>The <em>population</em> is the complete dataset.</p>
<ul>
<li><p>It doesn’t have to refer to people.</p></li>
<li><p>You typically don’t know what the whole population is.</p></li>
</ul></li>
<li><p>The <em>sample</em> is the subset of data you calculate on.</p></li>
</ul>
<p><strong>Base-R sampling</strong></p>
<ul>
<li><p><code>slice_sample(df, n = num of sampling)</code> : for data frames</p></li>
<li><p><code>sample(vec, size = num of sampling)</code> : for vectors</p></li>
</ul>
<p><strong>Population parameters vs. point estimates</strong></p>
<ul>
<li><p>A <em>population parameter</em> is a calculation made on the population dataset.</p></li>
<li><p>A <em>point estimate</em> or <em>sample statistic</em> is a calculation made on the sample dataset.</p></li>
</ul>
<div id="simple-sampling-with-dplyr" class="section level4 hasAnchor" number="16.1.1.1">
<h4><span class="header-section-number">16.1.1.1</span> Simple sampling with dplyr<a href="sampling-in-r.html#simple-sampling-with-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>you’ll be exploring song data from Spotify. Each row of the dataset represents a song. Columns include the name of the song, the artists who performed it, the release year, and attributes of the song like its duration, tempo, and danceability.</p>
<div class="sourceCode" id="cb2122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2122-1"><a href="sampling-in-r.html#cb2122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2122-2"><a href="sampling-in-r.html#cb2122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fst)</span>
<span id="cb2122-3"><a href="sampling-in-r.html#cb2122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2122-4"><a href="sampling-in-r.html#cb2122-4" aria-hidden="true" tabindex="-1"></a>spotify_population <span class="ot">&lt;-</span> <span class="fu">read_fst</span>(<span class="st">&quot;data/spotify_2000_2020.fst&quot;</span>)</span>
<span id="cb2122-5"><a href="sampling-in-r.html#cb2122-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2122-6"><a href="sampling-in-r.html#cb2122-6" aria-hidden="true" tabindex="-1"></a><span class="co"># View the whole population dataset</span></span>
<span id="cb2122-7"><a href="sampling-in-r.html#cb2122-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spotify_population)</span></code></pre></div>
<pre><code>## Rows: 41,656
## Columns: 20
## $ acousticness     &lt;dbl&gt; 0.9720000, 0.3210000, 0.0065900, 0.0039000, 0.1220000…
## $ artists          &lt;chr&gt; &quot;[&#39;David Bauer&#39;]&quot;, &quot;[&#39;Etta James&#39;]&quot;, &quot;[&#39;Quasimoto&#39;]&quot;,…
## $ danceability     &lt;dbl&gt; 0.567, 0.821, 0.706, 0.368, 0.501, 0.829, 0.352, 0.97…
## $ duration_ms      &lt;dbl&gt; 313293, 360240, 202507, 173360, 344200, 195293, 17477…
## $ duration_minutes &lt;dbl&gt; 5.222, 6.004, 3.375, 2.889, 5.737, 3.255, 2.913, 0.94…
## $ energy           &lt;dbl&gt; 0.2270, 0.4180, 0.6020, 0.9770, 0.5110, 0.6140, 0.985…
## $ explicit         &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ id               &lt;chr&gt; &quot;0w0D8H1ubRerCXHWYJkinO&quot;, &quot;4JVeqfE2tpi7Pv63LJZtPh&quot;, &quot;…
## $ instrumentalness &lt;dbl&gt; 0.60100000, 0.00037200, 0.00013800, 0.00000000, 0.000…
## $ key              &lt;dbl&gt; 10, 9, 11, 11, 7, 1, 2, 7, 8, 4, 9, 1, 10, 8, 2, 10, …
## $ liveness         &lt;dbl&gt; 0.1100, 0.2220, 0.4000, 0.3500, 0.2790, 0.0975, 0.367…
## $ loudness         &lt;dbl&gt; -13.44, -9.84, -8.31, -2.76, -9.84, -8.55, -2.56, -8.…
## $ mode             &lt;dbl&gt; 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0,…
## $ name             &lt;chr&gt; &quot;Shout to the Lord&quot;, &quot;Miss You&quot;, &quot;Real Eyes&quot;, &quot;Pengui…
## $ popularity       &lt;dbl&gt; 47, 51, 44, 52, 53, 46, 40, 39, 41, 47, 39, 42, 52, 3…
## $ release_date     &lt;chr&gt; &quot;2000&quot;, &quot;2000-12-12&quot;, &quot;2000-06-13&quot;, &quot;2000-02-22&quot;, &quot;20…
## $ speechiness      &lt;dbl&gt; 0.0290, 0.0407, 0.3420, 0.1270, 0.0291, 0.2670, 0.220…
## $ tempo            &lt;dbl&gt; 136.1, 117.4, 89.7, 165.9, 78.0, 90.9, 130.0, 114.0, …
## $ valence          &lt;dbl&gt; 0.0396, 0.8030, 0.4790, 0.5480, 0.1130, 0.4960, 0.241…
## $ year             &lt;dbl&gt; 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000,…</code></pre>
<p>Here, sample the song dataset and compare a calculation on the whole population and on a sample.</p>
<div class="sourceCode" id="cb2124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2124-1"><a href="sampling-in-r.html#cb2124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample 1000 rows from spotify_population</span></span>
<span id="cb2124-2"><a href="sampling-in-r.html#cb2124-2" aria-hidden="true" tabindex="-1"></a>spotify_sample <span class="ot">&lt;-</span> <span class="fu">slice_sample</span>(spotify_population, <span class="at">n =</span> <span class="dv">1000</span>)</span>
<span id="cb2124-3"><a href="sampling-in-r.html#cb2124-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2124-4"><a href="sampling-in-r.html#cb2124-4" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2124-5"><a href="sampling-in-r.html#cb2124-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spotify_sample)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 20
## $ acousticness     &lt;dbl&gt; 0.42200000, 0.89400000, 0.58300000, 0.00554000, 0.000…
## $ artists          &lt;chr&gt; &quot;[&#39;The Partridge Family&#39;]&quot;, &quot;[&#39;Sin Bandera&#39;]&quot;, &quot;[&#39;Mar…
## $ danceability     &lt;dbl&gt; 0.432, 0.607, 0.495, 0.764, 0.640, 0.896, 0.865, 0.40…
## $ duration_ms      &lt;dbl&gt; 173400, 227613, 200427, 199853, 286173, 200760, 27076…
## $ duration_minutes &lt;dbl&gt; 2.89, 3.79, 3.34, 3.33, 4.77, 3.35, 4.51, 4.05, 5.92,…
## $ energy           &lt;dbl&gt; 0.4710, 0.1880, 0.4810, 0.7510, 0.8380, 0.5900, 0.530…
## $ explicit         &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1,…
## $ id               &lt;chr&gt; &quot;2hb6LFp0TwBjkhf37od4G3&quot;, &quot;072YgF7J2clpY8DsWOpEri&quot;, &quot;…
## $ instrumentalness &lt;dbl&gt; 0.00000000, 0.00000174, 0.00000000, 0.00023700, 0.004…
## $ key              &lt;dbl&gt; 3, 7, 1, 8, 2, 5, 6, 0, 3, 3, 9, 1, 1, 7, 4, 7, 7, 10…
## $ liveness         &lt;dbl&gt; 0.1410, 0.1090, 0.1050, 0.1640, 0.3070, 0.6770, 0.109…
## $ loudness         &lt;dbl&gt; -12.26, -15.08, -7.26, -3.74, -3.56, -3.64, -10.87, -…
## $ mode             &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1,…
## $ name             &lt;chr&gt; &quot;I Think I Love You&quot;, &quot;Mientes Tan Bien&quot;, &quot;Against Al…
## $ popularity       &lt;dbl&gt; 45, 67, 50, 62, 48, 44, 42, 46, 60, 50, 51, 58, 47, 6…
## $ release_date     &lt;chr&gt; &quot;2005-05-03&quot;, &quot;2003-10-01&quot;, &quot;2000&quot;, &quot;2007-05-29&quot;, &quot;20…
## $ speechiness      &lt;dbl&gt; 0.0473, 0.0326, 0.0333, 0.0703, 0.0428, 0.2080, 0.129…
## $ tempo            &lt;dbl&gt; 203.3, 135.9, 117.5, 92.0, 127.1, 93.9, 79.9, 78.4, 1…
## $ valence          &lt;dbl&gt; 0.7830, 0.4880, 0.3170, 0.4180, 0.6570, 0.8940, 0.810…
## $ year             &lt;dbl&gt; 2005, 2003, 2000, 2007, 2001, 2000, 2005, 2011, 2016,…</code></pre>
<p>Notice that the mean duration of songs in the sample is similar, but not identical to the mean duration of songs in the whole population.</p>
<div class="sourceCode" id="cb2126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2126-1"><a href="sampling-in-r.html#cb2126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean duration in mins from spotify_population</span></span>
<span id="cb2126-2"><a href="sampling-in-r.html#cb2126-2" aria-hidden="true" tabindex="-1"></a>mean_dur_pop <span class="ot">&lt;-</span> spotify_population <span class="sc">%&gt;%</span> </span>
<span id="cb2126-3"><a href="sampling-in-r.html#cb2126-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_dur_pop =</span> <span class="fu">mean</span>(duration_minutes))</span>
<span id="cb2126-4"><a href="sampling-in-r.html#cb2126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2126-5"><a href="sampling-in-r.html#cb2126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2126-6"><a href="sampling-in-r.html#cb2126-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean duration in mins from spotify_sample</span></span>
<span id="cb2126-7"><a href="sampling-in-r.html#cb2126-7" aria-hidden="true" tabindex="-1"></a>mean_dur_samp <span class="ot">&lt;-</span> spotify_sample <span class="sc">%&gt;%</span> </span>
<span id="cb2126-8"><a href="sampling-in-r.html#cb2126-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_dur_samp =</span> <span class="fu">mean</span>(duration_minutes))</span>
<span id="cb2126-9"><a href="sampling-in-r.html#cb2126-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2126-10"><a href="sampling-in-r.html#cb2126-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2126-11"><a href="sampling-in-r.html#cb2126-11" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2126-12"><a href="sampling-in-r.html#cb2126-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(mean_dur_pop, mean_dur_samp)</span></code></pre></div>
<pre><code>##   mean_dur_pop mean_dur_samp
## 1         3.85          3.92</code></pre>
</div>
<div id="simple-sampling-with-base-r" class="section level4 hasAnchor" number="16.1.1.2">
<h4><span class="header-section-number">16.1.1.2</span> Simple sampling with base-R<a href="sampling-in-r.html#simple-sampling-with-base-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s look at the loudness property of each song.</p>
<div class="sourceCode" id="cb2128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2128-1"><a href="sampling-in-r.html#cb2128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the loudness column of spotify_population</span></span>
<span id="cb2128-2"><a href="sampling-in-r.html#cb2128-2" aria-hidden="true" tabindex="-1"></a>loudness_pop <span class="ot">&lt;-</span> spotify_population<span class="sc">$</span>loudness</span>
<span id="cb2128-3"><a href="sampling-in-r.html#cb2128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2128-4"><a href="sampling-in-r.html#cb2128-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample 100 values of loudness_pop</span></span>
<span id="cb2128-5"><a href="sampling-in-r.html#cb2128-5" aria-hidden="true" tabindex="-1"></a>loudness_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(loudness_pop, <span class="at">size =</span> <span class="dv">100</span>)</span>
<span id="cb2128-6"><a href="sampling-in-r.html#cb2128-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2128-7"><a href="sampling-in-r.html#cb2128-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2128-8"><a href="sampling-in-r.html#cb2128-8" aria-hidden="true" tabindex="-1"></a>loudness_samp</span></code></pre></div>
<pre><code>##   [1]  -8.02  -4.32  -5.74  -3.13  -4.36  -9.31  -5.86  -6.94  -8.89  -1.46
##  [11]  -7.65  -5.17  -5.29 -24.51  -9.20  -4.71  -3.62  -6.68  -5.91  -7.04
##  [21]  -7.29 -14.20  -5.77  -8.91  -8.58  -8.48  -3.79  -6.72  -3.74  -5.60
##  [31]  -4.43  -5.75  -5.50  -3.64  -9.53  -4.36  -4.47  -4.06  -6.14  -4.76
##  [41]  -8.12  -5.28 -11.03  -4.88  -8.49  -9.20  -4.87  -5.82  -5.45  -2.98
##  [51]  -7.37  -7.04  -9.14  -7.76  -2.70  -7.39  -6.66 -19.71  -5.31 -25.53
##  [61]  -5.07  -3.50  -6.17 -14.74  -5.50  -5.22  -2.93  -8.20  -8.87  -7.73
##  [71]  -7.74  -9.13  -9.73  -8.13  -6.61 -21.62  -7.84  -4.12 -37.49 -10.72
##  [81]  -8.23  -5.48  -4.14  -6.91  -7.52  -3.75  -7.16 -12.46 -11.66  -6.49
##  [91]  -3.77  -5.46 -19.02  -9.87  -5.87  -3.84 -10.01  -6.89  -8.84  -5.91</code></pre>
<p>Again, notice that the calculated value (the standard deviation) is close but not identical in each case.</p>
<div class="sourceCode" id="cb2130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2130-1"><a href="sampling-in-r.html#cb2130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the standard deviation of loudness_pop</span></span>
<span id="cb2130-2"><a href="sampling-in-r.html#cb2130-2" aria-hidden="true" tabindex="-1"></a>sd_loudness_pop <span class="ot">&lt;-</span> <span class="fu">sd</span>(loudness_pop)</span>
<span id="cb2130-3"><a href="sampling-in-r.html#cb2130-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2130-4"><a href="sampling-in-r.html#cb2130-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the standard deviation of loudness_samp</span></span>
<span id="cb2130-5"><a href="sampling-in-r.html#cb2130-5" aria-hidden="true" tabindex="-1"></a>sd_loudness_samp <span class="ot">&lt;-</span> <span class="fu">sd</span>(loudness_samp)</span>
<span id="cb2130-6"><a href="sampling-in-r.html#cb2130-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2130-7"><a href="sampling-in-r.html#cb2130-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2130-8"><a href="sampling-in-r.html#cb2130-8" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(sd_loudness_pop, sd_loudness_samp)</span></code></pre></div>
<pre><code>## [1] 4.52 5.16</code></pre>
</div>
</div>
<div id="convenience-sampling" class="section level3 hasAnchor" number="16.1.2">
<h3><span class="header-section-number">16.1.2</span> Convenience sampling<a href="sampling-in-r.html#convenience-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Sample not representative of population, causing <em>sample bias</em>.</p></li>
<li><p>Collecting data by the easiest method is called <em>convenience sampling</em>.</p></li>
<li><p>Visualizing selection bias with histogram.</p></li>
</ul>
<div id="generalizable" class="section level4 hasAnchor" number="16.1.2.1">
<h4><span class="header-section-number">16.1.2.1</span> Generalizable<a href="sampling-in-r.html#generalizable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Visualizing the distributions of the population and the sample can help determine whether or not the sample is representative of the population.</p>
<p>The Spotify dataset contains a column named <code>acousticness</code>, which is a confidence measure from zero to one of whether the track is acoustic, that is, it was made with instruments that aren’t plugged in.</p>
<div class="sourceCode" id="cb2132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2132-1"><a href="sampling-in-r.html#cb2132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the distribution of acousticness as a histogram with a binwidth of 0.01</span></span>
<span id="cb2132-2"><a href="sampling-in-r.html#cb2132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(spotify_population, <span class="fu">aes</span>(<span class="at">x =</span> acousticness)) <span class="sc">+</span></span>
<span id="cb2132-3"><a href="sampling-in-r.html#cb2132-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-771-1.png" width="672" /></p>
<div class="sourceCode" id="cb2133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2133-1"><a href="sampling-in-r.html#cb2133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sampling</span></span>
<span id="cb2133-2"><a href="sampling-in-r.html#cb2133-2" aria-hidden="true" tabindex="-1"></a>spotify_mysterious_sample <span class="ot">&lt;-</span> <span class="fu">slice_max</span>(spotify_population, <span class="at">order_by =</span> acousticness, <span class="at">n =</span> <span class="dv">1107</span>)</span>
<span id="cb2133-3"><a href="sampling-in-r.html#cb2133-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2133-4"><a href="sampling-in-r.html#cb2133-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the histogram to use spotify_mysterious_sample with x-axis limits from 0 to 1</span></span>
<span id="cb2133-5"><a href="sampling-in-r.html#cb2133-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(spotify_mysterious_sample, <span class="fu">aes</span>(acousticness)) <span class="sc">+</span></span>
<span id="cb2133-6"><a href="sampling-in-r.html#cb2133-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb2133-7"><a href="sampling-in-r.html#cb2133-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values
## (`geom_bar()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-772-1.png" width="672" /></p>
<p>The <code>acousticness</code> values in the sample are all greater than <code>0.95</code>, whereas they range from <code>0</code> to <code>1</code> in the whole population.</p>
<p>Let’s look at another sample to see if it is representative of the population. This time, you’ll look at the <code>duration_minutes</code> column of the Spotify datasets.</p>
<div class="sourceCode" id="cb2135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2135-1"><a href="sampling-in-r.html#cb2135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the distribution of duration_minutes as a histogram with a binwidth of 0.5</span></span>
<span id="cb2135-2"><a href="sampling-in-r.html#cb2135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(spotify_population, <span class="fu">aes</span>(duration_minutes)) <span class="sc">+</span></span>
<span id="cb2135-3"><a href="sampling-in-r.html#cb2135-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb2135-4"><a href="sampling-in-r.html#cb2135-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 28 rows containing non-finite values
## (`stat_bin()`).</code></pre>
<pre><code>## Warning: Removed 2 rows containing missing values
## (`geom_bar()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-773-1.png" width="672" /></p>
<div class="sourceCode" id="cb2138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2138-1"><a href="sampling-in-r.html#cb2138-1" aria-hidden="true" tabindex="-1"></a>spotify_mysterious_sample2 <span class="ot">&lt;-</span> <span class="fu">slice_sample</span>(spotify_population, <span class="at">n =</span> <span class="dv">50</span>)</span>
<span id="cb2138-2"><a href="sampling-in-r.html#cb2138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2138-3"><a href="sampling-in-r.html#cb2138-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the histogram to use spotify_mysterious_sample2 with x-axis limits from 0 to 15</span></span>
<span id="cb2138-4"><a href="sampling-in-r.html#cb2138-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(spotify_mysterious_sample2, <span class="fu">aes</span>(duration_minutes)) <span class="sc">+</span></span>
<span id="cb2138-5"><a href="sampling-in-r.html#cb2138-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb2138-6"><a href="sampling-in-r.html#cb2138-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values
## (`geom_bar()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-774-1.png" width="672" /></p>
<p>The duration values in the sample show a similar distribution to those in the whole population, so the results are generalizable.</p>
</div>
</div>
<div id="pseudo-random-number-generation" class="section level3 hasAnchor" number="16.1.3">
<h3><span class="header-section-number">16.1.3</span> Pseudo-random number generation<a href="sampling-in-r.html#pseudo-random-number-generation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Next “random” number calculated from previous “random” number.</p></li>
<li><p>The first “random” number calculated from a <em>seed</em>.</p></li>
<li><p>If you start from the same seed value, all future random numbers will be the same.</p></li>
</ul>
<p><strong>Random number generating functions</strong></p>
<p><img src="image/Random%20number%20generating%20functions.png" width="563" /></p>
<div id="generating-random-numbers" class="section level4 hasAnchor" number="16.1.3.1">
<h4><span class="header-section-number">16.1.3.1</span> Generating random numbers<a href="sampling-in-r.html#generating-random-numbers" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A related task is to generate random numbers that follow a statistical distribution, like the uniform distribution or the normal distribution.</p>
<p>Each random number generation function has a name beginning with “<code>r</code>”. It’s first argument is the number of numbers to generate, but other arguments are distribution-specific.</p>
<div class="sourceCode" id="cb2140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2140-1"><a href="sampling-in-r.html#cb2140-1" aria-hidden="true" tabindex="-1"></a>n_numbers <span class="ot">&lt;-</span> <span class="dv">5000</span></span>
<span id="cb2140-2"><a href="sampling-in-r.html#cb2140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2140-3"><a href="sampling-in-r.html#cb2140-3" aria-hidden="true" tabindex="-1"></a><span class="co"># see what arguments you need to pass to those functions</span></span>
<span id="cb2140-4"><a href="sampling-in-r.html#cb2140-4" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(runif)</span></code></pre></div>
<pre><code>## function (n, min = 0, max = 1) 
## NULL</code></pre>
<div class="sourceCode" id="cb2142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2142-1"><a href="sampling-in-r.html#cb2142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(rnorm)</span></code></pre></div>
<pre><code>## function (n, mean = 0, sd = 1) 
## NULL</code></pre>
<p>Complete the data frame of random numbers.</p>
<div class="sourceCode" id="cb2144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2144-1"><a href="sampling-in-r.html#cb2144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate random numbers from ...</span></span>
<span id="cb2144-2"><a href="sampling-in-r.html#cb2144-2" aria-hidden="true" tabindex="-1"></a>randoms <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2144-3"><a href="sampling-in-r.html#cb2144-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a uniform distribution from -3 to 3</span></span>
<span id="cb2144-4"><a href="sampling-in-r.html#cb2144-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">uniform =</span> <span class="fu">runif</span>(n_numbers, <span class="at">min =</span> <span class="sc">-</span><span class="dv">3</span>, <span class="at">max =</span> <span class="dv">3</span>),</span>
<span id="cb2144-5"><a href="sampling-in-r.html#cb2144-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a normal distribution with mean 5 and sd 2</span></span>
<span id="cb2144-6"><a href="sampling-in-r.html#cb2144-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">normal =</span> <span class="fu">rnorm</span>(n_numbers, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb2144-7"><a href="sampling-in-r.html#cb2144-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb2145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2145-1"><a href="sampling-in-r.html#cb2145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a histogram of uniform values, binwidth 0.25</span></span>
<span id="cb2145-2"><a href="sampling-in-r.html#cb2145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(randoms, <span class="fu">aes</span>(<span class="at">x =</span> uniform)) <span class="sc">+</span></span>
<span id="cb2145-3"><a href="sampling-in-r.html#cb2145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.25</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-777-1.png" width="672" /></p>
<div class="sourceCode" id="cb2146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2146-1"><a href="sampling-in-r.html#cb2146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a histogram of normal values, binwidth 0.5</span></span>
<span id="cb2146-2"><a href="sampling-in-r.html#cb2146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(randoms, <span class="fu">aes</span>(<span class="at">x =</span> normal)) <span class="sc">+</span></span>
<span id="cb2146-3"><a href="sampling-in-r.html#cb2146-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-778-1.png" width="672" /></p>
</div>
<div id="random-seeds" class="section level4 hasAnchor" number="16.1.3.2">
<h4><span class="header-section-number">16.1.3.2</span> Random seeds<a href="sampling-in-r.html#random-seeds" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Setting the seed to R’s random number generator helps avoid different output every time by making the random number generation reproducible.</p>
<div class="sourceCode" id="cb2147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2147-1"><a href="sampling-in-r.html#cb2147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># different value</span></span>
<span id="cb2147-2"><a href="sampling-in-r.html#cb2147-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2147-3"><a href="sampling-in-r.html#cb2147-3" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">r1 =</span> <span class="fu">rnorm</span>(<span class="dv">5</span>), <span class="at">r2 =</span> <span class="fu">rnorm</span>(<span class="dv">5</span>))</span></code></pre></div>
<pre><code>## $r1
## [1] 0.187 1.996 2.299 1.127 1.081
## 
## $r2
## [1]  0.5692 -0.9071  0.0299 -1.5590  0.2975</code></pre>
<div class="sourceCode" id="cb2149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2149-1"><a href="sampling-in-r.html#cb2149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same value</span></span>
<span id="cb2149-2"><a href="sampling-in-r.html#cb2149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2149-3"><a href="sampling-in-r.html#cb2149-3" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb2149-4"><a href="sampling-in-r.html#cb2149-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2149-5"><a href="sampling-in-r.html#cb2149-5" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb2149-6"><a href="sampling-in-r.html#cb2149-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2149-7"><a href="sampling-in-r.html#cb2149-7" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">r1 =</span> r1, <span class="at">r2 =</span> r2)</span></code></pre></div>
<pre><code>## $r1
## [1] 0.187 1.996 2.299 1.127 1.081
## 
## $r2
## [1] 0.187 1.996 2.299 1.127 1.081</code></pre>
<div class="sourceCode" id="cb2151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2151-1"><a href="sampling-in-r.html#cb2151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># different value</span></span>
<span id="cb2151-2"><a href="sampling-in-r.html#cb2151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2151-3"><a href="sampling-in-r.html#cb2151-3" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb2151-4"><a href="sampling-in-r.html#cb2151-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">456</span>)</span>
<span id="cb2151-5"><a href="sampling-in-r.html#cb2151-5" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb2151-6"><a href="sampling-in-r.html#cb2151-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2151-7"><a href="sampling-in-r.html#cb2151-7" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">r1 =</span> r1, <span class="at">r2 =</span> r2)</span></code></pre></div>
<pre><code>## $r1
## [1] 0.187 1.996 2.299 1.127 1.081
## 
## $r2
## [1]  2.163  1.717  1.229 -0.679 -1.053</code></pre>
<div class="sourceCode" id="cb2153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2153-1"><a href="sampling-in-r.html#cb2153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same value</span></span>
<span id="cb2153-2"><a href="sampling-in-r.html#cb2153-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2153-3"><a href="sampling-in-r.html#cb2153-3" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">5</span>))</span>
<span id="cb2153-4"><a href="sampling-in-r.html#cb2153-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2153-5"><a href="sampling-in-r.html#cb2153-5" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb2153-6"><a href="sampling-in-r.html#cb2153-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2153-7"><a href="sampling-in-r.html#cb2153-7" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">r1 =</span> r1, <span class="at">r2 =</span> r2)</span></code></pre></div>
<pre><code>## $r1
##  [1]  0.1871  1.9960  2.2994  1.1275  1.0811  0.5692 -0.9071  0.0299 -1.5590
## [10]  0.2975
## 
## $r2
##  [1]  0.1871  1.9960  2.2994  1.1275  1.0811  0.5692 -0.9071  0.0299 -1.5590
## [10]  0.2975</code></pre>
<p>Setting the seed to a particular value means that subsequent random code that generates random numbers will have the same answer each time you run it.</p>
</div>
</div>
</div>
<div id="sampling-methods" class="section level2 hasAnchor" number="16.2">
<h2><span class="header-section-number">16.2</span> Sampling Methods<a href="sampling-in-r.html#sampling-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="simple-random-systematic-sampling" class="section level3 hasAnchor" number="16.2.1">
<h3><span class="header-section-number">16.2.1</span> Simple random &amp; systematic sampling<a href="sampling-in-r.html#simple-random-systematic-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="simple-random-sampling" class="section level4 hasAnchor" number="16.2.1.1">
<h4><span class="header-section-number">16.2.1.1</span> Simple random sampling<a href="sampling-in-r.html#simple-random-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>Simple random sampling</em> (sometimes abbreviated to “SRS”), involves picking rows at random, one at a time, where each row has the same chance of being picked as any other.</p>
<p>To make it easier to see which rows end up in the sample, it’s helpful to include a <em>row ID column</em> (<code>rowid_to_column()</code>) in the dataset before you take the sample.</p>
<p>We’ll look at a synthetic (fictional) employee attrition dataset from IBM, where “attrition” means leaving the company.</p>
<div class="sourceCode" id="cb2155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2155-1"><a href="sampling-in-r.html#cb2155-1" aria-hidden="true" tabindex="-1"></a>attrition_pop <span class="ot">&lt;-</span> <span class="fu">read_fst</span>(<span class="st">&quot;data/attrition.fst&quot;</span>)</span>
<span id="cb2155-2"><a href="sampling-in-r.html#cb2155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attrition_pop)</span></code></pre></div>
<pre><code>## Rows: 1,470
## Columns: 31
## $ Age                      &lt;int&gt; 21, 19, 18, 18, 18, 27, 18, 18, 18, 18, 18, 3…
## $ Attrition                &lt;fct&gt; No, Yes, Yes, No, Yes, No, No, Yes, No, Yes, …
## $ BusinessTravel           &lt;fct&gt; Travel_Rarely, Travel_Rarely, Travel_Rarely, …
## $ DailyRate                &lt;int&gt; 391, 528, 230, 812, 1306, 443, 287, 247, 1124…
## $ Department               &lt;fct&gt; Research_Development, Sales, Research_Develop…
## $ DistanceFromHome         &lt;int&gt; 15, 22, 3, 10, 5, 3, 5, 8, 1, 3, 14, 24, 16, …
## $ Education                &lt;ord&gt; College, Below_College, Bachelor, Bachelor, B…
## $ EducationField           &lt;fct&gt; Life_Sciences, Marketing, Life_Sciences, Medi…
## $ EnvironmentSatisfaction  &lt;ord&gt; High, Very_High, High, Very_High, Medium, Ver…
## $ Gender                   &lt;fct&gt; Male, Male, Male, Female, Male, Male, Male, M…
## $ HourlyRate               &lt;int&gt; 96, 50, 54, 69, 69, 50, 73, 80, 97, 70, 33, 6…
## $ JobInvolvement           &lt;ord&gt; High, High, High, Medium, High, High, High, H…
## $ JobLevel                 &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ JobRole                  &lt;fct&gt; Research_Scientist, Sales_Representative, Lab…
## $ JobSatisfaction          &lt;ord&gt; Very_High, High, High, High, Medium, Very_Hig…
## $ MaritalStatus            &lt;fct&gt; Single, Single, Single, Single, Single, Marri…
## $ MonthlyIncome            &lt;int&gt; 1232, 1675, 1420, 1200, 1878, 1706, 1051, 190…
## $ MonthlyRate              &lt;int&gt; 19281, 26820, 25233, 9724, 8059, 16571, 13493…
## $ NumCompaniesWorked       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ OverTime                 &lt;fct&gt; No, Yes, No, No, Yes, No, No, No, No, Yes, No…
## $ PercentSalaryHike        &lt;int&gt; 14, 19, 13, 12, 14, 11, 15, 12, 15, 12, 16, 2…
## $ PerformanceRating        &lt;ord&gt; Excellent, Excellent, Excellent, Excellent, E…
## $ RelationshipSatisfaction &lt;ord&gt; Very_High, Very_High, High, Low, Very_High, H…
## $ StockOptionLevel         &lt;int&gt; 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 1, 2, 1, 1, …
## $ TotalWorkingYears        &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, …
## $ TrainingTimesLastYear    &lt;int&gt; 6, 2, 2, 2, 3, 6, 2, 0, 5, 2, 4, 2, 2, 3, 6, …
## $ WorkLifeBalance          &lt;ord&gt; Better, Good, Better, Better, Better, Good, B…
## $ YearsAtCompany           &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, …
## $ YearsInCurrentRole       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ YearsSinceLastPromotion  &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ YearsWithCurrManager     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</code></pre>
<p>Add a row ID column to the dataset, then use simple random sampling to get 200 rows.</p>
<div class="sourceCode" id="cb2157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2157-1"><a href="sampling-in-r.html#cb2157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the seed</span></span>
<span id="cb2157-2"><a href="sampling-in-r.html#cb2157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5643</span>)</span>
<span id="cb2157-3"><a href="sampling-in-r.html#cb2157-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2157-4"><a href="sampling-in-r.html#cb2157-4" aria-hidden="true" tabindex="-1"></a>attrition_samp <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2157-5"><a href="sampling-in-r.html#cb2157-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a row ID column</span></span>
<span id="cb2157-6"><a href="sampling-in-r.html#cb2157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2157-7"><a href="sampling-in-r.html#cb2157-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get 200 rows using simple random sampling</span></span>
<span id="cb2157-8"><a href="sampling-in-r.html#cb2157-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">200</span>)</span>
<span id="cb2157-9"><a href="sampling-in-r.html#cb2157-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2157-10"><a href="sampling-in-r.html#cb2157-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View the attrition_samp dataset</span></span>
<span id="cb2157-11"><a href="sampling-in-r.html#cb2157-11" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attrition_samp)</span></code></pre></div>
<pre><code>## Rows: 200
## Columns: 32
## $ rowid                    &lt;int&gt; 418, 1296, 1235, 635, 1192, 1233, 387, 801, 8…
## $ Age                      &lt;int&gt; 24, 41, 40, 32, 53, 55, 33, 40, 46, 36, 55, 2…
## $ Attrition                &lt;fct&gt; No, No, No, No, No, No, Yes, No, No, No, No, …
## $ BusinessTravel           &lt;fct&gt; Travel_Rarely, Travel_Rarely, Travel_Frequent…
## $ DailyRate                &lt;int&gt; 506, 582, 1395, 967, 238, 836, 603, 720, 991,…
## $ Department               &lt;fct&gt; Research_Development, Research_Development, R…
## $ DistanceFromHome         &lt;int&gt; 29, 28, 26, 8, 1, 2, 9, 16, 1, 3, 4, 8, 8, 2,…
## $ Education                &lt;ord&gt; Below_College, Master, Bachelor, Bachelor, Be…
## $ EducationField           &lt;fct&gt; Medical, Life_Sciences, Medical, Marketing, M…
## $ EnvironmentSatisfaction  &lt;ord&gt; Medium, Low, Medium, Medium, Very_High, Mediu…
## $ Gender                   &lt;fct&gt; Male, Female, Female, Female, Female, Male, F…
## $ HourlyRate               &lt;int&gt; 91, 60, 54, 43, 34, 98, 77, 51, 44, 48, 30, 9…
## $ JobInvolvement           &lt;ord&gt; High, Medium, High, High, High, Medium, High,…
## $ JobLevel                 &lt;int&gt; 1, 4, 2, 3, 2, 1, 2, 2, 1, 3, 2, 1, 1, 2, 3, …
## $ JobRole                  &lt;fct&gt; Laboratory_Technician, Manufacturing_Director…
## $ JobSatisfaction          &lt;ord&gt; Low, Medium, Medium, Very_High, Low, Very_Hig…
## $ MaritalStatus            &lt;fct&gt; Divorced, Married, Divorced, Single, Single, …
## $ MonthlyIncome            &lt;int&gt; 3907, 13570, 5605, 8998, 8381, 2662, 8224, 50…
## $ MonthlyRate              &lt;int&gt; 3622, 5640, 8504, 15589, 7507, 7975, 18385, 1…
## $ NumCompaniesWorked       &lt;int&gt; 1, 0, 1, 1, 7, 8, 0, 6, 6, 4, 0, 1, 6, 7, 1, …
## $ OverTime                 &lt;fct&gt; No, No, No, No, No, No, Yes, No, No, No, Yes,…
## $ PercentSalaryHike        &lt;int&gt; 13, 23, 11, 14, 20, 20, 17, 14, 12, 11, 16, 1…
## $ PerformanceRating        &lt;ord&gt; Excellent, Outstanding, Excellent, Excellent,…
## $ RelationshipSatisfaction &lt;ord&gt; Medium, High, Low, Very_High, Very_High, Medi…
## $ StockOptionLevel         &lt;int&gt; 3, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 2, …
## $ TotalWorkingYears        &lt;int&gt; 6, 21, 20, 9, 18, 19, 6, 10, 10, 16, 4, 4, 6,…
## $ TrainingTimesLastYear    &lt;int&gt; 2, 3, 2, 2, 2, 2, 3, 6, 3, 2, 2, 3, 0, 0, 2, …
## $ WorkLifeBalance          &lt;ord&gt; Best, Better, Better, Better, Best, Best, Bet…
## $ YearsAtCompany           &lt;int&gt; 6, 20, 20, 9, 14, 5, 5, 1, 7, 13, 3, 4, 4, 7,…
## $ YearsInCurrentRole       &lt;int&gt; 2, 7, 7, 8, 7, 2, 2, 0, 6, 9, 2, 3, 2, 7, 9, …
## $ YearsSinceLastPromotion  &lt;int&gt; 1, 0, 2, 3, 8, 0, 0, 0, 5, 1, 1, 1, 1, 0, 9, …
## $ YearsWithCurrManager     &lt;int&gt; 2, 10, 13, 7, 10, 4, 3, 0, 7, 12, 2, 1, 2, 7,…</code></pre>
<p>Notice how the row IDs in the sampled dataset aren’t always increasing order. They are just random.</p>
</div>
<div id="systematic-sampling" class="section level4 hasAnchor" number="16.2.1.2">
<h4><span class="header-section-number">16.2.1.2</span> Systematic sampling<a href="sampling-in-r.html#systematic-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Systematic sampling avoids randomness. Here, you pick rows from the population at <em>regular intervals</em>.</p>
<p>For example, if the population dataset had <code>1000</code> rows and you wanted a sample size of <code>5</code>, you’d pick rows <code>200</code>, <code>400</code>, <code>600</code>, <code>800</code>, and <code>1000</code>. (1000 / 5 = 200 = interval)</p>
<div class="sourceCode" id="cb2159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2159-1"><a href="sampling-in-r.html#cb2159-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the sample size to 200</span></span>
<span id="cb2159-2"><a href="sampling-in-r.html#cb2159-2" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb2159-3"><a href="sampling-in-r.html#cb2159-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2159-4"><a href="sampling-in-r.html#cb2159-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the population size from attrition_pop</span></span>
<span id="cb2159-5"><a href="sampling-in-r.html#cb2159-5" aria-hidden="true" tabindex="-1"></a>pop_size <span class="ot">&lt;-</span> <span class="fu">nrow</span>(attrition_pop)</span>
<span id="cb2159-6"><a href="sampling-in-r.html#cb2159-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2159-7"><a href="sampling-in-r.html#cb2159-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the interval between rows to be sampled</span></span>
<span id="cb2159-8"><a href="sampling-in-r.html#cb2159-8" aria-hidden="true" tabindex="-1"></a>interval <span class="ot">&lt;-</span> pop_size <span class="sc">%/%</span> sample_size; interval</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<p>Get the row indexes for the sample as a numeric sequence of <code>interval</code>.</p>
<div class="sourceCode" id="cb2161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2161-1"><a href="sampling-in-r.html#cb2161-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get row indexes for the sample</span></span>
<span id="cb2161-2"><a href="sampling-in-r.html#cb2161-2" aria-hidden="true" tabindex="-1"></a>row_indexes <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(sample_size) <span class="sc">*</span> interval</span>
<span id="cb2161-3"><a href="sampling-in-r.html#cb2161-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(row_indexes)</span></code></pre></div>
<pre><code>##  num [1:200] 7 14 21 28 35 42 49 56 63 70 ...</code></pre>
<div class="sourceCode" id="cb2163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2163-1"><a href="sampling-in-r.html#cb2163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Systematically sample attrition_pop</span></span>
<span id="cb2163-2"><a href="sampling-in-r.html#cb2163-2" aria-hidden="true" tabindex="-1"></a>attrition_sys_samp <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2163-3"><a href="sampling-in-r.html#cb2163-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a row ID column</span></span>
<span id="cb2163-4"><a href="sampling-in-r.html#cb2163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2163-5"><a href="sampling-in-r.html#cb2163-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get 200 rows using systematic sampling</span></span>
<span id="cb2163-6"><a href="sampling-in-r.html#cb2163-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the rows of the population corresponding to row_indexes</span></span>
<span id="cb2163-7"><a href="sampling-in-r.html#cb2163-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(row_indexes)</span>
<span id="cb2163-8"><a href="sampling-in-r.html#cb2163-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2163-9"><a href="sampling-in-r.html#cb2163-9" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2163-10"><a href="sampling-in-r.html#cb2163-10" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attrition_sys_samp)</span></code></pre></div>
<pre><code>## Rows: 200
## Columns: 32
## $ rowid                    &lt;int&gt; 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84…
## $ Age                      &lt;int&gt; 18, 35, 22, 21, 20, 29, 19, 28, 19, 24, 32, 2…
## $ Attrition                &lt;fct&gt; No, No, No, Yes, No, Yes, Yes, Yes, No, No, Y…
## $ BusinessTravel           &lt;fct&gt; Non-Travel, Travel_Rarely, Travel_Rarely, Tra…
## $ DailyRate                &lt;int&gt; 287, 464, 534, 156, 959, 805, 419, 1009, 265,…
## $ Department               &lt;fct&gt; Research_Development, Research_Development, R…
## $ DistanceFromHome         &lt;int&gt; 5, 4, 15, 12, 1, 1, 21, 1, 25, 13, 2, 3, 1, 9…
## $ Education                &lt;ord&gt; College, College, Bachelor, Bachelor, Bachelo…
## $ EducationField           &lt;fct&gt; Life_Sciences, Other, Medical, Life_Sciences,…
## $ EnvironmentSatisfaction  &lt;ord&gt; Medium, High, Medium, High, Very_High, Medium…
## $ Gender                   &lt;fct&gt; Male, Male, Female, Female, Female, Female, M…
## $ HourlyRate               &lt;int&gt; 73, 75, 59, 90, 83, 36, 37, 45, 57, 78, 95, 7…
## $ JobInvolvement           &lt;ord&gt; High, High, High, Very_High, Medium, Medium, …
## $ JobLevel                 &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ JobRole                  &lt;fct&gt; Research_Scientist, Laboratory_Technician, La…
## $ JobSatisfaction          &lt;ord&gt; Very_High, Very_High, Very_High, Medium, Medi…
## $ MaritalStatus            &lt;fct&gt; Single, Divorced, Single, Single, Single, Mar…
## $ MonthlyIncome            &lt;int&gt; 1051, 1951, 2871, 2716, 2836, 2319, 2121, 259…
## $ MonthlyRate              &lt;int&gt; 13493, 10910, 23785, 25422, 11757, 6689, 9947…
## $ NumCompaniesWorked       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ OverTime                 &lt;fct&gt; No, No, No, No, No, Yes, Yes, No, Yes, No, No…
## $ PercentSalaryHike        &lt;int&gt; 15, 12, 15, 15, 13, 11, 13, 15, 12, 13, 12, 1…
## $ PerformanceRating        &lt;ord&gt; Excellent, Excellent, Excellent, Excellent, E…
## $ RelationshipSatisfaction &lt;ord&gt; Very_High, High, High, Very_High, Very_High, …
## $ StockOptionLevel         &lt;int&gt; 0, 1, 0, 0, 0, 1, 0, 2, 0, 1, 0, 1, 3, 0, 0, …
## $ TotalWorkingYears        &lt;int&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, …
## $ TrainingTimesLastYear    &lt;int&gt; 2, 3, 5, 0, 0, 1, 3, 2, 2, 2, 2, 3, 2, 3, 3, …
## $ WorkLifeBalance          &lt;ord&gt; Better, Better, Better, Better, Best, Better,…
## $ YearsAtCompany           &lt;int&gt; 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, …
## $ YearsInCurrentRole       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, …
## $ YearsSinceLastPromotion  &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, …
## $ YearsWithCurrManager     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 2, …</code></pre>
<p>Systematic sampling avoids randomness by picking rows at regular intervals.</p>
<p><strong>The trouble with systematic sampling</strong></p>
<p>Systematic sampling has problems when the data are sorted or contain a pattern, then the resulting sample may not be representative of the whole population.</p>
<p>The problem can be solved by shuffling the rows, but then systematic sampling is equivalent to simple random sampling.</p>
<div class="sourceCode" id="cb2165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2165-1"><a href="sampling-in-r.html#cb2165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a row ID column to attrition_pop</span></span>
<span id="cb2165-2"><a href="sampling-in-r.html#cb2165-2" aria-hidden="true" tabindex="-1"></a>attrition_pop_id <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2165-3"><a href="sampling-in-r.html#cb2165-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>()</span>
<span id="cb2165-4"><a href="sampling-in-r.html#cb2165-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2165-5"><a href="sampling-in-r.html#cb2165-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Using attrition_pop_id, plot YearsAtCompany vs. rowid</span></span>
<span id="cb2165-6"><a href="sampling-in-r.html#cb2165-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(attrition_pop_id, <span class="fu">aes</span>(rowid, YearsAtCompany)) <span class="sc">+</span></span>
<span id="cb2165-7"><a href="sampling-in-r.html#cb2165-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it a scatter plot</span></span>
<span id="cb2165-8"><a href="sampling-in-r.html#cb2165-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb2165-9"><a href="sampling-in-r.html#cb2165-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a smooth trend line</span></span>
<span id="cb2165-10"><a href="sampling-in-r.html#cb2165-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> F)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and
## formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-787-1.png" width="672" /></p>
<p>Shuffle the rows of <code>attrition_pop</code>, by <code>slice_sample(prop = 1)</code></p>
<div class="sourceCode" id="cb2167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2167-1"><a href="sampling-in-r.html#cb2167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shuffle the rows of attrition_pop then add row IDs</span></span>
<span id="cb2167-2"><a href="sampling-in-r.html#cb2167-2" aria-hidden="true" tabindex="-1"></a>attrition_shuffled <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2167-3"><a href="sampling-in-r.html#cb2167-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2167-4"><a href="sampling-in-r.html#cb2167-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowid_to_column</span>()</span>
<span id="cb2167-5"><a href="sampling-in-r.html#cb2167-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2167-6"><a href="sampling-in-r.html#cb2167-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Using attrition_shuffled, plot YearsAtCompany vs. rowid</span></span>
<span id="cb2167-7"><a href="sampling-in-r.html#cb2167-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points and a smooth trend line</span></span>
<span id="cb2167-8"><a href="sampling-in-r.html#cb2167-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(attrition_shuffled, <span class="fu">aes</span>(rowid, YearsAtCompany)) <span class="sc">+</span></span>
<span id="cb2167-9"><a href="sampling-in-r.html#cb2167-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb2167-10"><a href="sampling-in-r.html#cb2167-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> F)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and
## formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-788-1.png" width="672" /></p>
<p>Shu+ing rows + systematic sampling is the same as simple random sampling.</p>
</div>
</div>
<div id="stratified-weighted-random-sampling" class="section level3 hasAnchor" number="16.2.2">
<h3><span class="header-section-number">16.2.2</span> Stratified &amp; weighted random sampling<a href="sampling-in-r.html#stratified-weighted-random-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Stratified sampling is useful if you care about <em>subgroups</em>. Otherwise, simple random sampling is more appropriate.</p>
<div id="proportional-stratified-sampling" class="section level4 hasAnchor" number="16.2.2.1">
<h4><span class="header-section-number">16.2.2.1</span> Proportional stratified sampling<a href="sampling-in-r.html#proportional-stratified-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you are interested in subgroups within the population, then you may need to carefully control the counts of each subgroup within the population.</p>
<p>Proportional stratified sampling results in subgroup sizes within the sample that are representative of the subgroup sizes within the population.</p>
<div class="sourceCode" id="cb2169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2169-1"><a href="sampling-in-r.html#cb2169-1" aria-hidden="true" tabindex="-1"></a>education_counts_pop <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2169-2"><a href="sampling-in-r.html#cb2169-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count the employees by Education level, sorting by n</span></span>
<span id="cb2169-3"><a href="sampling-in-r.html#cb2169-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Education, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb2169-4"><a href="sampling-in-r.html#cb2169-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a percent column</span></span>
<span id="cb2169-5"><a href="sampling-in-r.html#cb2169-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> (n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb2169-6"><a href="sampling-in-r.html#cb2169-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2169-7"><a href="sampling-in-r.html#cb2169-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2169-8"><a href="sampling-in-r.html#cb2169-8" aria-hidden="true" tabindex="-1"></a>education_counts_pop</span></code></pre></div>
<pre><code>##       Education   n percent
## 1      Bachelor 572   38.91
## 2        Master 398   27.07
## 3       College 282   19.18
## 4 Below_College 170   11.56
## 5        Doctor  48    3.27</code></pre>
<div class="sourceCode" id="cb2171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2171-1"><a href="sampling-in-r.html#cb2171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use proportional stratified sampling to get 40% of each Education group</span></span>
<span id="cb2171-2"><a href="sampling-in-r.html#cb2171-2" aria-hidden="true" tabindex="-1"></a>attrition_strat <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2171-3"><a href="sampling-in-r.html#cb2171-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb2171-4"><a href="sampling-in-r.html#cb2171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2171-5"><a href="sampling-in-r.html#cb2171-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make sure to Ungroup the stratified sample</span></span>
<span id="cb2171-6"><a href="sampling-in-r.html#cb2171-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb2171-7"><a href="sampling-in-r.html#cb2171-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2171-8"><a href="sampling-in-r.html#cb2171-8" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2171-9"><a href="sampling-in-r.html#cb2171-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attrition_strat)</span></code></pre></div>
<pre><code>## Rows: 586
## Columns: 31
## $ Age                      &lt;int&gt; 27, 21, 45, 48, 24, 23, 22, 25, 32, 21, 29, 2…
## $ Attrition                &lt;fct&gt; Yes, Yes, No, No, No, No, No, No, No, No, No,…
## $ BusinessTravel           &lt;fct&gt; Travel_Rarely, Travel_Frequently, Non-Travel,…
## $ DailyRate                &lt;int&gt; 1420, 756, 1238, 817, 1206, 160, 1256, 141, 4…
## $ Department               &lt;fct&gt; Sales, Sales, Research_Development, Sales, Re…
## $ DistanceFromHome         &lt;int&gt; 2, 1, 1, 2, 17, 4, 19, 3, 2, 22, 3, 2, 10, 2,…
## $ Education                &lt;ord&gt; Below_College, Below_College, Below_College, …
## $ EducationField           &lt;fct&gt; Marketing, Technical_Degree, Life_Sciences, M…
## $ EnvironmentSatisfaction  &lt;ord&gt; High, Low, High, Medium, Very_High, High, Hig…
## $ Gender                   &lt;fct&gt; Male, Female, Male, Male, Female, Female, Mal…
## $ HourlyRate               &lt;int&gt; 85, 99, 74, 56, 41, 51, 80, 98, 36, 49, 87, 1…
## $ JobInvolvement           &lt;ord&gt; High, Medium, Medium, Very_High, Medium, High…
## $ JobLevel                 &lt;int&gt; 1, 1, 3, 2, 2, 1, 1, 2, 2, 1, 1, 1, 1, 2, 2, …
## $ JobRole                  &lt;fct&gt; Sales_Representative, Sales_Representative, H…
## $ JobSatisfaction          &lt;ord&gt; Low, Medium, High, Medium, High, Medium, Very…
## $ MaritalStatus            &lt;fct&gt; Divorced, Single, Married, Married, Divorced,…
## $ MonthlyIncome            &lt;int&gt; 3041, 2174, 10748, 8120, 4377, 3295, 2323, 41…
## $ MonthlyRate              &lt;int&gt; 16346, 9150, 3395, 18597, 24117, 12862, 11992…
## $ NumCompaniesWorked       &lt;int&gt; 0, 1, 3, 3, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 6, …
## $ OverTime                 &lt;fct&gt; No, Yes, No, No, No, No, No, Yes, Yes, No, Ye…
## $ PercentSalaryHike        &lt;int&gt; 11, 11, 23, 12, 15, 13, 24, 18, 13, 11, 18, 1…
## $ PerformanceRating        &lt;ord&gt; Excellent, Excellent, Outstanding, Excellent,…
## $ RelationshipSatisfaction &lt;ord&gt; Medium, High, Very_High, Very_High, Medium, H…
## $ StockOptionLevel         &lt;int&gt; 1, 0, 1, 0, 2, 0, 2, 0, 3, 0, 0, 1, 0, 1, 0, …
## $ TotalWorkingYears        &lt;int&gt; 5, 3, 25, 12, 5, 3, 2, 5, 4, 3, 10, 3, 1, 6, …
## $ TrainingTimesLastYear    &lt;int&gt; 3, 3, 3, 3, 6, 3, 6, 3, 3, 2, 3, 2, 5, 0, 2, …
## $ WorkLifeBalance          &lt;ord&gt; Better, Better, Good, Better, Better, Bad, Be…
## $ YearsAtCompany           &lt;int&gt; 4, 3, 23, 2, 4, 3, 2, 5, 3, 3, 10, 2, 1, 6, 5…
## $ YearsInCurrentRole       &lt;int&gt; 3, 2, 15, 2, 2, 2, 2, 3, 2, 2, 9, 1, 0, 4, 4,…
## $ YearsSinceLastPromotion  &lt;int&gt; 0, 1, 14, 2, 3, 1, 2, 0, 1, 1, 1, 2, 1, 1, 1,…
## $ YearsWithCurrManager     &lt;int&gt; 2, 2, 4, 2, 2, 2, 2, 3, 2, 2, 5, 1, 1, 3, 2, …</code></pre>
<div class="sourceCode" id="cb2173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2173-1"><a href="sampling-in-r.html#cb2173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the counts and percents from attrition_strat</span></span>
<span id="cb2173-2"><a href="sampling-in-r.html#cb2173-2" aria-hidden="true" tabindex="-1"></a>education_counts_strat <span class="ot">&lt;-</span> attrition_strat <span class="sc">%&gt;%</span></span>
<span id="cb2173-3"><a href="sampling-in-r.html#cb2173-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Education, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb2173-4"><a href="sampling-in-r.html#cb2173-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb2173-5"><a href="sampling-in-r.html#cb2173-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2173-6"><a href="sampling-in-r.html#cb2173-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2173-7"><a href="sampling-in-r.html#cb2173-7" aria-hidden="true" tabindex="-1"></a>education_counts_strat</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   Education         n percent
##   &lt;ord&gt;         &lt;int&gt;   &lt;dbl&gt;
## 1 Bachelor        228   38.9 
## 2 Master          159   27.1 
## 3 College         112   19.1 
## 4 Below_College    68   11.6 
## 5 Doctor           19    3.24</code></pre>
<p>By grouping then sampling, the size of each group in the sample is representative of the size of the sample in the population.</p>
</div>
<div id="equal-counts-stratified-sampling" class="section level4 hasAnchor" number="16.2.2.2">
<h4><span class="header-section-number">16.2.2.2</span> Equal counts stratified sampling<a href="sampling-in-r.html#equal-counts-stratified-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If one subgroup is larger than another subgroup in the population, but you don’t want to reflect that difference in your analysis, then you can use equal counts stratified sampling to generate samples where each subgroup has the same amount of data.</p>
<div class="sourceCode" id="cb2175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2175-1"><a href="sampling-in-r.html#cb2175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use equal counts stratified sampling to get 30 employees from each Education group</span></span>
<span id="cb2175-2"><a href="sampling-in-r.html#cb2175-2" aria-hidden="true" tabindex="-1"></a>attrition_eq <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2175-3"><a href="sampling-in-r.html#cb2175-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb2175-4"><a href="sampling-in-r.html#cb2175-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2175-5"><a href="sampling-in-r.html#cb2175-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb2175-6"><a href="sampling-in-r.html#cb2175-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2175-7"><a href="sampling-in-r.html#cb2175-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2175-8"><a href="sampling-in-r.html#cb2175-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(attrition_eq)</span></code></pre></div>
<pre><code>## tibble [150 × 31] (S3: tbl_df/tbl/data.frame)
##  $ Age                     : int [1:150] 40 29 29 27 27 31 37 32 32 28 ...
##  $ Attrition               : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 2 2 1 1 1 1 2 1 1 ...
##  $ BusinessTravel          : Factor w/ 3 levels &quot;Non-Travel&quot;,&quot;Travel_Frequently&quot;,..: 3 2 3 2 3 2 3 2 3 3 ...
##  $ DailyRate               : int [1:150] 989 337 896 793 728 163 571 1125 499 1451 ...
##  $ Department              : Factor w/ 3 levels &quot;Human_Resources&quot;,..: 2 2 2 3 3 2 2 2 3 2 ...
##  $ DistanceFromHome        : int [1:150] 4 14 18 2 23 24 10 16 2 2 ...
##  $ Education               : Ord.factor w/ 5 levels &quot;Below_College&quot;&lt;..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ EducationField          : Factor w/ 6 levels &quot;Human_Resources&quot;,..: 4 5 4 2 4 6 2 2 3 2 ...
##  $ EnvironmentSatisfaction : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 4 3 3 4 2 4 4 2 3 1 ...
##  $ Gender                  : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 1 1 2 2 1 1 1 1 2 2 ...
##  $ HourlyRate              : int [1:150] 46 84 86 43 36 30 82 72 36 67 ...
##  $ JobInvolvement          : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 3 3 2 1 2 3 3 1 3 2 ...
##  $ JobLevel                : int [1:150] 5 3 1 2 2 2 1 1 2 1 ...
##  $ JobRole                 : Factor w/ 9 levels &quot;Healthcare_Representative&quot;,..: 4 1 7 8 9 5 7 7 8 7 ...
##  $ JobSatisfaction         : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 3 4 4 4 3 4 1 1 2 2 ...
##  $ MaritalStatus           : Factor w/ 3 levels &quot;Divorced&quot;,&quot;Married&quot;,..: 2 3 3 3 2 3 1 3 2 2 ...
##  $ MonthlyIncome           : int [1:150] 19033 7553 2389 5071 3540 5238 2782 3919 4078 3201 ...
##  $ MonthlyRate             : int [1:150] 6499 22930 14961 20392 7018 6670 19905 4681 20497 19911 ...
##  $ NumCompaniesWorked      : int [1:150] 1 0 1 3 1 2 0 1 0 0 ...
##  $ OverTime                : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 2 2 1 1 1 2 2 2 1 ...
##  $ PercentSalaryHike       : int [1:150] 14 12 13 20 21 20 13 22 13 17 ...
##  $ PerformanceRating       : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Good&quot;&lt;&quot;Excellent&quot;&lt;..: 3 3 3 4 4 4 3 4 3 3 ...
##  $ RelationshipSatisfaction: Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 2 1 3 2 4 4 2 2 1 1 ...
##  $ StockOptionLevel        : int [1:150] 1 0 0 0 1 0 2 0 3 0 ...
##  $ TotalWorkingYears       : int [1:150] 21 9 4 8 9 9 6 10 4 6 ...
##  $ TrainingTimesLastYear   : int [1:150] 2 1 3 3 5 3 3 5 3 2 ...
##  $ WorkLifeBalance         : Ord.factor w/ 4 levels &quot;Bad&quot;&lt;&quot;Good&quot;&lt;&quot;Better&quot;&lt;..: 3 3 2 3 3 2 2 3 2 1 ...
##  $ YearsAtCompany          : int [1:150] 20 8 4 6 9 5 5 10 3 5 ...
##  $ YearsInCurrentRole      : int [1:150] 8 7 3 2 8 4 3 2 2 3 ...
##  $ YearsSinceLastPromotion : int [1:150] 9 7 0 0 5 1 4 6 1 0 ...
##  $ YearsWithCurrManager    : int [1:150] 9 7 1 0 8 4 3 7 2 4 ...</code></pre>
<div class="sourceCode" id="cb2177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2177-1"><a href="sampling-in-r.html#cb2177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the counts and percents from attrition_eq</span></span>
<span id="cb2177-2"><a href="sampling-in-r.html#cb2177-2" aria-hidden="true" tabindex="-1"></a>education_counts_eq <span class="ot">&lt;-</span> attrition_eq <span class="sc">%&gt;%</span></span>
<span id="cb2177-3"><a href="sampling-in-r.html#cb2177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Education, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb2177-4"><a href="sampling-in-r.html#cb2177-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb2177-5"><a href="sampling-in-r.html#cb2177-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2177-6"><a href="sampling-in-r.html#cb2177-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2177-7"><a href="sampling-in-r.html#cb2177-7" aria-hidden="true" tabindex="-1"></a>education_counts_eq</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   Education         n percent
##   &lt;ord&gt;         &lt;int&gt;   &lt;dbl&gt;
## 1 Below_College    30      20
## 2 College          30      20
## 3 Bachelor         30      20
## 4 Master           30      20
## 5 Doctor           30      20</code></pre>
<p>If you want each subgroup to have equal weight in your analysis, then equal counts stratified sampling is the appropriate technique.</p>
</div>
<div id="weighted-sampling" class="section level4 hasAnchor" number="16.2.2.3">
<h4><span class="header-section-number">16.2.2.3</span> Weighted sampling<a href="sampling-in-r.html#weighted-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Weighted sampling, which lets you specify rules about the probability of picking rows at the row level. The probability of picking any given row is proportional to the weight value for that row.</p>
<div class="sourceCode" id="cb2179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2179-1"><a href="sampling-in-r.html#cb2179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using attrition_pop, plot YearsAtCompany as a histogram with binwidth 1</span></span>
<span id="cb2179-2"><a href="sampling-in-r.html#cb2179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(attrition_pop, <span class="fu">aes</span>(<span class="at">x =</span> YearsAtCompany)) <span class="sc">+</span></span>
<span id="cb2179-3"><a href="sampling-in-r.html#cb2179-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2179-4"><a href="sampling-in-r.html#cb2179-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(attrition_pop<span class="sc">$</span>YearsAtCompany),</span>
<span id="cb2179-5"><a href="sampling-in-r.html#cb2179-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb2179-6"><a href="sampling-in-r.html#cb2179-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb2179-7"><a href="sampling-in-r.html#cb2179-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb2179-8"><a href="sampling-in-r.html#cb2179-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;text&quot;</span>,</span>
<span id="cb2179-9"><a href="sampling-in-r.html#cb2179-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="dv">15</span>, <span class="at">y =</span> <span class="dv">175</span>,</span>
<span id="cb2179-10"><a href="sampling-in-r.html#cb2179-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">&quot;mean = &quot;</span>, <span class="fu">mean</span>(attrition_pop<span class="sc">$</span>YearsAtCompany), <span class="at">sep =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb2179-11"><a href="sampling-in-r.html#cb2179-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;grey40&quot;</span></span>
<span id="cb2179-12"><a href="sampling-in-r.html#cb2179-12" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-794-1.png" width="672" /></p>
<div class="sourceCode" id="cb2180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2180-1"><a href="sampling-in-r.html#cb2180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample 400 employees weighted by YearsAtCompany</span></span>
<span id="cb2180-2"><a href="sampling-in-r.html#cb2180-2" aria-hidden="true" tabindex="-1"></a>attrition_weight <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2180-3"><a href="sampling-in-r.html#cb2180-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">400</span>, <span class="at">weight_by =</span> YearsAtCompany)</span>
<span id="cb2180-4"><a href="sampling-in-r.html#cb2180-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2180-5"><a href="sampling-in-r.html#cb2180-5" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2180-6"><a href="sampling-in-r.html#cb2180-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attrition_weight)</span></code></pre></div>
<pre><code>## Rows: 400
## Columns: 31
## $ Age                      &lt;int&gt; 34, 36, 41, 32, 34, 46, 46, 44, 31, 56, 58, 4…
## $ Attrition                &lt;fct&gt; No, No, No, Yes, No, Yes, No, No, No, Yes, Ye…
## $ BusinessTravel           &lt;fct&gt; Travel_Frequently, Travel_Rarely, Non-Travel,…
## $ DailyRate                &lt;int&gt; 702, 1403, 247, 1089, 665, 669, 526, 200, 715…
## $ Department               &lt;fct&gt; Research_Development, Research_Development, R…
## $ DistanceFromHome         &lt;int&gt; 16, 6, 7, 7, 6, 9, 1, 29, 2, 24, 2, 2, 2, 23,…
## $ Education                &lt;ord&gt; Master, Bachelor, Below_College, College, Mas…
## $ EducationField           &lt;fct&gt; Life_Sciences, Life_Sciences, Life_Sciences, …
## $ EnvironmentSatisfaction  &lt;ord&gt; High, Very_High, Medium, Very_High, Low, High…
## $ Gender                   &lt;fct&gt; Female, Male, Female, Male, Female, Male, Fem…
## $ HourlyRate               &lt;int&gt; 100, 47, 55, 79, 41, 64, 92, 32, 54, 97, 31, …
## $ JobInvolvement           &lt;ord&gt; Medium, High, Low, High, High, Medium, High, …
## $ JobLevel                 &lt;int&gt; 1, 1, 5, 2, 2, 3, 3, 2, 2, 1, 5, 2, 2, 3, 2, …
## $ JobRole                  &lt;fct&gt; Research_Scientist, Laboratory_Technician, Re…
## $ JobSatisfaction          &lt;ord&gt; Very_High, Very_High, High, High, High, Very_…
## $ MaritalStatus            &lt;fct&gt; Single, Married, Divorced, Married, Single, S…
## $ MonthlyIncome            &lt;int&gt; 2553, 3210, 19973, 4883, 4809, 9619, 10453, 4…
## $ MonthlyRate              &lt;int&gt; 8306, 20251, 20284, 22845, 12482, 13596, 2137…
## $ NumCompaniesWorked       &lt;int&gt; 1, 0, 1, 1, 1, 1, 1, 1, 7, 1, 7, 1, 1, 1, 0, …
## $ OverTime                 &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, Yes, …
## $ PercentSalaryHike        &lt;int&gt; 16, 11, 22, 18, 14, 16, 25, 25, 13, 16, 12, 1…
## $ PerformanceRating        &lt;ord&gt; Excellent, Excellent, Outstanding, Excellent,…
## $ RelationshipSatisfaction &lt;ord&gt; High, High, Medium, Low, High, Very_High, Hig…
## $ StockOptionLevel         &lt;int&gt; 0, 1, 2, 1, 0, 0, 3, 0, 0, 0, 0, 0, 0, 1, 0, …
## $ TotalWorkingYears        &lt;int&gt; 6, 16, 21, 10, 16, 9, 24, 20, 10, 5, 40, 9, 2…
## $ TrainingTimesLastYear    &lt;int&gt; 3, 4, 3, 3, 3, 3, 2, 3, 3, 3, 2, 4, 4, 3, 2, …
## $ WorkLifeBalance          &lt;ord&gt; Better, Better, Better, Better, Better, Bette…
## $ YearsAtCompany           &lt;int&gt; 5, 15, 21, 10, 16, 9, 24, 20, 5, 4, 31, 9, 20…
## $ YearsInCurrentRole       &lt;int&gt; 2, 13, 16, 4, 13, 8, 13, 11, 2, 2, 15, 8, 7, …
## $ YearsSinceLastPromotion  &lt;int&gt; 1, 10, 5, 1, 2, 4, 15, 13, 0, 1, 13, 8, 11, 1…
## $ YearsWithCurrManager     &lt;int&gt; 3, 11, 10, 1, 10, 7, 7, 17, 3, 0, 8, 8, 10, 6…</code></pre>
<div class="sourceCode" id="cb2182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2182-1"><a href="sampling-in-r.html#cb2182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using attrition_weight, plot YearsAtCompany as a histogram with binwidth 1</span></span>
<span id="cb2182-2"><a href="sampling-in-r.html#cb2182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(attrition_weight, <span class="fu">aes</span>(<span class="at">x =</span> YearsAtCompany)) <span class="sc">+</span></span>
<span id="cb2182-3"><a href="sampling-in-r.html#cb2182-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2182-4"><a href="sampling-in-r.html#cb2182-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(attrition_weight<span class="sc">$</span>YearsAtCompany),</span>
<span id="cb2182-5"><a href="sampling-in-r.html#cb2182-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb2182-6"><a href="sampling-in-r.html#cb2182-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb2182-7"><a href="sampling-in-r.html#cb2182-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb2182-8"><a href="sampling-in-r.html#cb2182-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;text&quot;</span>,</span>
<span id="cb2182-9"><a href="sampling-in-r.html#cb2182-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">16</span>, <span class="at">y =</span> <span class="dv">40</span>,</span>
<span id="cb2182-10"><a href="sampling-in-r.html#cb2182-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">&quot;mean = &quot;</span>, <span class="fu">mean</span>(attrition_weight<span class="sc">$</span>YearsAtCompany), <span class="at">sep =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb2182-11"><a href="sampling-in-r.html#cb2182-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;grey40&quot;</span></span>
<span id="cb2182-12"><a href="sampling-in-r.html#cb2182-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-796-1.png" width="672" /></p>
<p>The weighted sample mean is around 11, which is higher than the population mean of around 7. The fact that the two numbers are different means that the weighted simple random sample is biased.</p>
</div>
</div>
<div id="cluster-sampling" class="section level3 hasAnchor" number="16.2.3">
<h3><span class="header-section-number">16.2.3</span> Cluster sampling<a href="sampling-in-r.html#cluster-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Stratified sampling vs. cluster sampling</strong></p>
<p>The main benefit of cluster sampling over stratified sampling is that you can save time or money by not including every subgroup in your sample.</p>
<ul>
<li><p>Stratified sampling</p>
<ul>
<li><p>Split the population into subgroups</p></li>
<li><p>Use simple random sampling on every subgroup</p></li>
</ul></li>
<li><p>Cluster sampling</p>
<ul>
<li><p>Use simple random sampling to pick some subgroups</p>
<ul>
<li>Stage 1: sampling for subgroups</li>
</ul></li>
<li><p>Use simple random sampling on only those subgroups</p>
<ul>
<li>Stage 2: sampling each group</li>
</ul></li>
</ul></li>
</ul>
<p><strong>Multistage sampling</strong></p>
<ul>
<li><p>Cluster sampling is a type of multistage sampling.</p></li>
<li><p>You can have &gt; 2 stages.</p>
<ul>
<li>e.g, Countrywide surveys may sample states, counties, cities, and neighborhoods.</li>
</ul></li>
</ul>
<div id="performing-cluster-sampling" class="section level4 hasAnchor" number="16.2.3.1">
<h4><span class="header-section-number">16.2.3.1</span> Performing cluster sampling<a href="sampling-in-r.html#performing-cluster-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You’ll explore the JobRole column of the attrition dataset. You can think of each job role as a subgroup of the whole population of employees.</p>
<div class="sourceCode" id="cb2183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2183-1"><a href="sampling-in-r.html#cb2183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique JobRole values</span></span>
<span id="cb2183-2"><a href="sampling-in-r.html#cb2183-2" aria-hidden="true" tabindex="-1"></a>job_roles_pop <span class="ot">&lt;-</span> <span class="fu">unique</span>(attrition_pop<span class="sc">$</span>JobRole)</span>
<span id="cb2183-3"><a href="sampling-in-r.html#cb2183-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2183-4"><a href="sampling-in-r.html#cb2183-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Randomly sample four JobRole values</span></span>
<span id="cb2183-5"><a href="sampling-in-r.html#cb2183-5" aria-hidden="true" tabindex="-1"></a>job_roles_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(job_roles_pop, <span class="at">size =</span> <span class="dv">4</span>)</span>
<span id="cb2183-6"><a href="sampling-in-r.html#cb2183-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2183-7"><a href="sampling-in-r.html#cb2183-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2183-8"><a href="sampling-in-r.html#cb2183-8" aria-hidden="true" tabindex="-1"></a>job_roles_samp</span></code></pre></div>
<pre><code>## [1] Sales_Executive        Human_Resources        Manufacturing_Director
## [4] Sales_Representative  
## 9 Levels: Healthcare_Representative Human_Resources ... Sales_Representative</code></pre>
<div class="sourceCode" id="cb2185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2185-1"><a href="sampling-in-r.html#cb2185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for rows where JobRole is in job_roles_samp</span></span>
<span id="cb2185-2"><a href="sampling-in-r.html#cb2185-2" aria-hidden="true" tabindex="-1"></a>attrition_filtered <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2185-3"><a href="sampling-in-r.html#cb2185-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(JobRole <span class="sc">%in%</span> job_roles_samp)</span>
<span id="cb2185-4"><a href="sampling-in-r.html#cb2185-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2185-5"><a href="sampling-in-r.html#cb2185-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Randomly sample 10 employees from each sampled job role</span></span>
<span id="cb2185-6"><a href="sampling-in-r.html#cb2185-6" aria-hidden="true" tabindex="-1"></a>attrition_clus <span class="ot">&lt;-</span> attrition_filtered <span class="sc">%&gt;%</span></span>
<span id="cb2185-7"><a href="sampling-in-r.html#cb2185-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(JobRole) <span class="sc">%&gt;%</span></span>
<span id="cb2185-8"><a href="sampling-in-r.html#cb2185-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2185-9"><a href="sampling-in-r.html#cb2185-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb2185-10"><a href="sampling-in-r.html#cb2185-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2185-11"><a href="sampling-in-r.html#cb2185-11" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2185-12"><a href="sampling-in-r.html#cb2185-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(attrition_clus)</span></code></pre></div>
<pre><code>## tibble [40 × 31] (S3: tbl_df/tbl/data.frame)
##  $ Age                     : int [1:40] 26 37 39 28 44 19 38 28 44 33 ...
##  $ Attrition               : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 1 1 1 1 2 1 1 1 1 ...
##  $ BusinessTravel          : Factor w/ 3 levels &quot;Non-Travel&quot;,&quot;Travel_Frequently&quot;,..: 3 3 3 1 3 3 1 3 2 3 ...
##  $ DailyRate               : int [1:40] 1355 1239 1383 280 1112 489 1336 1169 602 147 ...
##  $ Department              : Factor w/ 3 levels &quot;Human_Resources&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ DistanceFromHome        : int [1:40] 25 8 2 1 1 2 2 8 1 2 ...
##  $ Education               : Ord.factor w/ 5 levels &quot;Below_College&quot;&lt;..: 1 2 3 2 4 2 3 2 5 3 ...
##  $ EducationField          : Factor w/ 6 levels &quot;Human_Resources&quot;,..: 2 5 2 2 2 6 1 4 1 1 ...
##  $ EnvironmentSatisfaction : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 3 3 4 3 1 1 1 2 1 2 ...
##  $ Gender                  : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 1 2 1 2 1 2 2 2 2 2 ...
##  $ HourlyRate              : int [1:40] 61 89 42 43 50 52 100 63 37 99 ...
##  $ JobInvolvement          : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 3 3 2 3 2 2 3 2 3 3 ...
##  $ JobLevel                : int [1:40] 1 2 2 1 2 1 1 1 2 1 ...
##  $ JobRole                 : Factor w/ 9 levels &quot;Healthcare_Representative&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ JobSatisfaction         : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 3 2 4 4 3 4 2 4 4 3 ...
##  $ MaritalStatus           : Factor w/ 3 levels &quot;Divorced&quot;,&quot;Married&quot;,..: 2 1 2 1 3 3 1 1 2 2 ...
##  $ MonthlyIncome           : int [1:40] 2942 4071 5204 2706 5985 2564 2592 4936 5743 3600 ...
##  $ MonthlyRate             : int [1:40] 8916 12832 7790 10494 26894 18437 7129 23965 10503 8429 ...
##  $ NumCompaniesWorked      : int [1:40] 1 2 8 1 4 1 5 1 4 1 ...
##  $ OverTime                : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 1 1 1 1 1 1 1 2 1 ...
##  $ PercentSalaryHike       : int [1:40] 23 13 11 15 11 12 13 13 11 13 ...
##  $ PerformanceRating       : Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Good&quot;&lt;&quot;Excellent&quot;&lt;..: 4 3 3 3 3 3 3 3 3 3 ...
##  $ RelationshipSatisfaction: Ord.factor w/ 4 levels &quot;Low&quot;&lt;&quot;Medium&quot;&lt;..: 4 3 3 2 2 3 4 4 3 4 ...
##  $ StockOptionLevel        : int [1:40] 1 0 2 1 0 0 3 1 0 1 ...
##  $ TotalWorkingYears       : int [1:40] 8 19 13 3 10 1 13 6 14 5 ...
##  $ TrainingTimesLastYear   : int [1:40] 3 4 2 2 1 3 3 6 3 2 ...
##  $ WorkLifeBalance         : Ord.factor w/ 4 levels &quot;Bad&quot;&lt;&quot;Good&quot;&lt;&quot;Better&quot;&lt;..: 3 2 3 3 4 4 3 3 3 3 ...
##  $ YearsAtCompany          : int [1:40] 8 10 5 3 2 1 11 5 10 5 ...
##  $ YearsInCurrentRole      : int [1:40] 7 0 4 2 2 0 10 1 7 4 ...
##  $ YearsSinceLastPromotion : int [1:40] 5 4 0 2 0 0 3 0 0 1 ...
##  $ YearsWithCurrManager    : int [1:40] 7 7 4 2 2 0 8 4 2 4 ...</code></pre>
<p>The two-stage sampling technique gives you control over sampling both between subgroups and within subgroups.</p>
</div>
</div>
<div id="comparing-sampling-methods" class="section level3 hasAnchor" number="16.2.4">
<h3><span class="header-section-number">16.2.4</span> Comparing sampling methods<a href="sampling-in-r.html#comparing-sampling-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="kinds-of-sampling" class="section level4 hasAnchor" number="16.2.4.1">
<h4><span class="header-section-number">16.2.4.1</span> 3 kinds of sampling<a href="sampling-in-r.html#kinds-of-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s compare the performance of point estimates using simple, stratified, and cluster sampling. Before we do that, you’ll have to set up the samples.</p>
<p>In these exercises, we’ll use the <code>RelationshipSatisfaction</code> column of the attrition dataset, which categorizes the employee’s relationship with the company.</p>
<div class="sourceCode" id="cb2187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2187-1"><a href="sampling-in-r.html#cb2187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># simple random sampling</span></span>
<span id="cb2187-2"><a href="sampling-in-r.html#cb2187-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform simple random sampling to get 0.25 of the population</span></span>
<span id="cb2187-3"><a href="sampling-in-r.html#cb2187-3" aria-hidden="true" tabindex="-1"></a>attrition_srs <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2187-4"><a href="sampling-in-r.html#cb2187-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.25</span>)</span>
<span id="cb2187-5"><a href="sampling-in-r.html#cb2187-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2187-6"><a href="sampling-in-r.html#cb2187-6" aria-hidden="true" tabindex="-1"></a><span class="co"># stratified sampling</span></span>
<span id="cb2187-7"><a href="sampling-in-r.html#cb2187-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform stratified sampling to get 0.25 of each relationship group</span></span>
<span id="cb2187-8"><a href="sampling-in-r.html#cb2187-8" aria-hidden="true" tabindex="-1"></a>attrition_strat <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2187-9"><a href="sampling-in-r.html#cb2187-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb2187-10"><a href="sampling-in-r.html#cb2187-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2187-11"><a href="sampling-in-r.html#cb2187-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb2187-12"><a href="sampling-in-r.html#cb2187-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2187-13"><a href="sampling-in-r.html#cb2187-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2187-14"><a href="sampling-in-r.html#cb2187-14" aria-hidden="true" tabindex="-1"></a><span class="co"># cluster sampling</span></span>
<span id="cb2187-15"><a href="sampling-in-r.html#cb2187-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique values of RelationshipSatisfaction</span></span>
<span id="cb2187-16"><a href="sampling-in-r.html#cb2187-16" aria-hidden="true" tabindex="-1"></a>satisfaction_unique <span class="ot">&lt;-</span> <span class="fu">unique</span>(attrition_pop<span class="sc">$</span>RelationshipSatisfaction)</span>
<span id="cb2187-17"><a href="sampling-in-r.html#cb2187-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2187-18"><a href="sampling-in-r.html#cb2187-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Randomly sample for 2 of the unique satisfaction values</span></span>
<span id="cb2187-19"><a href="sampling-in-r.html#cb2187-19" aria-hidden="true" tabindex="-1"></a>satisfaction_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(satisfaction_unique, <span class="at">size =</span> <span class="dv">2</span>)</span>
<span id="cb2187-20"><a href="sampling-in-r.html#cb2187-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2187-21"><a href="sampling-in-r.html#cb2187-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform cluster sampling on the selected group getting 0.25 (one quarter) of the population</span></span>
<span id="cb2187-22"><a href="sampling-in-r.html#cb2187-22" aria-hidden="true" tabindex="-1"></a>attrition_clust <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2187-23"><a href="sampling-in-r.html#cb2187-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(RelationshipSatisfaction <span class="sc">%in%</span> satisfaction_samp) <span class="sc">%&gt;%</span></span>
<span id="cb2187-24"><a href="sampling-in-r.html#cb2187-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb2187-25"><a href="sampling-in-r.html#cb2187-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="fu">round</span>(<span class="fu">nrow</span>(attrition_pop) <span class="sc">/</span> <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2187-26"><a href="sampling-in-r.html#cb2187-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code></pre></div>
</div>
<div id="summary-statistics-on-different-sample" class="section level4 hasAnchor" number="16.2.4.2">
<h4><span class="header-section-number">16.2.4.2</span> Summary statistics on different sample<a href="sampling-in-r.html#summary-statistics-on-different-sample" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now you have three types of sample (simple, stratified, cluster), you can compare point estimates from each sample to the population parameter. That is, you can calculate the same summary statistic on each sample and see how it compares to the summary statistic for the population.</p>
<p>Here, we’ll look at how satisfaction with the company affects whether or not the employee leaves the company. That is, you’ll calculate the proportion of employees who left the company (they have an <code>Attrition</code> value of <code>"Yes"</code>), for each value of <code>RelationshipSatisfaction</code>.</p>
<div class="sourceCode" id="cb2188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2188-1"><a href="sampling-in-r.html#cb2188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the whole population dataset </span></span>
<span id="cb2188-2"><a href="sampling-in-r.html#cb2188-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_pop <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2188-3"><a href="sampling-in-r.html#cb2188-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group by relationship satisfaction level</span></span>
<span id="cb2188-4"><a href="sampling-in-r.html#cb2188-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb2188-5"><a href="sampling-in-r.html#cb2188-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the proportion of employee attrition</span></span>
<span id="cb2188-6"><a href="sampling-in-r.html#cb2188-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2188-7"><a href="sampling-in-r.html#cb2188-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2188-8"><a href="sampling-in-r.html#cb2188-8" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2188-9"><a href="sampling-in-r.html#cb2188-9" aria-hidden="true" tabindex="-1"></a>mean_attrition_pop</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   RelationshipSatisfaction mean_attrition
##   &lt;ord&gt;                             &lt;dbl&gt;
## 1 Low                               0.207
## 2 Medium                            0.149
## 3 High                              0.155
## 4 Very_High                         0.148</code></pre>
<div class="sourceCode" id="cb2190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2190-1"><a href="sampling-in-r.html#cb2190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the same thing for the simple random sample </span></span>
<span id="cb2190-2"><a href="sampling-in-r.html#cb2190-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_srs <span class="ot">&lt;-</span> attrition_srs <span class="sc">%&gt;%</span></span>
<span id="cb2190-3"><a href="sampling-in-r.html#cb2190-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb2190-4"><a href="sampling-in-r.html#cb2190-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2190-5"><a href="sampling-in-r.html#cb2190-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2190-6"><a href="sampling-in-r.html#cb2190-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2190-7"><a href="sampling-in-r.html#cb2190-7" aria-hidden="true" tabindex="-1"></a>mean_attrition_srs</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   RelationshipSatisfaction mean_attrition
##   &lt;ord&gt;                             &lt;dbl&gt;
## 1 Low                               0.294
## 2 Medium                            0.174
## 3 High                              0.203
## 4 Very_High                         0.179</code></pre>
<div class="sourceCode" id="cb2192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2192-1"><a href="sampling-in-r.html#cb2192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the same thing for the stratified sample </span></span>
<span id="cb2192-2"><a href="sampling-in-r.html#cb2192-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_strat <span class="ot">&lt;-</span> attrition_strat <span class="sc">%&gt;%</span></span>
<span id="cb2192-3"><a href="sampling-in-r.html#cb2192-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb2192-4"><a href="sampling-in-r.html#cb2192-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2192-5"><a href="sampling-in-r.html#cb2192-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2192-6"><a href="sampling-in-r.html#cb2192-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2192-7"><a href="sampling-in-r.html#cb2192-7" aria-hidden="true" tabindex="-1"></a>mean_attrition_strat</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   RelationshipSatisfaction mean_attrition
##   &lt;ord&gt;                             &lt;dbl&gt;
## 1 Low                               0.217
## 2 Medium                            0.133
## 3 High                              0.114
## 4 Very_High                         0.167</code></pre>
<div class="sourceCode" id="cb2194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2194-1"><a href="sampling-in-r.html#cb2194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the same thing for the cluster sample </span></span>
<span id="cb2194-2"><a href="sampling-in-r.html#cb2194-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_clust <span class="ot">&lt;-</span> attrition_clust <span class="sc">%&gt;%</span></span>
<span id="cb2194-3"><a href="sampling-in-r.html#cb2194-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(RelationshipSatisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb2194-4"><a href="sampling-in-r.html#cb2194-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2194-5"><a href="sampling-in-r.html#cb2194-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2194-6"><a href="sampling-in-r.html#cb2194-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2194-7"><a href="sampling-in-r.html#cb2194-7" aria-hidden="true" tabindex="-1"></a>mean_attrition_clust</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   RelationshipSatisfaction mean_attrition
##   &lt;ord&gt;                             &lt;dbl&gt;
## 1 Low                               0.207
## 2 High                              0.163</code></pre>
<p>The numbers are all fairly similar, with the notable exception that cluster sampling only gives results for the clusters included in the sample.</p>
</div>
</div>
</div>
<div id="sampling-distributions" class="section level2 hasAnchor" number="16.3">
<h2><span class="header-section-number">16.3</span> Sampling Distributions<a href="sampling-in-r.html#sampling-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="relative-error-of-point-estimates" class="section level3 hasAnchor" number="16.3.1">
<h3><span class="header-section-number">16.3.1</span> Relative error of point estimates<a href="sampling-in-r.html#relative-error-of-point-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="relative-errors" class="section level4 hasAnchor" number="16.3.1.1">
<h4><span class="header-section-number">16.3.1.1</span> Relative errors<a href="sampling-in-r.html#relative-errors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The size of the sample you take affects how accurately the point estimates reflect the corresponding population parameter. For example, when you calculate a sample mean, you want it to be close to the population mean. However, if your sample is too small, this might not be the case.</p>
<p>The most common metric for assessing accuracy is <em>relative error</em>. This is the absolute difference between the population parameter and the point estimate, all divided by the population parameter. It is sometimes expressed as a percentage.</p>
<div class="sourceCode" id="cb2196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2196-1"><a href="sampling-in-r.html#cb2196-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span> <span class="sc">*</span> <span class="fu">abs</span>(population_mean <span class="sc">-</span> sample_mean) <span class="sc">/</span> population_mean</span></code></pre></div>
<div class="sourceCode" id="cb2197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2197-1"><a href="sampling-in-r.html#cb2197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Population mean</span></span>
<span id="cb2197-2"><a href="sampling-in-r.html#cb2197-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_pop <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2197-3"><a href="sampling-in-r.html#cb2197-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)); mean_attrition_pop</span></code></pre></div>
<pre><code>##   mean_attrition
## 1          0.161</code></pre>
<p>When sample size is 10.</p>
<div class="sourceCode" id="cb2199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2199-1"><a href="sampling-in-r.html#cb2199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a simple random sample of 10 rows </span></span>
<span id="cb2199-2"><a href="sampling-in-r.html#cb2199-2" aria-hidden="true" tabindex="-1"></a>attrition_srs10 <span class="ot">&lt;-</span> <span class="fu">slice_sample</span>(attrition_pop, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb2199-3"><a href="sampling-in-r.html#cb2199-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2199-4"><a href="sampling-in-r.html#cb2199-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the proportion of employee attrition in the sample</span></span>
<span id="cb2199-5"><a href="sampling-in-r.html#cb2199-5" aria-hidden="true" tabindex="-1"></a>mean_attrition_srs10 <span class="ot">&lt;-</span> attrition_srs10 <span class="sc">%&gt;%</span> </span>
<span id="cb2199-6"><a href="sampling-in-r.html#cb2199-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2199-7"><a href="sampling-in-r.html#cb2199-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2199-8"><a href="sampling-in-r.html#cb2199-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the relative error percentage</span></span>
<span id="cb2199-9"><a href="sampling-in-r.html#cb2199-9" aria-hidden="true" tabindex="-1"></a>rel_error_pct10 <span class="ot">&lt;-</span> <span class="fu">abs</span>(mean_attrition_pop <span class="sc">-</span> mean_attrition_srs10) <span class="sc">/</span> mean_attrition_pop <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb2199-10"><a href="sampling-in-r.html#cb2199-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2199-11"><a href="sampling-in-r.html#cb2199-11" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2199-12"><a href="sampling-in-r.html#cb2199-12" aria-hidden="true" tabindex="-1"></a>rel_error_pct10</span></code></pre></div>
<pre><code>##   mean_attrition
## 1            148</code></pre>
<p>When sample size is 100.</p>
<div class="sourceCode" id="cb2201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2201-1"><a href="sampling-in-r.html#cb2201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the relative error percentage again with a sample of 100 rows</span></span>
<span id="cb2201-2"><a href="sampling-in-r.html#cb2201-2" aria-hidden="true" tabindex="-1"></a>mean_attrition_srs100 <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2201-3"><a href="sampling-in-r.html#cb2201-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2201-4"><a href="sampling-in-r.html#cb2201-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb2201-5"><a href="sampling-in-r.html#cb2201-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2201-6"><a href="sampling-in-r.html#cb2201-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2201-7"><a href="sampling-in-r.html#cb2201-7" aria-hidden="true" tabindex="-1"></a>rel_error_pct100 <span class="ot">&lt;-</span> <span class="fu">abs</span>(mean_attrition_pop <span class="sc">-</span> mean_attrition_srs100) <span class="sc">/</span> mean_attrition_pop <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb2201-8"><a href="sampling-in-r.html#cb2201-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2201-9"><a href="sampling-in-r.html#cb2201-9" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2201-10"><a href="sampling-in-r.html#cb2201-10" aria-hidden="true" tabindex="-1"></a>rel_error_pct100</span></code></pre></div>
<pre><code>##   mean_attrition
## 1          0.759</code></pre>
<p>As you <em>increase the sample size</em>, on average the sample mean gets closer to the population mean and the <em>relative error decreases</em>.</p>
</div>
<div id="relative-error-vs.-sample-size" class="section level4 hasAnchor" number="16.3.1.2">
<h4><span class="header-section-number">16.3.1.2</span> Relative error vs. sample size<a href="sampling-in-r.html#relative-error-vs.-sample-size" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Here’s a scatter plot of relative error versus sample size, with a smooth trend line calculated using the LOESS method.</p>
<p><img src="image/relative%20error%20vs%20sample%20size.png" width="578" /></p>
<ul>
<li><p>The relative error decreases as the sample size increases.</p></li>
<li><p>As you increase sample size, the relative error decreases quickly at first, then more slowly as it drops to zero.</p></li>
</ul>
</div>
</div>
<div id="creating-a-sampling-distribution" class="section level3 hasAnchor" number="16.3.2">
<h3><span class="header-section-number">16.3.2</span> Creating a sampling distribution<a href="sampling-in-r.html#creating-a-sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A sampling distribution is a distribution of several replicates of point estimates.</p>
<p>Base-R’s <code>replicate</code> function let’s you run the same code multiple times. It’s especially useful for situations like this where the result contains some randomness.</p>
<div class="sourceCode" id="cb2203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2203-1"><a href="sampling-in-r.html#cb2203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">replicate</span>(</span>
<span id="cb2203-2"><a href="sampling-in-r.html#cb2203-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb2203-3"><a href="sampling-in-r.html#cb2203-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">expr =</span> data <span class="sc">%&gt;%</span></span>
<span id="cb2203-4"><a href="sampling-in-r.html#cb2203-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2203-5"><a href="sampling-in-r.html#cb2203-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize</span>(<span class="at">mean_points =</span> <span class="fu">mean</span>(total_points)) <span class="sc">%&gt;%</span></span>
<span id="cb2203-6"><a href="sampling-in-r.html#cb2203-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(mean_points)</span>
<span id="cb2203-7"><a href="sampling-in-r.html#cb2203-7" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<ul>
<li><p>The first argument, <code>n</code>: is the number of times to run the code,</p></li>
<li><p>The second argument, <code>expr</code>: is the code to run.</p></li>
</ul>
<p>Each time the code is run, we get one sample mean, so running the code a thousand times gives us a vector of a thousand sample means.</p>
<div id="replicating-samples" class="section level4 hasAnchor" number="16.3.2.1">
<h4><span class="header-section-number">16.3.2.1</span> Replicating samples<a href="sampling-in-r.html#replicating-samples" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When you calculate a point estimate such as a sample mean, the value you calculate depends on the rows that were included in the sample. That means that there is some randomness in the answer.</p>
<p>In order to quantify the variation caused by this randomness, you can create many samples and calculate the sample mean (or other statistic) for each sample.</p>
<div class="sourceCode" id="cb2204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2204-1"><a href="sampling-in-r.html#cb2204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replicate this code 500 times</span></span>
<span id="cb2204-2"><a href="sampling-in-r.html#cb2204-2" aria-hidden="true" tabindex="-1"></a>mean_attritions <span class="ot">&lt;-</span> <span class="fu">replicate</span>(</span>
<span id="cb2204-3"><a href="sampling-in-r.html#cb2204-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">500</span>,</span>
<span id="cb2204-4"><a href="sampling-in-r.html#cb2204-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">expr =</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2204-5"><a href="sampling-in-r.html#cb2204-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2204-6"><a href="sampling-in-r.html#cb2204-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2204-7"><a href="sampling-in-r.html#cb2204-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(mean_attrition)</span>
<span id="cb2204-8"><a href="sampling-in-r.html#cb2204-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2204-9"><a href="sampling-in-r.html#cb2204-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2204-10"><a href="sampling-in-r.html#cb2204-10" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2204-11"><a href="sampling-in-r.html#cb2204-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean_attritions)</span></code></pre></div>
<pre><code>##  num [1:500] 0.05 0.2 0.15 0.1 0.1 0.1 0.2 0.25 0.1 0.1 ...</code></pre>
<div class="sourceCode" id="cb2206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2206-1"><a href="sampling-in-r.html#cb2206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store mean_attritions in a tibble in a column named sample_mean</span></span>
<span id="cb2206-2"><a href="sampling-in-r.html#cb2206-2" aria-hidden="true" tabindex="-1"></a>sample_means <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">sample_mean =</span> mean_attritions)</span>
<span id="cb2206-3"><a href="sampling-in-r.html#cb2206-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2206-4"><a href="sampling-in-r.html#cb2206-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a histogram of the `sample_mean` column, binwidth 0.05</span></span>
<span id="cb2206-5"><a href="sampling-in-r.html#cb2206-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sample_means, <span class="fu">aes</span>(<span class="at">x =</span> sample_mean)) <span class="sc">+</span></span>
<span id="cb2206-6"><a href="sampling-in-r.html#cb2206-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-808-1.png" width="672" /></p>
<p>By generating the sample statistic many times with different samples, you can quantify the amount of variation in those statistics.</p>
<p>As sample size increases, on average each sample mean has a lower relative error compared to the population mean, thus reducing the range of the distribution.</p>
</div>
</div>
<div id="approximate-sampling-distributions" class="section level3 hasAnchor" number="16.3.3">
<h3><span class="header-section-number">16.3.3</span> Approximate sampling distributions<a href="sampling-in-r.html#approximate-sampling-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="exact-sampling-distribution" class="section level4 hasAnchor" number="16.3.3.1">
<h4><span class="header-section-number">16.3.3.1</span> Exact sampling distribution<a href="sampling-in-r.html#exact-sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The distribution of a sample statistic is called the <em>sampling distribution</em>. When we can calculate this exactly, rather than using an approximation, it is known as the <em>exact sampling distribution</em>.</p>
<p>Let’s take another look at the sampling distribution of dice rolls. This time, we’ll look at five eight-sided dice.</p>
<div class="sourceCode" id="cb2207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2207-1"><a href="sampling-in-r.html#cb2207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Expand a grid representing 5 8-sided dice</span></span>
<span id="cb2207-2"><a href="sampling-in-r.html#cb2207-2" aria-hidden="true" tabindex="-1"></a>dice <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb2207-3"><a href="sampling-in-r.html#cb2207-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">die1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb2207-4"><a href="sampling-in-r.html#cb2207-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">die2 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb2207-5"><a href="sampling-in-r.html#cb2207-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">die3 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb2207-6"><a href="sampling-in-r.html#cb2207-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">die4 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb2207-7"><a href="sampling-in-r.html#cb2207-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">die5 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb2207-8"><a href="sampling-in-r.html#cb2207-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2207-9"><a href="sampling-in-r.html#cb2207-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2207-10"><a href="sampling-in-r.html#cb2207-10" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2207-11"><a href="sampling-in-r.html#cb2207-11" aria-hidden="true" tabindex="-1"></a>dice</span></code></pre></div>
<pre><code>## # A tibble: 32,768 × 5
##     die1  die2  die3  die4  die5
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1     1     1     1     1     1
##  2     1     1     1     1     2
##  3     1     1     1     1     3
##  4     1     1     1     1     4
##  5     1     1     1     1     5
##  6     1     1     1     1     6
##  7     1     1     1     1     7
##  8     1     1     1     1     8
##  9     1     1     1     2     1
## 10     1     1     1     2     2
## # ℹ 32,758 more rows</code></pre>
<p>Add a column, <code>mean_roll</code>, to <code>dice</code>, that contains the mean of the five rolls.</p>
<div class="sourceCode" id="cb2209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2209-1"><a href="sampling-in-r.html#cb2209-1" aria-hidden="true" tabindex="-1"></a>dice <span class="ot">&lt;-</span> dice <span class="sc">%&gt;%</span> </span>
<span id="cb2209-2"><a href="sampling-in-r.html#cb2209-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a column of mean rolls</span></span>
<span id="cb2209-3"><a href="sampling-in-r.html#cb2209-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_roll =</span> <span class="fu">rowSums</span>(.)<span class="sc">/</span><span class="fu">ncol</span>(.))</span>
<span id="cb2209-4"><a href="sampling-in-r.html#cb2209-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2209-5"><a href="sampling-in-r.html#cb2209-5" aria-hidden="true" tabindex="-1"></a>dice</span></code></pre></div>
<pre><code>## # A tibble: 32,768 × 6
##     die1  die2  die3  die4  die5 mean_roll
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;
##  1     1     1     1     1     1       1  
##  2     1     1     1     1     2       1.2
##  3     1     1     1     1     3       1.4
##  4     1     1     1     1     4       1.6
##  5     1     1     1     1     5       1.8
##  6     1     1     1     1     6       2  
##  7     1     1     1     1     7       2.2
##  8     1     1     1     1     8       2.4
##  9     1     1     1     2     1       1.2
## 10     1     1     1     2     2       1.4
## # ℹ 32,758 more rows</code></pre>
<div class="sourceCode" id="cb2211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2211-1"><a href="sampling-in-r.html#cb2211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using dice, draw a bar plot of mean_roll as a factor</span></span>
<span id="cb2211-2"><a href="sampling-in-r.html#cb2211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dice, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(mean_roll))) <span class="sc">+</span></span>
<span id="cb2211-3"><a href="sampling-in-r.html#cb2211-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb2211-4"><a href="sampling-in-r.html#cb2211-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.8</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-811-1.png" width="672" /></p>
<p>The exact sampling distribution shows all possible variations of the point estimate that you are interested in.</p>
</div>
<div id="approximate-sampling-distribution" class="section level4 hasAnchor" number="16.3.3.2">
<h4><span class="header-section-number">16.3.3.2</span> Approximate sampling distribution<a href="sampling-in-r.html#approximate-sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Calculating the exact sampling distribution is only possible in very simple situations. With just five eight-sided dice, the number of possible rolls is <code>8 ^ 5</code>, which is over thirty thousand.</p>
<p>When the dataset is more complicated, for example where a variable has hundreds or thousands or categories, the number of possible outcomes becomes too difficult to compute exactly.</p>
<p>In this situation, you can calculate an approximate sampling distribution by simulating the exact sampling distribution. That is, you can repeat a procedure over and over again to simulate both the sampling process and the sample statistic calculation process.</p>
<div class="sourceCode" id="cb2212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2212-1"><a href="sampling-in-r.html#cb2212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample one to eight, five times, with replacement</span></span>
<span id="cb2212-2"><a href="sampling-in-r.html#cb2212-2" aria-hidden="true" tabindex="-1"></a>five_rolls <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2212-3"><a href="sampling-in-r.html#cb2212-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2212-4"><a href="sampling-in-r.html#cb2212-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of five_rolls</span></span>
<span id="cb2212-5"><a href="sampling-in-r.html#cb2212-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(five_rolls)</span></code></pre></div>
<pre><code>## [1] 5.8</code></pre>
<p>Replicate the sampling code 1000 times.</p>
<p>The code to generate each sample mean was two lines, so we have to wrap the <code>expr</code> argument to replicate in <code>{}</code>, like in a for loop or a function body.</p>
<div class="sourceCode" id="cb2214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2214-1"><a href="sampling-in-r.html#cb2214-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replicate the sampling code 1000 times</span></span>
<span id="cb2214-2"><a href="sampling-in-r.html#cb2214-2" aria-hidden="true" tabindex="-1"></a>sample_means_1000 <span class="ot">&lt;-</span> <span class="fu">replicate</span>(</span>
<span id="cb2214-3"><a href="sampling-in-r.html#cb2214-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb2214-4"><a href="sampling-in-r.html#cb2214-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">expr =</span> {</span>
<span id="cb2214-5"><a href="sampling-in-r.html#cb2214-5" aria-hidden="true" tabindex="-1"></a>    five_rolls <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2214-6"><a href="sampling-in-r.html#cb2214-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(five_rolls)</span>
<span id="cb2214-7"><a href="sampling-in-r.html#cb2214-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2214-8"><a href="sampling-in-r.html#cb2214-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2214-9"><a href="sampling-in-r.html#cb2214-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2214-10"><a href="sampling-in-r.html#cb2214-10" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2214-11"><a href="sampling-in-r.html#cb2214-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sample_means_1000)</span></code></pre></div>
<pre><code>##  num [1:1000] 5.2 3.2 5.8 4.6 5.8 4.2 3.4 5 5.2 3.6 ...</code></pre>
<div class="sourceCode" id="cb2216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2216-1"><a href="sampling-in-r.html#cb2216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap sample_means_1000 in the sample_mean column of a tibble</span></span>
<span id="cb2216-2"><a href="sampling-in-r.html#cb2216-2" aria-hidden="true" tabindex="-1"></a>sample_means <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">sample_mean =</span> sample_means_1000)</span>
<span id="cb2216-3"><a href="sampling-in-r.html#cb2216-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2216-4"><a href="sampling-in-r.html#cb2216-4" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2216-5"><a href="sampling-in-r.html#cb2216-5" aria-hidden="true" tabindex="-1"></a>sample_means</span></code></pre></div>
<pre><code>## # A tibble: 1,000 × 1
##    sample_mean
##          &lt;dbl&gt;
##  1         5.2
##  2         3.2
##  3         5.8
##  4         4.6
##  5         5.8
##  6         4.2
##  7         3.4
##  8         5  
##  9         5.2
## 10         3.6
## # ℹ 990 more rows</code></pre>
<div class="sourceCode" id="cb2218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2218-1"><a href="sampling-in-r.html#cb2218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using sample_means, draw a bar plot of sample_mean as a factor</span></span>
<span id="cb2218-2"><a href="sampling-in-r.html#cb2218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sample_means, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(sample_mean))) <span class="sc">+</span></span>
<span id="cb2218-3"><a href="sampling-in-r.html#cb2218-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb2218-4"><a href="sampling-in-r.html#cb2218-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.8</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-815-1.png" width="672" /></p>
<p>Once your dataset gets sufficiently big, exact sampling distributions cannot be calculated, so an approximate sampling distribution has to be used. Notice that the histogram is close to but not exactly the same as the histogram from the previous exercise.</p>
</div>
</div>
<div id="standard-errors-clt" class="section level3 hasAnchor" number="16.3.4">
<h3><span class="header-section-number">16.3.4</span> Standard errors &amp; CLT<a href="sampling-in-r.html#standard-errors-clt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Consequences of the central limit theorem</strong></p>
<ul>
<li><p>Averages of independent samples have approximately normal distributions.</p></li>
<li><p>As the sample size increases,</p>
<ul>
<li><p>the distribution of the averages gets closer to being normally distributed</p></li>
<li><p>the width of the sampling distribution gets narrower.</p></li>
</ul></li>
</ul>
<div id="population-sampling-distribution-means" class="section level4 hasAnchor" number="16.3.4.1">
<h4><span class="header-section-number">16.3.4.1</span> Population &amp; sampling distribution means<a href="sampling-in-r.html#population-sampling-distribution-means" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Here, we’ll look at the relationship between the mean of the sampling distribution and the population parameter that the sampling is supposed to estimate.</p>
<p>Three sampling distributions are provided. In each case, the employee attrition dataset was sampled using simple random sampling, then the mean attrition was calculated. This was done 1000 times to get a sampling distribution of mean attritions. One sampling distribution used a sample size of 5 for each replicate, one used 50, and one used 500.</p>
<div class="sourceCode" id="cb2219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2219-1"><a href="sampling-in-r.html#cb2219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function</span></span>
<span id="cb2219-2"><a href="sampling-in-r.html#cb2219-2" aria-hidden="true" tabindex="-1"></a>sampling_distribution_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(sample_size) {</span>
<span id="cb2219-3"><a href="sampling-in-r.html#cb2219-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">replicate</span>(</span>
<span id="cb2219-4"><a href="sampling-in-r.html#cb2219-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb2219-5"><a href="sampling-in-r.html#cb2219-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">expr =</span> attrition_pop <span class="sc">%&gt;%</span></span>
<span id="cb2219-6"><a href="sampling-in-r.html#cb2219-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">slice_sample</span>(<span class="at">n =</span> sample_size) <span class="sc">%&gt;%</span></span>
<span id="cb2219-7"><a href="sampling-in-r.html#cb2219-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2219-8"><a href="sampling-in-r.html#cb2219-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pull</span>(mean_attrition)</span>
<span id="cb2219-9"><a href="sampling-in-r.html#cb2219-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb2219-10"><a href="sampling-in-r.html#cb2219-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">mean_attrition =</span> .)</span>
<span id="cb2219-11"><a href="sampling-in-r.html#cb2219-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2219-12"><a href="sampling-in-r.html#cb2219-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2219-13"><a href="sampling-in-r.html#cb2219-13" aria-hidden="true" tabindex="-1"></a><span class="co"># sample size = 5</span></span>
<span id="cb2219-14"><a href="sampling-in-r.html#cb2219-14" aria-hidden="true" tabindex="-1"></a>sampling_distribution_5 <span class="ot">&lt;-</span> <span class="fu">sampling_distribution_fun</span>(<span class="dv">5</span>)</span>
<span id="cb2219-15"><a href="sampling-in-r.html#cb2219-15" aria-hidden="true" tabindex="-1"></a>sampling_distribution_5</span></code></pre></div>
<pre><code>## # A tibble: 1,000 × 1
##    mean_attrition
##             &lt;dbl&gt;
##  1            0.4
##  2            0.4
##  3            0  
##  4            0  
##  5            0  
##  6            0.4
##  7            0.2
##  8            0  
##  9            0  
## 10            0.4
## # ℹ 990 more rows</code></pre>
<div class="sourceCode" id="cb2221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2221-1"><a href="sampling-in-r.html#cb2221-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample size = 50</span></span>
<span id="cb2221-2"><a href="sampling-in-r.html#cb2221-2" aria-hidden="true" tabindex="-1"></a>sampling_distribution_50 <span class="ot">&lt;-</span> <span class="fu">sampling_distribution_fun</span>(<span class="dv">50</span>)</span>
<span id="cb2221-3"><a href="sampling-in-r.html#cb2221-3" aria-hidden="true" tabindex="-1"></a>sampling_distribution_50</span></code></pre></div>
<pre><code>## # A tibble: 1,000 × 1
##    mean_attrition
##             &lt;dbl&gt;
##  1           0.18
##  2           0.12
##  3           0.1 
##  4           0.26
##  5           0.22
##  6           0.14
##  7           0.2 
##  8           0.06
##  9           0.06
## 10           0.08
## # ℹ 990 more rows</code></pre>
<div class="sourceCode" id="cb2223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2223-1"><a href="sampling-in-r.html#cb2223-1" aria-hidden="true" tabindex="-1"></a>sampling_distribution_500 <span class="ot">&lt;-</span> <span class="fu">sampling_distribution_fun</span>(<span class="dv">500</span>)</span>
<span id="cb2223-2"><a href="sampling-in-r.html#cb2223-2" aria-hidden="true" tabindex="-1"></a>sampling_distribution_500</span></code></pre></div>
<pre><code>## # A tibble: 1,000 × 1
##    mean_attrition
##             &lt;dbl&gt;
##  1          0.172
##  2          0.166
##  3          0.17 
##  4          0.18 
##  5          0.162
##  6          0.16 
##  7          0.164
##  8          0.154
##  9          0.154
## 10          0.15 
## # ℹ 990 more rows</code></pre>
<p>Calculate a mean of sample means.</p>
<div class="sourceCode" id="cb2225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2225-1"><a href="sampling-in-r.html#cb2225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean across replicates of the mean attritions in sampling_distribution_5</span></span>
<span id="cb2225-2"><a href="sampling-in-r.html#cb2225-2" aria-hidden="true" tabindex="-1"></a>mean_of_means_5 <span class="ot">&lt;-</span> sampling_distribution_5 <span class="sc">%&gt;%</span></span>
<span id="cb2225-3"><a href="sampling-in-r.html#cb2225-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mean_attrition_5 =</span> <span class="fu">mean</span>(mean_attrition))</span>
<span id="cb2225-4"><a href="sampling-in-r.html#cb2225-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2225-5"><a href="sampling-in-r.html#cb2225-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same for sampling_distribution_50</span></span>
<span id="cb2225-6"><a href="sampling-in-r.html#cb2225-6" aria-hidden="true" tabindex="-1"></a>mean_of_means_50 <span class="ot">&lt;-</span> sampling_distribution_50 <span class="sc">%&gt;%</span></span>
<span id="cb2225-7"><a href="sampling-in-r.html#cb2225-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mean_attrition_50 =</span> <span class="fu">mean</span>(mean_attrition))</span>
<span id="cb2225-8"><a href="sampling-in-r.html#cb2225-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2225-9"><a href="sampling-in-r.html#cb2225-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2225-10"><a href="sampling-in-r.html#cb2225-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ... and for sampling_distribution_500</span></span>
<span id="cb2225-11"><a href="sampling-in-r.html#cb2225-11" aria-hidden="true" tabindex="-1"></a>mean_of_means_500 <span class="ot">&lt;-</span> sampling_distribution_500 <span class="sc">%&gt;%</span></span>
<span id="cb2225-12"><a href="sampling-in-r.html#cb2225-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mean_attrition_500 =</span> <span class="fu">mean</span>(mean_attrition))</span>
<span id="cb2225-13"><a href="sampling-in-r.html#cb2225-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2225-14"><a href="sampling-in-r.html#cb2225-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2225-15"><a href="sampling-in-r.html#cb2225-15" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2225-16"><a href="sampling-in-r.html#cb2225-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(mean_of_means_5, mean_of_means_50, mean_of_means_500)</span></code></pre></div>
<pre><code>##   mean_mean_attrition_5 mean_mean_attrition_50 mean_mean_attrition_500
## 1                 0.163                  0.164                   0.161</code></pre>
<p>Regardless of sample size, the mean of the sampling distribution is a close approximation to the population mean.</p>
<div class="sourceCode" id="cb2227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2227-1"><a href="sampling-in-r.html#cb2227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For comparison: the mean attrition in the population</span></span>
<span id="cb2227-2"><a href="sampling-in-r.html#cb2227-2" aria-hidden="true" tabindex="-1"></a>attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2227-3"><a href="sampling-in-r.html#cb2227-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_attrition =</span> <span class="fu">mean</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>))</span></code></pre></div>
<pre><code>##   mean_attrition
## 1          0.161</code></pre>
</div>
<div id="population-and-sampling-distribution-variation" class="section level4 hasAnchor" number="16.3.4.2">
<h4><span class="header-section-number">16.3.4.2</span> Population and sampling distribution variation<a href="sampling-in-r.html#population-and-sampling-distribution-variation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Similarly, as a result of the central limit theorem, the standard deviation of the sampling distribution has an interesting relationship with the population parameter’s standard deviation and the sample size.</p>
<p>Calculate standard deviation of sample means.</p>
<div class="sourceCode" id="cb2229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2229-1"><a href="sampling-in-r.html#cb2229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the standard deviation across replicates of the mean attritions in sampling_distribution_5</span></span>
<span id="cb2229-2"><a href="sampling-in-r.html#cb2229-2" aria-hidden="true" tabindex="-1"></a>sd_of_means_5 <span class="ot">&lt;-</span> sampling_distribution_5 <span class="sc">%&gt;%</span></span>
<span id="cb2229-3"><a href="sampling-in-r.html#cb2229-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sd_mean_attrition_5 =</span> <span class="fu">sd</span>(mean_attrition))</span>
<span id="cb2229-4"><a href="sampling-in-r.html#cb2229-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2229-5"><a href="sampling-in-r.html#cb2229-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same for sampling_distribution_50</span></span>
<span id="cb2229-6"><a href="sampling-in-r.html#cb2229-6" aria-hidden="true" tabindex="-1"></a>sd_of_means_50 <span class="ot">&lt;-</span> sampling_distribution_50 <span class="sc">%&gt;%</span></span>
<span id="cb2229-7"><a href="sampling-in-r.html#cb2229-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sd_mean_attrition_50 =</span> <span class="fu">sd</span>(mean_attrition))</span>
<span id="cb2229-8"><a href="sampling-in-r.html#cb2229-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2229-9"><a href="sampling-in-r.html#cb2229-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2229-10"><a href="sampling-in-r.html#cb2229-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ... and for sampling_distribution_500</span></span>
<span id="cb2229-11"><a href="sampling-in-r.html#cb2229-11" aria-hidden="true" tabindex="-1"></a>sd_of_means_500 <span class="ot">&lt;-</span> sampling_distribution_500 <span class="sc">%&gt;%</span></span>
<span id="cb2229-12"><a href="sampling-in-r.html#cb2229-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sd_mean_attrition_500 =</span> <span class="fu">sd</span>(mean_attrition))</span>
<span id="cb2229-13"><a href="sampling-in-r.html#cb2229-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2229-14"><a href="sampling-in-r.html#cb2229-14" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2229-15"><a href="sampling-in-r.html#cb2229-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(sd_of_means_5, sd_of_means_50, sd_of_means_500)</span></code></pre></div>
<pre><code>##   sd_mean_attrition_5 sd_mean_attrition_50 sd_mean_attrition_500
## 1               0.163               0.0512                0.0136</code></pre>
<p>The standard deviation of the sampling distribution is approximately equal to the population standard deviation divided by the square root of the sample size.</p>
<div class="sourceCode" id="cb2231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2231-1"><a href="sampling-in-r.html#cb2231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For comparison: population standard deviation</span></span>
<span id="cb2231-2"><a href="sampling-in-r.html#cb2231-2" aria-hidden="true" tabindex="-1"></a>sd_attrition_pop <span class="ot">&lt;-</span> attrition_pop <span class="sc">%&gt;%</span> </span>
<span id="cb2231-3"><a href="sampling-in-r.html#cb2231-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sd_attrition =</span> <span class="fu">sd</span>(Attrition <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2231-4"><a href="sampling-in-r.html#cb2231-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sd_attrition)</span>
<span id="cb2231-5"><a href="sampling-in-r.html#cb2231-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2231-6"><a href="sampling-in-r.html#cb2231-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The sample sizes of each sampling distribution</span></span>
<span id="cb2231-7"><a href="sampling-in-r.html#cb2231-7" aria-hidden="true" tabindex="-1"></a>sample_sizes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">50</span>, <span class="dv">500</span>)</span>
<span id="cb2231-8"><a href="sampling-in-r.html#cb2231-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2231-9"><a href="sampling-in-r.html#cb2231-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create compare df</span></span>
<span id="cb2231-10"><a href="sampling-in-r.html#cb2231-10" aria-hidden="true" tabindex="-1"></a>Std_sample_mean <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">pull</span>(sd_of_means_5), <span class="fu">pull</span>(sd_of_means_50), <span class="fu">pull</span>(sd_of_means_500))</span>
<span id="cb2231-11"><a href="sampling-in-r.html#cb2231-11" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(sample_sizes, Std_sample_mean) <span class="sc">%&gt;%</span></span>
<span id="cb2231-12"><a href="sampling-in-r.html#cb2231-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Pop_mean_over_sqrt_sample_size =</span> sd_attrition_pop <span class="sc">/</span> <span class="fu">sqrt</span>(sample_sizes))</span></code></pre></div>
<pre><code>##   sample_sizes Std_sample_mean Pop_mean_over_sqrt_sample_size
## 1            5          0.1633                         0.1645
## 2           50          0.0512                         0.0520
## 3          500          0.0136                         0.0165</code></pre>
</div>
</div>
</div>
<div id="bootstrap-distributions" class="section level2 hasAnchor" number="16.4">
<h2><span class="header-section-number">16.4</span> Bootstrap Distributions<a href="sampling-in-r.html#bootstrap-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="introduction-to-bootstrapping" class="section level3 hasAnchor" number="16.4.1">
<h3><span class="header-section-number">16.4.1</span> Introduction to bootstrapping<a href="sampling-in-r.html#introduction-to-bootstrapping" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Bootstrapping</em> treats your dataset as a sample and uses it to build up a theoretical population.</p>
<p><strong>Bootstrapping process</strong></p>
<ol style="list-style-type: decimal">
<li><p>Make a resample of the same size as the original sample.</p></li>
<li><p>Calculate the statistic of interest for this bootstrap sample.</p></li>
<li><p>Repeat steps 1 and 2 many times.</p></li>
</ol>
<p>The resulting statistics are called bootstrap statistics and when viewed to see their variability a bootstrap distribution.</p>
<p><strong>With or without replacement</strong></p>
<p>The key to deciding whether to sample without or with replacement is whether or not your dataset is best thought of as being the whole population or not.</p>
<ul>
<li><p>If dataset = whole population ⟶ with replacement</p></li>
<li><p>If dataset ≠ whole population ⟶ without replacement</p></li>
</ul>
<div id="generating-a-bootstrap-distribution" class="section level4 hasAnchor" number="16.4.1.1">
<h4><span class="header-section-number">16.4.1.1</span> Generating a bootstrap distribution<a href="sampling-in-r.html#generating-a-bootstrap-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To make a bootstrap distribution, you start with a sample and sample that with replacement. After that, the steps are the same: calculate the summary statistic that you are interested in on that sample/resample, then replicate the process many times.</p>
<p>Here, <code>spotify_sample</code> is a subset of the <code>spotify_population</code> dataset.</p>
<div class="sourceCode" id="cb2233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2233-1"><a href="sampling-in-r.html#cb2233-1" aria-hidden="true" tabindex="-1"></a>spotify_sample <span class="ot">&lt;-</span> spotify_population <span class="sc">%&gt;%</span></span>
<span id="cb2233-2"><a href="sampling-in-r.html#cb2233-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(artists, name, danceability) <span class="sc">%&gt;%</span></span>
<span id="cb2233-3"><a href="sampling-in-r.html#cb2233-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">1000</span>)</span>
<span id="cb2233-4"><a href="sampling-in-r.html#cb2233-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2233-5"><a href="sampling-in-r.html#cb2233-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spotify_sample)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 3
## $ artists      &lt;chr&gt; &quot;[&#39;NAV&#39;, &#39;Lil Uzi Vert&#39;]&quot;, &quot;[&#39;Ben Harper&#39;, &#39;Jack Johnson&#39;…
## $ name         &lt;chr&gt; &quot;Wanted You (feat. Lil Uzi Vert)&quot;, &quot;High Tide Or Low Tide…
## $ danceability &lt;dbl&gt; 0.795, 0.394, 0.381, 0.430, 0.433, 0.737, 0.264, 0.753, 0…</code></pre>
<p>Step 1: Generate a single bootstrap resample from <code>spotify_sample</code>.</p>
<div class="sourceCode" id="cb2235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2235-1"><a href="sampling-in-r.html#cb2235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate 1 bootstrap resample</span></span>
<span id="cb2235-2"><a href="sampling-in-r.html#cb2235-2" aria-hidden="true" tabindex="-1"></a>spotify_1_resample <span class="ot">&lt;-</span> spotify_sample <span class="sc">%&gt;%</span></span>
<span id="cb2235-3"><a href="sampling-in-r.html#cb2235-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2235-4"><a href="sampling-in-r.html#cb2235-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2235-5"><a href="sampling-in-r.html#cb2235-5" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2235-6"><a href="sampling-in-r.html#cb2235-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spotify_1_resample)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 3
## $ artists      &lt;chr&gt; &quot;[&#39;Sufjan Stevens&#39;]&quot;, &quot;[&#39;G-Unit&#39;]&quot;, &quot;[&#39;The New Pornograph…
## $ name         &lt;chr&gt; &quot;Holland&quot;, &quot;Collapse - G-Unit Freestyle&quot;, &quot;The Bleeding H…
## $ danceability &lt;dbl&gt; 0.572, 0.467, 0.225, 0.724, 0.339, 0.378, 0.479, 0.700, 0…</code></pre>
<p>Step 2: Summarize to calculate the mean <code>danceability</code> of <code>spotify_1_resample</code>.</p>
<div class="sourceCode" id="cb2237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2237-1"><a href="sampling-in-r.html#cb2237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate mean danceability of resample</span></span>
<span id="cb2237-2"><a href="sampling-in-r.html#cb2237-2" aria-hidden="true" tabindex="-1"></a>mean_danceability_1 <span class="ot">&lt;-</span> spotify_1_resample <span class="sc">%&gt;%</span></span>
<span id="cb2237-3"><a href="sampling-in-r.html#cb2237-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_danceability =</span> <span class="fu">mean</span>(danceability)) <span class="sc">%&gt;%</span></span>
<span id="cb2237-4"><a href="sampling-in-r.html#cb2237-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_danceability)</span>
<span id="cb2237-5"><a href="sampling-in-r.html#cb2237-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2237-6"><a href="sampling-in-r.html#cb2237-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2237-7"><a href="sampling-in-r.html#cb2237-7" aria-hidden="true" tabindex="-1"></a>mean_danceability_1</span></code></pre></div>
<pre><code>## [1] 0.597</code></pre>
<p>Replicate the expression provided 1000 times.</p>
<div class="sourceCode" id="cb2239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2239-1"><a href="sampling-in-r.html#cb2239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3</span></span>
<span id="cb2239-2"><a href="sampling-in-r.html#cb2239-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Replicate this 1000 times</span></span>
<span id="cb2239-3"><a href="sampling-in-r.html#cb2239-3" aria-hidden="true" tabindex="-1"></a>mean_danceability_1000 <span class="ot">&lt;-</span> <span class="fu">replicate</span>(</span>
<span id="cb2239-4"><a href="sampling-in-r.html#cb2239-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb2239-5"><a href="sampling-in-r.html#cb2239-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">expr =</span> {</span>
<span id="cb2239-6"><a href="sampling-in-r.html#cb2239-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 1</span></span>
<span id="cb2239-7"><a href="sampling-in-r.html#cb2239-7" aria-hidden="true" tabindex="-1"></a>    spotify_1_resample <span class="ot">&lt;-</span> spotify_sample <span class="sc">%&gt;%</span> </span>
<span id="cb2239-8"><a href="sampling-in-r.html#cb2239-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2239-9"><a href="sampling-in-r.html#cb2239-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2</span></span>
<span id="cb2239-10"><a href="sampling-in-r.html#cb2239-10" aria-hidden="true" tabindex="-1"></a>    spotify_1_resample <span class="sc">%&gt;%</span> </span>
<span id="cb2239-11"><a href="sampling-in-r.html#cb2239-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize</span>(<span class="at">mean_danceability =</span> <span class="fu">mean</span>(danceability)) <span class="sc">%&gt;%</span> </span>
<span id="cb2239-12"><a href="sampling-in-r.html#cb2239-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(mean_danceability)</span>
<span id="cb2239-13"><a href="sampling-in-r.html#cb2239-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2239-14"><a href="sampling-in-r.html#cb2239-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2239-15"><a href="sampling-in-r.html#cb2239-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2239-16"><a href="sampling-in-r.html#cb2239-16" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2239-17"><a href="sampling-in-r.html#cb2239-17" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean_danceability_1000)</span></code></pre></div>
<pre><code>##  num [1:1000] 0.579 0.586 0.593 0.583 0.592 ...</code></pre>
<p>Draw a histogram.</p>
<div class="sourceCode" id="cb2241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2241-1"><a href="sampling-in-r.html#cb2241-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store the resamples in a tibble</span></span>
<span id="cb2241-2"><a href="sampling-in-r.html#cb2241-2" aria-hidden="true" tabindex="-1"></a>bootstrap_distn <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2241-3"><a href="sampling-in-r.html#cb2241-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">resample_mean =</span> mean_danceability_1000</span>
<span id="cb2241-4"><a href="sampling-in-r.html#cb2241-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2241-5"><a href="sampling-in-r.html#cb2241-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2241-6"><a href="sampling-in-r.html#cb2241-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw a histogram of the resample means with binwidth 0.002</span></span>
<span id="cb2241-7"><a href="sampling-in-r.html#cb2241-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bootstrap_distn, <span class="fu">aes</span>(resample_mean)) <span class="sc">+</span></span>
<span id="cb2241-8"><a href="sampling-in-r.html#cb2241-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.002</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-827-1.png" width="672" /></p>
</div>
</div>
<div id="comparing-sampling-bootstrap-distributions" class="section level3 hasAnchor" number="16.4.2">
<h3><span class="header-section-number">16.4.2</span> Comparing sampling &amp; bootstrap distributions<a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Sample, bootstrap distribution, population means</strong></p>
<ul>
<li><p>The bootstrap distribution mean is usually almost identical to the sample mean.</p></li>
<li><p>It may not be a good estimate of the population mean.</p></li>
<li><p>Bootstrapping cannot correct biases due to differences between your sample and the population.</p></li>
</ul>
<p><strong>Sample, bootstrap distribution, population stds</strong></p>
<ul>
<li><p><em>Standard error</em> is the standard deviation of the statistic of interest.</p></li>
<li><p>Standard error * square root of sample size, estimates the population standard deviation.</p></li>
<li><p><em>Estimated standard error</em> is the standard deviation of the bootstrap distribution for a sample statistic.</p></li>
<li><p>The bootstrap distribution standard error times the square root of the sample size estimates the standard deviation in the population.</p></li>
</ul>
<div id="sampling-distribution-vs.-bootstrap-distribution" class="section level4 hasAnchor" number="16.4.2.1">
<h4><span class="header-section-number">16.4.2.1</span> Sampling distribution vs. bootstrap distribution<a href="sampling-in-r.html#sampling-distribution-vs.-bootstrap-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Here, the statistic you are interested in is the mean <code>popularity</code> score of the songs.</p>
<div class="sourceCode" id="cb2242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2242-1"><a href="sampling-in-r.html#cb2242-1" aria-hidden="true" tabindex="-1"></a>spotify_sample <span class="ot">&lt;-</span> spotify_population <span class="sc">%&gt;%</span></span>
<span id="cb2242-2"><a href="sampling-in-r.html#cb2242-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">500</span>)</span>
<span id="cb2242-3"><a href="sampling-in-r.html#cb2242-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2242-4"><a href="sampling-in-r.html#cb2242-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spotify_sample)</span></code></pre></div>
<pre><code>## Rows: 500
## Columns: 20
## $ acousticness     &lt;dbl&gt; 0.01480, 0.02590, 0.43500, 0.98700, 0.25100, 0.97300,…
## $ artists          &lt;chr&gt; &quot;[&#39;Arctic Monkeys&#39;]&quot;, &quot;[&#39;Mitchell Tenpenny&#39;]&quot;, &quot;[&#39;Man…
## $ danceability     &lt;dbl&gt; 0.498, 0.671, 0.857, 0.546, 0.440, 0.300, 0.501, 0.45…
## $ duration_ms      &lt;dbl&gt; 224827, 186600, 272576, 199800, 243600, 180050, 27761…
## $ duration_minutes &lt;dbl&gt; 3.75, 3.11, 4.54, 3.33, 4.06, 3.00, 4.63, 3.41, 4.01,…
## $ energy           &lt;dbl&gt; 0.885, 0.597, 0.561, 0.155, 0.611, 0.399, 0.721, 0.53…
## $ explicit         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 0,…
## $ id               &lt;chr&gt; &quot;21sa0bWFqOFEYPtahlt4Lt&quot;, &quot;5SO7pvSFiXwU0e1z7C4X7H&quot;, &quot;…
## $ instrumentalness &lt;dbl&gt; 0.00041000, 0.00000000, 0.00000000, 0.00006020, 0.000…
## $ key              &lt;dbl&gt; 4, 8, 9, 0, 0, 8, 0, 1, 5, 6, 9, 0, 4, 2, 6, 2, 8, 2,…
## $ liveness         &lt;dbl&gt; 0.2390, 0.1160, 0.0831, 0.1800, 0.2140, 0.1120, 0.101…
## $ loudness         &lt;dbl&gt; -4.42, -7.01, -7.29, -14.38, -7.47, -33.62, -7.25, -8…
## $ mode             &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1,…
## $ name             &lt;chr&gt; &quot;Crying Lightning&quot;, &quot;Alcohol You Later&quot;, &quot;Mi Verdad (…
## $ popularity       &lt;dbl&gt; 51, 62, 66, 65, 55, 67, 56, 84, 62, 42, 47, 49, 56, 7…
## $ release_date     &lt;chr&gt; &quot;2009-08-25&quot;, &quot;2018-12-14&quot;, &quot;2015-04-21&quot;, &quot;2013-01-01…
## $ speechiness      &lt;dbl&gt; 0.0461, 0.0351, 0.0292, 0.0428, 0.0477, 0.0755, 0.037…
## $ tempo            &lt;dbl&gt; 106.7, 100.0, 100.0, 72.3, 157.1, 122.8, 174.0, 123.0…
## $ valence          &lt;dbl&gt; 0.6700, 0.4220, 0.7600, 0.5120, 0.7500, 0.0226, 0.810…
## $ year             &lt;dbl&gt; 2009, 2018, 2015, 2013, 2010, 2019, 2012, 2019, 2008,…</code></pre>
<p>Generate a sampling distribution of 2000 replicates. Sample 500 rows of the population without replacement.</p>
<div class="sourceCode" id="cb2244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2244-1"><a href="sampling-in-r.html#cb2244-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a sampling distribution</span></span>
<span id="cb2244-2"><a href="sampling-in-r.html#cb2244-2" aria-hidden="true" tabindex="-1"></a>mean_popularity_2000_samp <span class="ot">&lt;-</span> <span class="fu">replicate</span>(</span>
<span id="cb2244-3"><a href="sampling-in-r.html#cb2244-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use 2000 replicates</span></span>
<span id="cb2244-4"><a href="sampling-in-r.html#cb2244-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">2000</span>,</span>
<span id="cb2244-5"><a href="sampling-in-r.html#cb2244-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">expr =</span> {</span>
<span id="cb2244-6"><a href="sampling-in-r.html#cb2244-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Start with the population</span></span>
<span id="cb2244-7"><a href="sampling-in-r.html#cb2244-7" aria-hidden="true" tabindex="-1"></a>    spotify_population <span class="sc">%&gt;%</span> </span>
<span id="cb2244-8"><a href="sampling-in-r.html#cb2244-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Sample 500 rows without replacement</span></span>
<span id="cb2244-9"><a href="sampling-in-r.html#cb2244-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">500</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2244-10"><a href="sampling-in-r.html#cb2244-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate the mean popularity as mean_popularity</span></span>
<span id="cb2244-11"><a href="sampling-in-r.html#cb2244-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">mean_popularity =</span> <span class="fu">mean</span>(popularity)) <span class="sc">%&gt;%</span> </span>
<span id="cb2244-12"><a href="sampling-in-r.html#cb2244-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Pull out the mean popularity</span></span>
<span id="cb2244-13"><a href="sampling-in-r.html#cb2244-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(mean_popularity)</span>
<span id="cb2244-14"><a href="sampling-in-r.html#cb2244-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2244-15"><a href="sampling-in-r.html#cb2244-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2244-16"><a href="sampling-in-r.html#cb2244-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2244-17"><a href="sampling-in-r.html#cb2244-17" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2244-18"><a href="sampling-in-r.html#cb2244-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean_popularity_2000_samp)</span></code></pre></div>
<pre><code>##  num [1:2000] 54.1 54.9 54.4 54.7 54.1 ...</code></pre>
<p>Generate a bootstrap distribution of 2000 replicates. Sample 500 rows of the sample with replacement.</p>
<div class="sourceCode" id="cb2246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2246-1"><a href="sampling-in-r.html#cb2246-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a bootstrap distribution</span></span>
<span id="cb2246-2"><a href="sampling-in-r.html#cb2246-2" aria-hidden="true" tabindex="-1"></a>mean_popularity_2000_boot <span class="ot">&lt;-</span> <span class="fu">replicate</span>(</span>
<span id="cb2246-3"><a href="sampling-in-r.html#cb2246-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use 2000 replicates</span></span>
<span id="cb2246-4"><a href="sampling-in-r.html#cb2246-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">2000</span>,</span>
<span id="cb2246-5"><a href="sampling-in-r.html#cb2246-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">expr =</span> {</span>
<span id="cb2246-6"><a href="sampling-in-r.html#cb2246-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Start with the sample</span></span>
<span id="cb2246-7"><a href="sampling-in-r.html#cb2246-7" aria-hidden="true" tabindex="-1"></a>    spotify_sample <span class="sc">%&gt;%</span> </span>
<span id="cb2246-8"><a href="sampling-in-r.html#cb2246-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Sample same number of rows with replacement</span></span>
<span id="cb2246-9"><a href="sampling-in-r.html#cb2246-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2246-10"><a href="sampling-in-r.html#cb2246-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate the mean popularity</span></span>
<span id="cb2246-11"><a href="sampling-in-r.html#cb2246-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">mean_popularity =</span> <span class="fu">mean</span>(popularity)) <span class="sc">%&gt;%</span> </span>
<span id="cb2246-12"><a href="sampling-in-r.html#cb2246-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Pull out the mean popularity</span></span>
<span id="cb2246-13"><a href="sampling-in-r.html#cb2246-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(mean_popularity)</span>
<span id="cb2246-14"><a href="sampling-in-r.html#cb2246-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2246-15"><a href="sampling-in-r.html#cb2246-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2246-16"><a href="sampling-in-r.html#cb2246-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2246-17"><a href="sampling-in-r.html#cb2246-17" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2246-18"><a href="sampling-in-r.html#cb2246-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean_popularity_2000_boot)</span></code></pre></div>
<pre><code>##  num [1:2000] 55.4 54.8 54.1 54.2 54.3 ...</code></pre>
</div>
<div id="compare-sampling-and-bootstrap-means" class="section level4 hasAnchor" number="16.4.2.2">
<h4><span class="header-section-number">16.4.2.2</span> Compare sampling and bootstrap means<a href="sampling-in-r.html#compare-sampling-and-bootstrap-means" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb2248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2248-1"><a href="sampling-in-r.html#cb2248-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create tibble to compare</span></span>
<span id="cb2248-2"><a href="sampling-in-r.html#cb2248-2" aria-hidden="true" tabindex="-1"></a>sampling_distribution <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">sample_mean =</span> mean_popularity_2000_samp)</span>
<span id="cb2248-3"><a href="sampling-in-r.html#cb2248-3" aria-hidden="true" tabindex="-1"></a>bootstrap_distribution <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">resample_mean =</span> mean_popularity_2000_boot)</span>
<span id="cb2248-4"><a href="sampling-in-r.html#cb2248-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2248-5"><a href="sampling-in-r.html#cb2248-5" aria-hidden="true" tabindex="-1"></a>sampling_distribution</span></code></pre></div>
<pre><code>## # A tibble: 2,000 × 1
##    sample_mean
##          &lt;dbl&gt;
##  1        54.1
##  2        54.9
##  3        54.4
##  4        54.7
##  5        54.1
##  6        54.6
##  7        54.4
##  8        54.4
##  9        54.9
## 10        54.2
## # ℹ 1,990 more rows</code></pre>
<div class="sourceCode" id="cb2250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2250-1"><a href="sampling-in-r.html#cb2250-1" aria-hidden="true" tabindex="-1"></a>bootstrap_distribution</span></code></pre></div>
<pre><code>## # A tibble: 2,000 × 1
##    resample_mean
##            &lt;dbl&gt;
##  1          55.4
##  2          54.8
##  3          54.1
##  4          54.2
##  5          54.3
##  6          54.8
##  7          55.0
##  8          54.3
##  9          54.8
## 10          54.8
## # ℹ 1,990 more rows</code></pre>
<p>Calculate the mean <code>popularity</code> with <code>summarize()</code> in 4 ways.</p>
<ul>
<li><p>Population: from <code>spotify_population</code>, take the mean of <code>popularity</code>.</p></li>
<li><p>Sample: from <code>spotify_sample</code>, take the mean of <code>popularity</code>.</p></li>
<li><p>Sampling distribution: from <code>sampling_distribution</code>, take the mean of <code>sample_mean</code>.</p></li>
<li><p>Bootstrap distribution: from <code>bootstrap_distribution</code>, take the mean of <code>resample_mean</code>.</p></li>
</ul>
<div class="sourceCode" id="cb2252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2252-1"><a href="sampling-in-r.html#cb2252-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the true population mean popularity</span></span>
<span id="cb2252-2"><a href="sampling-in-r.html#cb2252-2" aria-hidden="true" tabindex="-1"></a>pop_mean <span class="ot">&lt;-</span> spotify_population <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(popularity))</span>
<span id="cb2252-3"><a href="sampling-in-r.html#cb2252-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-4"><a href="sampling-in-r.html#cb2252-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-5"><a href="sampling-in-r.html#cb2252-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the original sample mean popularity</span></span>
<span id="cb2252-6"><a href="sampling-in-r.html#cb2252-6" aria-hidden="true" tabindex="-1"></a>samp_mean <span class="ot">&lt;-</span> spotify_sample <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(popularity))</span>
<span id="cb2252-7"><a href="sampling-in-r.html#cb2252-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-8"><a href="sampling-in-r.html#cb2252-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-9"><a href="sampling-in-r.html#cb2252-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the sampling dist&#39;n estimate of mean popularity</span></span>
<span id="cb2252-10"><a href="sampling-in-r.html#cb2252-10" aria-hidden="true" tabindex="-1"></a>samp_distn_mean <span class="ot">&lt;-</span> sampling_distribution <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(sample_mean))</span>
<span id="cb2252-11"><a href="sampling-in-r.html#cb2252-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-12"><a href="sampling-in-r.html#cb2252-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-13"><a href="sampling-in-r.html#cb2252-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the bootstrap dist&#39;n estimate of mean popularity</span></span>
<span id="cb2252-14"><a href="sampling-in-r.html#cb2252-14" aria-hidden="true" tabindex="-1"></a>boot_distn_mean <span class="ot">&lt;-</span> bootstrap_distribution <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(resample_mean))</span>
<span id="cb2252-15"><a href="sampling-in-r.html#cb2252-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-16"><a href="sampling-in-r.html#cb2252-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2252-17"><a href="sampling-in-r.html#cb2252-17" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2252-18"><a href="sampling-in-r.html#cb2252-18" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">pop =</span> pop_mean, <span class="at">samp =</span> samp_mean, <span class="at">sam_distn =</span> samp_distn_mean, <span class="at">boot_distn =</span> boot_distn_mean)</span></code></pre></div>
<pre><code>## $pop.mean
## [1] 54.8
## 
## $samp.mean
## [1] 54.8
## 
## $sam_distn.mean
## [1] 54.8
## 
## $boot_distn.mean
## [1] 54.8</code></pre>
<p>The sampling distribution mean (54.82882) is the best estimate of the true population mean (54.83714);</p>
<p>The bootstrap distribution mean (54.71672) is closest to the original sample mean (54.706).</p>
<p>The <em>sampling distribution mean</em> can be used to estimate the population mean, but that is not the case with the boostrap distribution.</p>
</div>
<div id="compare-sampling-and-bootstrap-std" class="section level4 hasAnchor" number="16.4.2.3">
<h4><span class="header-section-number">16.4.2.3</span> Compare sampling and bootstrap std<a href="sampling-in-r.html#compare-sampling-and-bootstrap-std" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb2254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2254-1"><a href="sampling-in-r.html#cb2254-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the true popluation std dev popularity</span></span>
<span id="cb2254-2"><a href="sampling-in-r.html#cb2254-2" aria-hidden="true" tabindex="-1"></a>pop_sd <span class="ot">&lt;-</span> spotify_population <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">sd =</span> <span class="fu">sd</span>(popularity))</span>
<span id="cb2254-3"><a href="sampling-in-r.html#cb2254-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-4"><a href="sampling-in-r.html#cb2254-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-5"><a href="sampling-in-r.html#cb2254-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the true sample std dev popularity</span></span>
<span id="cb2254-6"><a href="sampling-in-r.html#cb2254-6" aria-hidden="true" tabindex="-1"></a>samp_sd <span class="ot">&lt;-</span> spotify_sample <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">sd =</span> <span class="fu">sd</span>(popularity))</span>
<span id="cb2254-7"><a href="sampling-in-r.html#cb2254-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-8"><a href="sampling-in-r.html#cb2254-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-9"><a href="sampling-in-r.html#cb2254-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the sampling dist&#39;n estimate of std dev popularity</span></span>
<span id="cb2254-10"><a href="sampling-in-r.html#cb2254-10" aria-hidden="true" tabindex="-1"></a>samp_distn_sd <span class="ot">&lt;-</span> sampling_distribution <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">sd =</span> <span class="fu">sd</span>(sample_mean) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">500</span>))</span>
<span id="cb2254-11"><a href="sampling-in-r.html#cb2254-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-12"><a href="sampling-in-r.html#cb2254-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-13"><a href="sampling-in-r.html#cb2254-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the bootstrap dist&#39;n estimate of std dev popularity</span></span>
<span id="cb2254-14"><a href="sampling-in-r.html#cb2254-14" aria-hidden="true" tabindex="-1"></a>boot_distn_sd <span class="ot">&lt;-</span> bootstrap_distribution <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">sd =</span> <span class="fu">sd</span>(resample_mean) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">500</span>))</span>
<span id="cb2254-15"><a href="sampling-in-r.html#cb2254-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-16"><a href="sampling-in-r.html#cb2254-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2254-17"><a href="sampling-in-r.html#cb2254-17" aria-hidden="true" tabindex="-1"></a><span class="co"># See the results</span></span>
<span id="cb2254-18"><a href="sampling-in-r.html#cb2254-18" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">pop =</span> pop_sd, <span class="at">samp =</span> samp_sd, <span class="at">sam_distn =</span> samp_distn_sd, <span class="at">boot_distn =</span> boot_distn_sd)</span></code></pre></div>
<pre><code>## $pop.sd
## [1] 10.9
## 
## $samp.sd
## [1] 11.5
## 
## $sam_distn.sd
## [1] 10.7
## 
## $boot_distn.sd
## [1] 11.5</code></pre>
<p>When you don’t know have all the values from the true population, you can use <em>bootstrapping</em> to get a good estimate of the population <em>standard deviation</em>. (Although it isn’t the closest of the values given)</p>
</div>
</div>
<div id="confidence-intervals" class="section level3 hasAnchor" number="16.4.3">
<h3><span class="header-section-number">16.4.3</span> Confidence intervals<a href="sampling-in-r.html#confidence-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Confidence intervals account for uncertainty in our estimate of a population parameter by providing a range of possible values. We are confident that the true value lies somewhere in the interval specified by that range.</p>
<div id="calculating-confidence-intervals" class="section level4 hasAnchor" number="16.4.3.1">
<h4><span class="header-section-number">16.4.3.1</span> Calculating confidence intervals<a href="sampling-in-r.html#calculating-confidence-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Mean plus or minus one standard deviation</p></li>
<li><p>Quantile method for confidence intervals</p>
<p><img src="image/quantile%20method%20for%20CI.png" width="327" /></p></li>
<li><p>Standard error method for confidence interval</p>
<ul>
<li>Inverse cumulative distribution function: <code>qnorm()</code></li>
</ul></li>
</ol>
<ul>
<li><p>Generate a 95% confidence interval using the quantile method.</p>
<ul>
<li>Summarize to get the <code>0.025</code> quantile as <code>lower</code>, and the <code>0.975</code> quantile as <code>upper</code>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb2256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2256-1"><a href="sampling-in-r.html#cb2256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a 95% confidence interval using the quantile method</span></span>
<span id="cb2256-2"><a href="sampling-in-r.html#cb2256-2" aria-hidden="true" tabindex="-1"></a>conf_int_quantile <span class="ot">&lt;-</span> bootstrap_distribution <span class="sc">%&gt;%</span> </span>
<span id="cb2256-3"><a href="sampling-in-r.html#cb2256-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb2256-4"><a href="sampling-in-r.html#cb2256-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">quantile</span>(resample_mean, <span class="fl">0.025</span>),</span>
<span id="cb2256-5"><a href="sampling-in-r.html#cb2256-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">quantile</span>(resample_mean, <span class="fl">0.975</span>)</span>
<span id="cb2256-6"><a href="sampling-in-r.html#cb2256-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2256-7"><a href="sampling-in-r.html#cb2256-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2256-8"><a href="sampling-in-r.html#cb2256-8" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2256-9"><a href="sampling-in-r.html#cb2256-9" aria-hidden="true" tabindex="-1"></a>conf_int_quantile</span></code></pre></div>
<pre><code>## # A tibble: 1 × 2
##   lower upper
##   &lt;dbl&gt; &lt;dbl&gt;
## 1  53.8  55.9</code></pre>
<ul>
<li><p>Generate a 95% confidence interval using the standard error method.</p>
<ul>
<li><p>Calculate <code>point_estimate</code> as the mean of <code>resample_mean</code>, and <code>standard_error</code> as the standard deviation of <code>resample_mean</code>.</p></li>
<li><p>Calculate <code>lower</code> as the <code>0.025</code> quantile of an inv. CDF from a normal distribution with mean <code>point_estimate</code> and standard deviation <code>standard_error</code>.</p></li>
<li><p>Calculate <code>upper</code> as the <code>0.975</code> quantile of that same inv. CDF.</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb2258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2258-1"><a href="sampling-in-r.html#cb2258-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a 95% confidence interval using the std error method</span></span>
<span id="cb2258-2"><a href="sampling-in-r.html#cb2258-2" aria-hidden="true" tabindex="-1"></a>conf_int_std_error <span class="ot">&lt;-</span> bootstrap_distribution <span class="sc">%&gt;%</span> </span>
<span id="cb2258-3"><a href="sampling-in-r.html#cb2258-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb2258-4"><a href="sampling-in-r.html#cb2258-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_estimate =</span> <span class="fu">mean</span>(resample_mean),</span>
<span id="cb2258-5"><a href="sampling-in-r.html#cb2258-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">standard_error =</span> <span class="fu">sd</span>(resample_mean),</span>
<span id="cb2258-6"><a href="sampling-in-r.html#cb2258-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.025</span>, <span class="at">mean =</span> point_estimate, <span class="at">sd =</span> standard_error),</span>
<span id="cb2258-7"><a href="sampling-in-r.html#cb2258-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.975</span>, <span class="at">mean =</span> point_estimate, <span class="at">sd =</span> standard_error)</span>
<span id="cb2258-8"><a href="sampling-in-r.html#cb2258-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2258-9"><a href="sampling-in-r.html#cb2258-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2258-10"><a href="sampling-in-r.html#cb2258-10" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb2258-11"><a href="sampling-in-r.html#cb2258-11" aria-hidden="true" tabindex="-1"></a>conf_int_std_error</span></code></pre></div>
<pre><code>## # A tibble: 1 × 4
##   point_estimate standard_error lower upper
##            &lt;dbl&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1           54.8          0.514  53.8  55.8</code></pre>
<p>The standard error method for calculating the confidence interval assumes that the bootstrap distribution is normal. This assumption should hold if the sample size and number of replicates are sufficiently large.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intermediate-regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hypothesis-testing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/16-Sampling-in-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
