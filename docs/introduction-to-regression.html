<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Introduction to Regression | Data Scientist with R</title>
  <meta name="description" content="This is a notebook about the data science courses took at datacamp." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Introduction to Regression | Data Scientist with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a notebook about the data science courses took at datacamp." />
  <meta name="github-repo" content="yenchunnnn/CourseNote" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Introduction to Regression | Data Scientist with R" />
  
  <meta name="twitter:description" content="This is a notebook about the data science courses took at datacamp." />
  

<meta name="author" content="Yen-Chun Chen" />


<meta name="date" content="2024-02-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory-data-analysis-in-r.html"/>
<link rel="next" href="intermediate-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Scientist with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic data types</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vector"><i class="fa fa-check"></i><b>1.3</b> Vector</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function"><i class="fa fa-check"></i><b>1.3.1</b> Useful function</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-brackets-or-names"><i class="fa fa-check"></i><b>1.3.2</b> Selection - by brackets or names</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---operators"><i class="fa fa-check"></i><b>1.3.3</b> Selection - by comparison - operators</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---values"><i class="fa fa-check"></i><b>1.3.4</b> Selection - by comparison - values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrix"><i class="fa fa-check"></i><b>1.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-function"><i class="fa fa-check"></i><b>1.4.1</b> Construct function</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-by-vector"><i class="fa fa-check"></i><b>1.4.2</b> Construct by vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.4.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---sum-of-each-row-column"><i class="fa fa-check"></i><b>1.4.4</b> Manipulating - sum of each row &amp; column</a></li>
<li class="chapter" data-level="1.4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-columns"><i class="fa fa-check"></i><b>1.4.5</b> Manipulating - add columns</a></li>
<li class="chapter" data-level="1.4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-rows"><i class="fa fa-check"></i><b>1.4.6</b> Manipulating - add rows</a></li>
<li class="chapter" data-level="1.4.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.4.7</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.4.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---1"><i class="fa fa-check"></i><b>1.4.8</b> Arithmetic - 1</a></li>
<li class="chapter" data-level="1.4.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---2"><i class="fa fa-check"></i><b>1.4.9</b> Arithmetic - 2</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor"><i class="fa fa-check"></i><b>1.5</b> Factor</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function-1"><i class="fa fa-check"></i><b>1.5.1</b> Useful function</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-ordinal-categorical-variable"><i class="fa fa-check"></i><b>1.5.2</b> Nominal &amp; Ordinal categorical variable</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor-levels"><i class="fa fa-check"></i><b>1.5.3</b> Factor levels</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.5.4</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordered-factors"><i class="fa fa-check"></i><b>1.5.5</b> Ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frame"><i class="fa fa-check"></i><b>1.6</b> Data Frame</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#quick-look-at-dataset"><i class="fa fa-check"></i><b>1.6.1</b> Quick look at dataset</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---brackets"><i class="fa fa-check"></i><b>1.6.3</b> Selection - brackets</a></li>
<li class="chapter" data-level="1.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---names"><i class="fa fa-check"></i><b>1.6.4</b> Selection - names</a></li>
<li class="chapter" data-level="1.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection--"><i class="fa fa-check"></i><b>1.6.5</b> Selection - $</a></li>
<li class="chapter" data-level="1.6.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---subset"><i class="fa fa-check"></i><b>1.6.6</b> Selection - subset</a></li>
<li class="chapter" data-level="1.6.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sorting"><i class="fa fa-check"></i><b>1.6.7</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#list"><i class="fa fa-check"></i><b>1.7</b> List</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-list"><i class="fa fa-check"></i><b>1.7.1</b> Creating a list</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.7.2</b> Creating a named list</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection"><i class="fa fa-check"></i><b>1.7.3</b> Selection</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bring-it-all-together"><i class="fa fa-check"></i><b>1.8</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Relational operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#conditional-statements"><i class="fa fa-check"></i><b>2.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#while-loop"><i class="fa fa-check"></i><b>2.2.1</b> While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loop"><i class="fa fa-check"></i><b>2.2.2</b> For loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#bring-it-all-together-1"><i class="fa fa-check"></i><b>2.2.3</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#function"><i class="fa fa-check"></i><b>2.3</b> Function</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#introduction-to-function"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to function</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#writing-functions"><i class="fa fa-check"></i><b>2.3.2</b> Writing functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#packages"><i class="fa fa-check"></i><b>2.3.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply"><i class="fa fa-check"></i><b>2.4.1</b> lapply</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply"><i class="fa fa-check"></i><b>2.4.2</b> sapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#vapply"><i class="fa fa-check"></i><b>2.4.3</b> vapply</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-vs-sapply-vs-vapply"><i class="fa fa-check"></i><b>2.4.4</b> lapply vs sapply vs vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#data-structures-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Data structures utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#regular-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Regular Expressions</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#dates-times"><i class="fa fa-check"></i><b>2.5.4</b> Dates &amp; Times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#load-dataset"><i class="fa fa-check"></i><b>3.1.1</b> Load dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filtering"><i class="fa fa-check"></i><b>3.1.2</b> Filtering</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange"><i class="fa fa-check"></i><b>3.1.3</b> Arrange</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.4</b> Mutate</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#subset-df-variable"><i class="fa fa-check"></i><b>3.2.1</b> Subset df variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> ggplot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#faceting"><i class="fa fa-check"></i><b>3.2.3</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#grouping-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping &amp; summarizing</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize"><i class="fa fa-check"></i><b>3.3.1</b> Summarize</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group-by"><i class="fa fa-check"></i><b>3.3.2</b> Group by</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-summarized-data"><i class="fa fa-check"></i><b>3.3.3</b> Visualizing summarized data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#line-plots"><i class="fa fa-check"></i><b>3.4.1</b> Line plots</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#bar-plots"><i class="fa fa-check"></i><b>3.4.2</b> Bar plots</a></li>
<li class="chapter" data-level="3.4.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#histograms"><i class="fa fa-check"></i><b>3.4.3</b> Histograms</a></li>
<li class="chapter" data-level="3.4.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#box-plots"><i class="fa fa-check"></i><b>3.4.4</b> Box plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-data"><i class="fa fa-check"></i><b>4.1</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data"><i class="fa fa-check"></i><b>4.1.1</b> Exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>4.2.1</b> Count</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-summarize-ungroup"><i class="fa fa-check"></i><b>4.2.2</b> group_by, summarize, ungroup</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#slice_min-slice_max"><i class="fa fa-check"></i><b>4.2.3</b> slice_min, slice_max</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.3.1</b> Select</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>4.3.2</b> Rename</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#transmute"><i class="fa fa-check"></i><b>4.3.3</b> Transmute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#load-dataset-1"><i class="fa fa-check"></i><b>4.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data-1"><i class="fa fa-check"></i><b>4.4.2</b> Exploring data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>5</b> Joining Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joining-data.html"><a href="joining-data.html#inner-join"><i class="fa fa-check"></i><b>5.1</b> Inner join</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joining-data.html"><a href="joining-data.html#join-by-keys"><i class="fa fa-check"></i><b>5.1.1</b> Join by keys</a></li>
<li class="chapter" data-level="5.1.2" data-path="joining-data.html"><a href="joining-data.html#join-with-a-one-to-many-relationship"><i class="fa fa-check"></i><b>5.1.2</b> Join with a one-to-many relationship</a></li>
<li class="chapter" data-level="5.1.3" data-path="joining-data.html"><a href="joining-data.html#join-in-either-direction"><i class="fa fa-check"></i><b>5.1.3</b> Join in either direction</a></li>
<li class="chapter" data-level="5.1.4" data-path="joining-data.html"><a href="joining-data.html#join-three-or-more-tables"><i class="fa fa-check"></i><b>5.1.4</b> Join three or more tables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="joining-data.html"><a href="joining-data.html#left-right-joins"><i class="fa fa-check"></i><b>5.2</b> Left &amp; Right Joins</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i><b>5.2.1</b> Left join</a></li>
<li class="chapter" data-level="5.2.2" data-path="joining-data.html"><a href="joining-data.html#right-join"><i class="fa fa-check"></i><b>5.2.2</b> Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="joining-data.html"><a href="joining-data.html#full-semi-anti-joins"><i class="fa fa-check"></i><b>5.3</b> Full, Semi &amp; Anti Joins</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="joining-data.html"><a href="joining-data.html#full-join"><i class="fa fa-check"></i><b>5.3.1</b> Full join</a></li>
<li class="chapter" data-level="5.3.2" data-path="joining-data.html"><a href="joining-data.html#semi-anti-joins"><i class="fa fa-check"></i><b>5.3.2</b> Semi &amp; Anti joins</a></li>
<li class="chapter" data-level="5.3.3" data-path="joining-data.html"><a href="joining-data.html#visualizing-set-differences"><i class="fa fa-check"></i><b>5.3.3</b> Visualizing set differences</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="joining-data.html"><a href="joining-data.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>5.4</b> Case study: Joins on Stack Overflow Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="joining-data.html"><a href="joining-data.html#load-dataset-2"><i class="fa fa-check"></i><b>5.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="5.4.2" data-path="joining-data.html"><a href="joining-data.html#stack-overflow-questions"><i class="fa fa-check"></i><b>5.4.2</b> Stack Overflow questions</a></li>
<li class="chapter" data-level="5.4.3" data-path="joining-data.html"><a href="joining-data.html#joining-questions-and-answers"><i class="fa fa-check"></i><b>5.4.3</b> Joining questions and answers</a></li>
<li class="chapter" data-level="5.4.4" data-path="joining-data.html"><a href="joining-data.html#the-bind_rows-verb"><i class="fa fa-check"></i><b>5.4.4</b> The bind_rows verb</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>6</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#summary-statistics"><i class="fa fa-check"></i><b>6.1</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-center"><i class="fa fa-check"></i><b>6.1.1</b> Measures of center</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-spread"><i class="fa fa-check"></i><b>6.1.2</b> Measures of spread</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#random-numbers-and-probability"><i class="fa fa-check"></i><b>6.2</b> Random Numbers and Probability</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chances"><i class="fa fa-check"></i><b>6.2.1</b> Chances</a></li>
<li class="chapter" data-level="6.2.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2.2</b> Discrete distributions</a></li>
<li class="chapter" data-level="6.2.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#continuous-distributions"><i class="fa fa-check"></i><b>6.2.3</b> Continuous distributions</a></li>
<li class="chapter" data-level="6.2.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#binomial-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#more-distributions-central-limit-theorem"><i class="fa fa-check"></i><b>6.3</b> More Distributions &amp; Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.3.2</b> Central limit theorem</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#poisson-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Poisson distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exponential-distribution"><i class="fa fa-check"></i><b>6.3.4</b> Exponential distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#students-t-distribution"><i class="fa fa-check"></i><b>6.3.5</b> (Student’s) t-distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#log-normal-distribution"><i class="fa fa-check"></i><b>6.3.6</b> Log-normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-and-experimental-design"><i class="fa fa-check"></i><b>6.4</b> Correlation and Experimental Design</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation"><i class="fa fa-check"></i><b>6.4.1</b> Correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-caveats"><i class="fa fa-check"></i><b>6.4.2</b> Correlation caveats</a></li>
<li class="chapter" data-level="6.4.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#design-of-experiments"><i class="fa fa-check"></i><b>6.4.3</b> Design of experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Introduction to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#data-columns-types-affect-plot-types"><i class="fa fa-check"></i><b>7.1.1</b> Data columns types affect plot types</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#ggplot2-layers"><i class="fa fa-check"></i><b>7.1.3</b> ggplot2 layers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>7.2</b> Aesthetics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#visible-aesthetics"><i class="fa fa-check"></i><b>7.2.1</b> Visible aesthetics</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#using-attributes"><i class="fa fa-check"></i><b>7.2.2</b> Using attributes</a></li>
<li class="chapter" data-level="7.2.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#modifying-aesthetics"><i class="fa fa-check"></i><b>7.2.3</b> Modifying aesthetics</a></li>
<li class="chapter" data-level="7.2.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics-best-practices"><i class="fa fa-check"></i><b>7.2.4</b> Aesthetics best practices</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>7.3</b> Geometries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>7.3.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#bar-plots-1"><i class="fa fa-check"></i><b>7.3.3</b> Bar plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#line-plots-1"><i class="fa fa-check"></i><b>7.3.4</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.4</b> Themes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes-from-scratch"><i class="fa fa-check"></i><b>7.4.1</b> Themes from scratch</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#theme-flexibility"><i class="fa fa-check"></i><b>7.4.2</b> Theme flexibility</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#effective-explanatory-plots"><i class="fa fa-check"></i><b>7.4.3</b> Effective explanatory plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>8.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-with-geoms"><i class="fa fa-check"></i><b>8.1.1</b> Stats with geoms</a></li>
<li class="chapter" data-level="8.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-sum-quantile"><i class="fa fa-check"></i><b>8.1.2</b> Stats: sum &amp; quantile</a></li>
<li class="chapter" data-level="8.1.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-outside-geoms"><i class="fa fa-check"></i><b>8.1.3</b> Stats outside geoms</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates"><i class="fa fa-check"></i><b>8.2</b> Coordinates</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>8.2.1</b> Coordinates layer</a></li>
<li class="chapter" data-level="8.2.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-vs.-scales"><i class="fa fa-check"></i><b>8.2.2</b> Coordinates vs. scales</a></li>
<li class="chapter" data-level="8.2.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#double-flipped-axes"><i class="fa fa-check"></i><b>8.2.3</b> Double &amp; flipped axes</a></li>
<li class="chapter" data-level="8.2.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#polar-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Polar coordinates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.3</b> Facets</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#the-facets-layer"><i class="fa fa-check"></i><b>8.3.1</b> The facets layer</a></li>
<li class="chapter" data-level="8.3.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-labels-order"><i class="fa fa-check"></i><b>8.3.2</b> Facet labels &amp; order</a></li>
<li class="chapter" data-level="8.3.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-plotting-spaces"><i class="fa fa-check"></i><b>8.3.3</b> Facet plotting spaces</a></li>
<li class="chapter" data-level="8.3.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-wrap-margins"><i class="fa fa-check"></i><b>8.3.4</b> Facet wrap &amp; margins</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#best-practices"><i class="fa fa-check"></i><b>8.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#bar-plots-2"><i class="fa fa-check"></i><b>8.4.1</b> Bar plots</a></li>
<li class="chapter" data-level="8.4.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#heatmaps-use-case-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Heatmaps use case scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#when-good-data-makes-bad-plots"><i class="fa fa-check"></i><b>8.4.3</b> When good data makes bad plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Introduction to Importing Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#flat-files-with-utils"><i class="fa fa-check"></i><b>9.1</b> Flat files with utils</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.csv"><i class="fa fa-check"></i><b>9.1.1</b> read.csv</a></li>
<li class="chapter" data-level="9.1.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.delim"><i class="fa fa-check"></i><b>9.1.2</b> read.delim</a></li>
<li class="chapter" data-level="9.1.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.table"><i class="fa fa-check"></i><b>9.1.3</b> read.table</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr-data.table"><i class="fa fa-check"></i><b>9.2</b> readr &amp; data.table</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr"><i class="fa fa-check"></i><b>9.2.1</b> readr</a></li>
<li class="chapter" data-level="9.2.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#data.table"><i class="fa fa-check"></i><b>9.2.2</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#excel-data"><i class="fa fa-check"></i><b>9.3</b> Excel data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#list-the-sheets-of-xls-file"><i class="fa fa-check"></i><b>9.3.1</b> List the sheets of xls file</a></li>
<li class="chapter" data-level="9.3.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#import-an-excel-sheet"><i class="fa fa-check"></i><b>9.3.2</b> Import an Excel sheet</a></li>
<li class="chapter" data-level="9.3.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#col_names-skip-argument"><i class="fa fa-check"></i><b>9.3.3</b> col_names &amp; skip argument</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#reproducible-excel-work---xlconnect"><i class="fa fa-check"></i><b>9.4</b> Reproducible Excel work - XLConnect</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets"><i class="fa fa-check"></i><b>9.4.1</b> Adapting sheets</a></li>
<li class="chapter" data-level="9.4.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets-1"><i class="fa fa-check"></i><b>9.4.2</b> Adapting sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>10.1</b> Common Data Problems</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#data-type-constraints"><i class="fa fa-check"></i><b>10.1.1</b> Data type constraints</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#range-constraints"><i class="fa fa-check"></i><b>10.1.2</b> Range constraints</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniqueness-constraints"><i class="fa fa-check"></i><b>10.1.3</b> Uniqueness constraints</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>10.2</b> Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#checking-membership"><i class="fa fa-check"></i><b>10.2.1</b> Checking membership</a></li>
<li class="chapter" data-level="10.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-data-problems"><i class="fa fa-check"></i><b>10.2.2</b> Categorical data problems</a></li>
<li class="chapter" data-level="10.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cleaning-text-data"><i class="fa fa-check"></i><b>10.2.3</b> Cleaning text data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>10.3</b> Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniformity"><i class="fa fa-check"></i><b>10.3.1</b> Uniformity</a></li>
<li class="chapter" data-level="10.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cross-field-validation"><i class="fa fa-check"></i><b>10.3.2</b> Cross field validation</a></li>
<li class="chapter" data-level="10.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#completeness"><i class="fa fa-check"></i><b>10.3.3</b> Completeness</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>10.4</b> Record Linkage</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-strings"><i class="fa fa-check"></i><b>10.4.1</b> Comparing strings</a></li>
<li class="chapter" data-level="10.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#generating-and-comparing-pairs"><i class="fa fa-check"></i><b>10.4.2</b> Generating and comparing pairs</a></li>
<li class="chapter" data-level="10.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#scoring-and-linking"><i class="fa fa-check"></i><b>10.4.3</b> Scoring and linking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r"><i class="fa fa-check"></i><b>11.1</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#introduction-to-dates"><i class="fa fa-check"></i><b>11.1.1</b> Introduction to dates</a></li>
<li class="chapter" data-level="11.1.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#why-use-dates"><i class="fa fa-check"></i><b>11.1.2</b> Why use dates?</a></li>
<li class="chapter" data-level="11.1.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#what-about-times"><i class="fa fa-check"></i><b>11.1.3</b> What about times?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate"><i class="fa fa-check"></i><b>11.2</b> Parsing &amp; Manipulating with lubridate</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-dates"><i class="fa fa-check"></i><b>11.2.1</b> Parsing dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#manipulating-dates"><i class="fa fa-check"></i><b>11.2.2</b> Manipulating dates</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime"><i class="fa fa-check"></i><b>11.2.3</b> Extracting parts of a datetime</a></li>
<li class="chapter" data-level="11.2.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#rounding-datetimes"><i class="fa fa-check"></i><b>11.2.4</b> Rounding datetimes</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times"><i class="fa fa-check"></i><b>11.3</b> Arithmetic with Dates and Times</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes"><i class="fa fa-check"></i><b>11.3.1</b> Taking differences of datetimes</a></li>
<li class="chapter" data-level="11.3.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-spans"><i class="fa fa-check"></i><b>11.3.2</b> Time spans</a></li>
<li class="chapter" data-level="11.3.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#intervals"><i class="fa fa-check"></i><b>11.3.3</b> Intervals</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#problems-in-practice"><i class="fa fa-check"></i><b>11.4</b> Problems in practice</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-zones"><i class="fa fa-check"></i><b>11.4.1</b> Time zones</a></li>
<li class="chapter" data-level="11.4.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes"><i class="fa fa-check"></i><b>11.4.2</b> More on import and export datetimes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html"><i class="fa fa-check"></i><b>12</b> Introduction to Writing Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#write-a-function"><i class="fa fa-check"></i><b>12.1</b> Write a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#why-write-function"><i class="fa fa-check"></i><b>12.1.1</b> Why write function?</a></li>
<li class="chapter" data-level="12.1.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#convert-scripts-into-functions"><i class="fa fa-check"></i><b>12.1.2</b> Convert scripts into functions</a></li>
<li class="chapter" data-level="12.1.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#readable-code"><i class="fa fa-check"></i><b>12.1.3</b> Readable code</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#all-about-arguments"><i class="fa fa-check"></i><b>12.2</b> All About Arguments</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#default-arguments"><i class="fa fa-check"></i><b>12.2.1</b> Default arguments</a></li>
<li class="chapter" data-level="12.2.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#pass-arguments-between-functions"><i class="fa fa-check"></i><b>12.2.2</b> Pass arguments between functions</a></li>
<li class="chapter" data-level="12.2.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#checking-arguments"><i class="fa fa-check"></i><b>12.2.3</b> Checking arguments</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-values-and-scope"><i class="fa fa-check"></i><b>12.3</b> Return Values and Scope</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#returning-values"><i class="fa fa-check"></i><b>12.3.1</b> Returning values</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-multiple-values"><i class="fa fa-check"></i><b>12.3.2</b> Return multiple values</a></li>
<li class="chapter" data-level="12.3.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#environments"><i class="fa fa-check"></i><b>12.3.3</b> Environments</a></li>
<li class="chapter" data-level="12.3.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#scope-and-precedence"><i class="fa fa-check"></i><b>12.3.4</b> Scope and precedence</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#case-study-on-grain-yields"><i class="fa fa-check"></i><b>12.4</b> Case Study on Grain Yields</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#grain-yields-unit-conversion"><i class="fa fa-check"></i><b>12.4.1</b> Grain yields &amp; unit conversion</a></li>
<li class="chapter" data-level="12.4.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#visualizing-grain-yields"><i class="fa fa-check"></i><b>12.4.2</b> Visualizing grain yields</a></li>
<li class="chapter" data-level="12.4.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#modeling-grain-yields"><i class="fa fa-check"></i><b>12.4.3</b> Modeling grain yields</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-categorical-data"><i class="fa fa-check"></i><b>13.1</b> Exploring Categorical Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#categorical-data"><i class="fa fa-check"></i><b>13.1.1</b> Categorical data</a></li>
<li class="chapter" data-level="13.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions"><i class="fa fa-check"></i><b>13.1.2</b> Counts vs. proportions</a></li>
<li class="chapter" data-level="13.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable"><i class="fa fa-check"></i><b>13.1.3</b> Distribution of one variable</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-numerical-data"><i class="fa fa-check"></i><b>13.2</b> Exploring numerical data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-data"><i class="fa fa-check"></i><b>13.2.1</b> Numerical Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable-1"><i class="fa fa-check"></i><b>13.2.2</b> Distribution of one variable</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-1"><i class="fa fa-check"></i><b>13.2.3</b> Box plots</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#visual-in-higher-dimensions"><i class="fa fa-check"></i><b>13.2.4</b> Visual in higher dimensions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>13.3</b> Numerical Summaries</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-center-1"><i class="fa fa-check"></i><b>13.3.1</b> Measures of center</a></li>
<li class="chapter" data-level="13.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-variability"><i class="fa fa-check"></i><b>13.3.2</b> Measures of variability</a></li>
<li class="chapter" data-level="13.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#shape-transformations"><i class="fa fa-check"></i><b>13.3.3</b> Shape &amp; transformations</a></li>
<li class="chapter" data-level="13.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#outliers"><i class="fa fa-check"></i><b>13.3.4</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#case-study"><i class="fa fa-check"></i><b>13.4</b> Case Study</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#new-data"><i class="fa fa-check"></i><b>13.4.1</b> New data</a></li>
<li class="chapter" data-level="13.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-1"><i class="fa fa-check"></i><b>13.4.2</b> Check-in 1</a></li>
<li class="chapter" data-level="13.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-2"><i class="fa fa-check"></i><b>13.4.3</b> Check-in 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html"><i class="fa fa-check"></i><b>14</b> Introduction to Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>14.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#tale-of-two-variables"><i class="fa fa-check"></i><b>14.1.1</b> Tale of two variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#fitting-a-linear-regression"><i class="fa fa-check"></i><b>14.1.2</b> Fitting a linear regression</a></li>
<li class="chapter" data-level="14.1.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#categorical-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Categorical explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-model-objects"><i class="fa fa-check"></i><b>14.2</b> Predictions &amp; model objects</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#making-predictions"><i class="fa fa-check"></i><b>14.2.1</b> Making predictions</a></li>
<li class="chapter" data-level="14.2.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#working-with-model-objects"><i class="fa fa-check"></i><b>14.2.2</b> Working with model objects</a></li>
<li class="chapter" data-level="14.2.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>14.2.3</b> Regression to the mean</a></li>
<li class="chapter" data-level="14.2.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#transforming-variables"><i class="fa fa-check"></i><b>14.2.4</b> Transforming variables</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#assessing-model-fit"><i class="fa fa-check"></i><b>14.3</b> Assessing model fit</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantifying-model-fit"><i class="fa fa-check"></i><b>14.3.1</b> Quantifying model fit</a></li>
<li class="chapter" data-level="14.3.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#visualizing-model-fit"><i class="fa fa-check"></i><b>14.3.2</b> Visualizing model fit</a></li>
<li class="chapter" data-level="14.3.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#outliers-leverage-influence"><i class="fa fa-check"></i><b>14.3.3</b> Outliers, leverage, influence</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-logistic-regression"><i class="fa fa-check"></i><b>14.4</b> Simple logistic regression</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#why-need-logistic-regression"><i class="fa fa-check"></i><b>14.4.1</b> Why need logistic regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-odds-ratios"><i class="fa fa-check"></i><b>14.4.2</b> Predictions &amp; odds ratios</a></li>
<li class="chapter" data-level="14.4.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantify-logistic-regression-fit"><i class="fa fa-check"></i><b>14.4.3</b> Quantify logistic regression fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>15</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>15.1</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes-linear-regression"><i class="fa fa-check"></i><b>15.1.1</b> Parallel slopes linear regression</a></li>
<li class="chapter" data-level="15.1.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predicting-parallel-slopes"><i class="fa fa-check"></i><b>15.1.2</b> Predicting parallel slopes</a></li>
<li class="chapter" data-level="15.1.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#assessing-model-performance"><i class="fa fa-check"></i><b>15.1.3</b> Assessing model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#interactions"><i class="fa fa-check"></i><b>15.2</b> Interactions</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#models-for-each-category"><i class="fa fa-check"></i><b>15.2.1</b> Models for each category</a></li>
<li class="chapter" data-level="15.2.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#one-model-with-an-interaction"><i class="fa fa-check"></i><b>15.2.2</b> One model with an interaction</a></li>
<li class="chapter" data-level="15.2.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predict-with-interactions"><i class="fa fa-check"></i><b>15.2.3</b> Predict with interactions</a></li>
<li class="chapter" data-level="15.2.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>15.2.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>15.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#two-numeric-ivs"><i class="fa fa-check"></i><b>15.3.1</b> Two numeric IVs</a></li>
<li class="chapter" data-level="15.3.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#more-than-2-ivs"><i class="fa fa-check"></i><b>15.3.2</b> More than 2 IVs</a></li>
<li class="chapter" data-level="15.3.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance"><i class="fa fa-check"></i><b>15.3.3</b> Model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>15.4</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression-1"><i class="fa fa-check"></i><b>15.4.1</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#logistic-distribution"><i class="fa fa-check"></i><b>15.4.2</b> Logistic distribution</a></li>
<li class="chapter" data-level="15.4.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance-1"><i class="fa fa-check"></i><b>15.4.3</b> Model performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sampling-in-r.html"><a href="sampling-in-r.html"><i class="fa fa-check"></i><b>16</b> Sampling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-sampling"><i class="fa fa-check"></i><b>16.1</b> Introduction to Sampling</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-point-estimates"><i class="fa fa-check"></i><b>16.1.1</b> Sampling &amp; point estimates</a></li>
<li class="chapter" data-level="16.1.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#convenience-sampling"><i class="fa fa-check"></i><b>16.1.2</b> Convenience sampling</a></li>
<li class="chapter" data-level="16.1.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#pseudo-random-number-generation"><i class="fa fa-check"></i><b>16.1.3</b> Pseudo-random number generation</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-methods"><i class="fa fa-check"></i><b>16.2</b> Sampling Methods</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#simple-random-systematic-sampling"><i class="fa fa-check"></i><b>16.2.1</b> Simple random &amp; systematic sampling</a></li>
<li class="chapter" data-level="16.2.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#stratified-weighted-random-sampling"><i class="fa fa-check"></i><b>16.2.2</b> Stratified &amp; weighted random sampling</a></li>
<li class="chapter" data-level="16.2.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>16.2.3</b> Cluster sampling</a></li>
<li class="chapter" data-level="16.2.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-methods"><i class="fa fa-check"></i><b>16.2.4</b> Comparing sampling methods</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-distributions"><i class="fa fa-check"></i><b>16.3</b> Sampling Distributions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#relative-error-of-point-estimates"><i class="fa fa-check"></i><b>16.3.1</b> Relative error of point estimates</a></li>
<li class="chapter" data-level="16.3.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#creating-a-sampling-distribution"><i class="fa fa-check"></i><b>16.3.2</b> Creating a sampling distribution</a></li>
<li class="chapter" data-level="16.3.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#approximate-sampling-distributions"><i class="fa fa-check"></i><b>16.3.3</b> Approximate sampling distributions</a></li>
<li class="chapter" data-level="16.3.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#standard-errors-clt"><i class="fa fa-check"></i><b>16.3.4</b> Standard errors &amp; CLT</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#bootstrap-distributions"><i class="fa fa-check"></i><b>16.4</b> Bootstrap Distributions</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-bootstrapping"><i class="fa fa-check"></i><b>16.4.1</b> Introduction to bootstrapping</a></li>
<li class="chapter" data-level="16.4.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions"><i class="fa fa-check"></i><b>16.4.2</b> Comparing sampling &amp; bootstrap distributions</a></li>
<li class="chapter" data-level="16.4.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#confidence-intervals"><i class="fa fa-check"></i><b>16.4.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>17</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>17.1</b> Introduction to Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-tests-z-scores"><i class="fa fa-check"></i><b>17.1.1</b> Hypothesis tests &amp; z-scores</a></li>
<li class="chapter" data-level="17.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>17.1.2</b> p-values</a></li>
<li class="chapter" data-level="17.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>17.1.3</b> Statistical significance</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-anova-tests"><i class="fa fa-check"></i><b>17.2</b> Two-Sample &amp; ANOVA Tests</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#performing-t-tests"><i class="fa fa-check"></i><b>17.2.1</b> Performing t-tests</a></li>
<li class="chapter" data-level="17.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#calculating-p-values-from-t-statistics"><i class="fa fa-check"></i><b>17.2.2</b> Calculating p-values from t-statistics</a></li>
<li class="chapter" data-level="17.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-t-tests"><i class="fa fa-check"></i><b>17.2.3</b> Paired t-tests</a></li>
<li class="chapter" data-level="17.2.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#anova-tests"><i class="fa fa-check"></i><b>17.2.4</b> ANOVA tests</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#proportion-tests"><i class="fa fa-check"></i><b>17.3</b> Proportion Tests</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.1</b> One-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.2</b> Two-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>17.3.3</b> Chi-square test of independence</a></li>
<li class="chapter" data-level="17.3.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-goodness-of-fit-tests"><i class="fa fa-check"></i><b>17.3.4</b> Chi-square goodness of fit tests</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>17.4</b> Non-Parametric Tests</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#assumptions-in-hypothesis-testing"><i class="fa fa-check"></i><b>17.4.1</b> Assumptions in hypothesis testing</a></li>
<li class="chapter" data-level="17.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#simulation-based-infer-pipeline"><i class="fa fa-check"></i><b>17.4.2</b> Simulation-based infer pipeline</a></li>
<li class="chapter" data-level="17.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-anova-unpaired-t-tests"><i class="fa fa-check"></i><b>17.4.3</b> Non-parametric ANOVA &amp; unpaired t-tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>18</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="18.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-to-experimental-design"><i class="fa fa-check"></i><b>18.1</b> Introduction to experimental design</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-1"><i class="fa fa-check"></i><b>18.1.1</b> Introduction</a></li>
<li class="chapter" data-level="18.1.2" data-path="experimental-design.html"><a href="experimental-design.html#replication-blocking"><i class="fa fa-check"></i><b>18.1.2</b> Replication &amp; blocking</a></li>
<li class="chapter" data-level="18.1.3" data-path="experimental-design.html"><a href="experimental-design.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>18.1.3</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="experimental-design.html"><a href="experimental-design.html#basic-experiments"><i class="fa fa-check"></i><b>18.2</b> Basic Experiments</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="experimental-design.html"><a href="experimental-design.html#anova-factor-experiments"><i class="fa fa-check"></i><b>18.2.1</b> ANOVA &amp; factor experiments</a></li>
<li class="chapter" data-level="18.2.2" data-path="experimental-design.html"><a href="experimental-design.html#model-validation"><i class="fa fa-check"></i><b>18.2.2</b> Model validation</a></li>
<li class="chapter" data-level="18.2.3" data-path="experimental-design.html"><a href="experimental-design.html#ab-testing"><i class="fa fa-check"></i><b>18.2.3</b> A/B testing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="experimental-design.html"><a href="experimental-design.html#block-designs"><i class="fa fa-check"></i><b>18.3</b> Block Designs</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="experimental-design.html"><a href="experimental-design.html#intro-to-sampling"><i class="fa fa-check"></i><b>18.3.1</b> Intro to sampling</a></li>
<li class="chapter" data-level="18.3.2" data-path="experimental-design.html"><a href="experimental-design.html#randomized-complete-block-designs-rcbd"><i class="fa fa-check"></i><b>18.3.2</b> Randomized Complete Block Designs (RCBD)</a></li>
<li class="chapter" data-level="18.3.3" data-path="experimental-design.html"><a href="experimental-design.html#balanced-incomplete-block-designs-bibd"><i class="fa fa-check"></i><b>18.3.3</b> Balanced Incomplete Block Designs (BIBD)</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="experimental-design.html"><a href="experimental-design.html#squares-factorial-experiments"><i class="fa fa-check"></i><b>18.4</b> Squares &amp; Factorial Experiments</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="experimental-design.html"><a href="experimental-design.html#latin-squares"><i class="fa fa-check"></i><b>18.4.1</b> Latin squares</a></li>
<li class="chapter" data-level="18.4.2" data-path="experimental-design.html"><a href="experimental-design.html#graeco-latin-squares"><i class="fa fa-check"></i><b>18.4.2</b> Graeco-Latin squares</a></li>
<li class="chapter" data-level="18.4.3" data-path="experimental-design.html"><a href="experimental-design.html#factorial-experiments"><i class="fa fa-check"></i><b>18.4.3</b> Factorial experiments</a></li>
<li class="chapter" data-level="18.4.4" data-path="experimental-design.html"><a href="experimental-design.html#other-experimental-designs"><i class="fa fa-check"></i><b>18.4.4</b> Other experimental designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html"><i class="fa fa-check"></i><b>19</b> Supervised Learning: Classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-nearest-neighbors-knn"><i class="fa fa-check"></i><b>19.1</b> k-Nearest Neighbors (kNN)</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-with-nearest-neighbors"><i class="fa fa-check"></i><b>19.1.1</b> Classification with Nearest Neighbors</a></li>
<li class="chapter" data-level="19.1.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-in-knn"><i class="fa fa-check"></i><b>19.1.2</b> ‘k’ in kNN</a></li>
<li class="chapter" data-level="19.1.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#data-preparation-for-knn"><i class="fa fa-check"></i><b>19.1.3</b> 1-3.Data preparation for kNN</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#naive-bayes"><i class="fa fa-check"></i><b>19.2</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-bayesian-methods"><i class="fa fa-check"></i><b>19.2.1</b> Understanding Bayesian methods</a></li>
<li class="chapter" data-level="19.2.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-nbs-naivety"><i class="fa fa-check"></i><b>19.2.2</b> Understanding NB’s “naivety”</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#logistic-regression"><i class="fa fa-check"></i><b>19.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-binary-predictions-with-regression"><i class="fa fa-check"></i><b>19.3.1</b> Making binary predictions with regression</a></li>
<li class="chapter" data-level="19.3.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#model-performance-tradeoffs"><i class="fa fa-check"></i><b>19.3.2</b> Model performance tradeoffs</a></li>
<li class="chapter" data-level="19.3.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#dummy-variables-missing-data-and-interactions"><i class="fa fa-check"></i><b>19.3.3</b> Dummy variables, missing data, and interactions</a></li>
<li class="chapter" data-level="19.3.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#automatic-feature-selection"><i class="fa fa-check"></i><b>19.3.4</b> Automatic feature selection</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-trees"><i class="fa fa-check"></i><b>19.4</b> Classification Trees</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-decisions-with-trees"><i class="fa fa-check"></i><b>19.4.1</b> Making decisions with trees</a></li>
<li class="chapter" data-level="19.4.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#growing-larger-classification-trees"><i class="fa fa-check"></i><b>19.4.2</b> Growing larger classification trees</a></li>
<li class="chapter" data-level="19.4.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#tending-to-classification-trees"><i class="fa fa-check"></i><b>19.4.3</b> Tending to classification trees</a></li>
<li class="chapter" data-level="19.4.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#seeing-the-forest-from-the-trees"><i class="fa fa-check"></i><b>19.4.4</b> Seeing the forest from the trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning: Regression</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#what-is-regression"><i class="fa fa-check"></i><b>20.1</b> What is Regression?</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#introduction-2"><i class="fa fa-check"></i><b>20.1.1</b> Introduction</a></li>
<li class="chapter" data-level="20.1.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#linear-regression"><i class="fa fa-check"></i><b>20.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="20.1.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#predicting-model"><i class="fa fa-check"></i><b>20.1.3</b> Predicting model</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-and-evaluating-models"><i class="fa fa-check"></i><b>20.2</b> Training and Evaluating Models</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#graphically"><i class="fa fa-check"></i><b>20.2.1</b> Graphically</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#root-mean-squared-error"><i class="fa fa-check"></i><b>20.2.2</b> Root Mean Squared Error</a></li>
<li class="chapter" data-level="20.2.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#r-squared"><i class="fa fa-check"></i><b>20.2.3</b> R-squared</a></li>
<li class="chapter" data-level="20.2.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-a-model"><i class="fa fa-check"></i><b>20.2.4</b> Training a Model</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#issues-to-consider"><i class="fa fa-check"></i><b>20.3</b> Issues to Consider</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#categorical-iv"><i class="fa fa-check"></i><b>20.3.1</b> Categorical IV</a></li>
<li class="chapter" data-level="20.3.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#interactions-1"><i class="fa fa-check"></i><b>20.3.2</b> Interactions</a></li>
<li class="chapter" data-level="20.3.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-dv-before-modeling"><i class="fa fa-check"></i><b>20.3.3</b> Transforming DV before modeling</a></li>
<li class="chapter" data-level="20.3.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-iv-before-modeling"><i class="fa fa-check"></i><b>20.3.4</b> Transforming IV before modeling</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#dealing-with-non-linear-responses"><i class="fa fa-check"></i><b>20.4</b> Dealing with Non-Linear Responses</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#logistic-regression-to-predict-probabilities"><i class="fa fa-check"></i><b>20.4.1</b> Logistic regression to predict probabilities</a></li>
<li class="chapter" data-level="20.4.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#poisson-and-quasipoisson-regression-to-predict-counts"><i class="fa fa-check"></i><b>20.4.2</b> Poisson and quasipoisson regression to predict counts</a></li>
<li class="chapter" data-level="20.4.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gam-to-learn-non-linear-transforms"><i class="fa fa-check"></i><b>20.4.3</b> GAM to learn non-linear transforms</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#tree-based-methods"><i class="fa fa-check"></i><b>20.5</b> Tree-Based Methods</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#random-forests"><i class="fa fa-check"></i><b>20.5.1</b> Random forests</a></li>
<li class="chapter" data-level="20.5.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#one-hot-encoding"><i class="fa fa-check"></i><b>20.5.2</b> One-Hot-Encoding</a></li>
<li class="chapter" data-level="20.5.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gradient-boosting"><i class="fa fa-check"></i><b>20.5.3</b> Gradient boosting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>21</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="21.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>21.1</b> k-means clustering</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#types-of-machine-learning"><i class="fa fa-check"></i><b>21.1.1</b> Types of machine learning</a></li>
<li class="chapter" data-level="21.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-to-k-means"><i class="fa fa-check"></i><b>21.1.2</b> Introduction to k-means</a></li>
<li class="chapter" data-level="21.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#model-selection"><i class="fa fa-check"></i><b>21.1.3</b> Model selection</a></li>
<li class="chapter" data-level="21.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#pokemon-data"><i class="fa fa-check"></i><b>21.1.4</b> Pokemon data</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>21.2</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>21.2.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#selecting-number-of-clusters-1"><i class="fa fa-check"></i><b>21.2.2</b> Selecting number of clusters</a></li>
<li class="chapter" data-level="21.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-linkage"><i class="fa fa-check"></i><b>21.2.3</b> Clustering linkage</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction---pca"><i class="fa fa-check"></i><b>21.3</b> Dimensionality reduction - PCA</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-4"><i class="fa fa-check"></i><b>21.3.1</b> Introduction</a></li>
<li class="chapter" data-level="21.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#visualizing-and-interpreting-1"><i class="fa fa-check"></i><b>21.3.2</b> Visualizing and interpreting</a></li>
<li class="chapter" data-level="21.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#practical-issues"><i class="fa fa-check"></i><b>21.3.3</b> Practical issues</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#case-study-1"><i class="fa fa-check"></i><b>21.4</b> Case study</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-5"><i class="fa fa-check"></i><b>21.4.1</b> Introduction</a></li>
<li class="chapter" data-level="21.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#next-steps"><i class="fa fa-check"></i><b>21.4.2</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html"><i class="fa fa-check"></i><b>22</b> Intermediate Importing Data in R</a>
<ul>
<li class="chapter" data-level="22.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-1"><i class="fa fa-check"></i><b>22.1</b> Import from databases-1</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#connect-to-a-database"><i class="fa fa-check"></i><b>22.1.1</b> Connect to a database</a></li>
<li class="chapter" data-level="22.1.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-table-data"><i class="fa fa-check"></i><b>22.1.2</b> Import table data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-2"><i class="fa fa-check"></i><b>22.2</b> Import from databases-2</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#sql-queries-from-inside-r"><i class="fa fa-check"></i><b>22.2.1</b> SQL Queries from inside R</a></li>
<li class="chapter" data-level="22.2.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#dbi-internals"><i class="fa fa-check"></i><b>22.2.2</b> DBI internals</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-1"><i class="fa fa-check"></i><b>22.3</b> Import from the web-1</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#http"><i class="fa fa-check"></i><b>22.3.1</b> HTTP</a></li>
<li class="chapter" data-level="22.3.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#downloading-files"><i class="fa fa-check"></i><b>22.3.2</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-2"><i class="fa fa-check"></i><b>22.4</b> Import from the web-2</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#apis-json"><i class="fa fa-check"></i><b>22.4.1</b> APIs &amp; JSON</a></li>
<li class="chapter" data-level="22.4.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#json-jsonlite"><i class="fa fa-check"></i><b>22.4.2</b> JSON &amp; jsonlite</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-statistical-software"><i class="fa fa-check"></i><b>22.5</b> Import from statistical software</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#haven-package"><i class="fa fa-check"></i><b>22.5.1</b> haven package</a></li>
<li class="chapter" data-level="22.5.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#foreign-package"><i class="fa fa-check"></i><b>22.5.2</b> foreign package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>23</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#relational-databases"><i class="fa fa-check"></i><b>23.1</b> Relational Databases</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#databases"><i class="fa fa-check"></i><b>23.1.1</b> Databases</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#tables"><i class="fa fa-check"></i><b>23.1.2</b> Tables</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#data"><i class="fa fa-check"></i><b>23.1.3</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#querying"><i class="fa fa-check"></i><b>23.2</b> Querying</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#introducing"><i class="fa fa-check"></i><b>23.2.1</b> Introducing</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#writing-queries"><i class="fa fa-check"></i><b>23.2.2</b> Writing queries</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sql-flavors"><i class="fa fa-check"></i><b>23.2.3</b> SQL flavors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="intermediate-sql.html"><a href="intermediate-sql.html"><i class="fa fa-check"></i><b>24</b> Intermediate SQL</a>
<ul>
<li class="chapter" data-level="24.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#selecting-data"><i class="fa fa-check"></i><b>24.1</b> Selecting Data</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#querying-a-database"><i class="fa fa-check"></i><b>24.1.1</b> Querying a database</a></li>
<li class="chapter" data-level="24.1.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#query-execution"><i class="fa fa-check"></i><b>24.1.2</b> Query execution</a></li>
<li class="chapter" data-level="24.1.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sql-style"><i class="fa fa-check"></i><b>24.1.3</b> SQL style</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-records"><i class="fa fa-check"></i><b>24.2</b> Filtering Records</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-numbers"><i class="fa fa-check"></i><b>24.2.1</b> Filtering numbers</a></li>
<li class="chapter" data-level="24.2.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#multiple-criteria"><i class="fa fa-check"></i><b>24.2.2</b> Multiple criteria</a></li>
<li class="chapter" data-level="24.2.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-text"><i class="fa fa-check"></i><b>24.2.3</b> Filtering text</a></li>
<li class="chapter" data-level="24.2.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#null-values"><i class="fa fa-check"></i><b>24.2.4</b> NULL values</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>24.3</b> Aggregate Functions</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-data"><i class="fa fa-check"></i><b>24.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="24.3.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-subsets"><i class="fa fa-check"></i><b>24.3.2</b> Summarizing subsets</a></li>
<li class="chapter" data-level="24.3.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aliasing-and-arithmetic"><i class="fa fa-check"></i><b>24.3.3</b> Aliasing and arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>24.4</b> Sorting and Grouping</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-results"><i class="fa fa-check"></i><b>24.4.1</b> Sorting results</a></li>
<li class="chapter" data-level="24.4.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#grouping-data"><i class="fa fa-check"></i><b>24.4.2</b> Grouping data</a></li>
<li class="chapter" data-level="24.4.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-grouped-data"><i class="fa fa-check"></i><b>24.4.3</b> Filtering grouped data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>25</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="25.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inner-joins"><i class="fa fa-check"></i><b>25.1</b> Inner Joins</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#ins-outs-of-inner-join"><i class="fa fa-check"></i><b>25.1.1</b> ins &amp; outs of INNER JOIN</a></li>
<li class="chapter" data-level="25.1.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#defining-relationships"><i class="fa fa-check"></i><b>25.1.2</b> Defining relationships</a></li>
<li class="chapter" data-level="25.1.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#multiple-joins"><i class="fa fa-check"></i><b>25.1.3</b> Multiple joins</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-cross-self-joins"><i class="fa fa-check"></i><b>25.2</b> Outer, Cross &amp; Self Joins</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#left-right-joins-1"><i class="fa fa-check"></i><b>25.2.1</b> LEFT &amp; RIGHT JOINs</a></li>
<li class="chapter" data-level="25.2.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#full-join-1"><i class="fa fa-check"></i><b>25.2.2</b> FULL JOIN</a></li>
<li class="chapter" data-level="25.2.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#cross-join"><i class="fa fa-check"></i><b>25.2.3</b> CROSS JOIN</a></li>
<li class="chapter" data-level="25.2.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#self-joins"><i class="fa fa-check"></i><b>25.2.4</b> Self joins</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-for-sql-joins"><i class="fa fa-check"></i><b>25.3</b> Set Theory for SQL Joins</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#union-vs.-union-all"><i class="fa fa-check"></i><b>25.3.1</b> UNION vs. UNION ALL</a></li>
<li class="chapter" data-level="25.3.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#intersect"><i class="fa fa-check"></i><b>25.3.2</b> INTERSECT</a></li>
<li class="chapter" data-level="25.3.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#except"><i class="fa fa-check"></i><b>25.3.3</b> EXCEPT</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>25.4</b> Subqueries</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#with-semi-joins-anti-joins"><i class="fa fa-check"></i><b>25.4.1</b> With semi joins &amp; anti joins</a></li>
<li class="chapter" data-level="25.4.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-where-select"><i class="fa fa-check"></i><b>25.4.2</b> Inside WHERE &amp; SELECT</a></li>
<li class="chapter" data-level="25.4.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-from"><i class="fa fa-check"></i><b>25.4.3</b> Inside FROM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>26</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="26.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#introduction-6"><i class="fa fa-check"></i><b>26.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#useful-shell-commands"><i class="fa fa-check"></i><b>26.1.1</b> Useful shell commands</a></li>
<li class="chapter" data-level="26.1.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#saving-files"><i class="fa fa-check"></i><b>26.1.2</b> Saving files</a></li>
<li class="chapter" data-level="26.1.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>26.1.3</b> Comparing files</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#making-changes"><i class="fa fa-check"></i><b>26.2</b> Making changes</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#storing-data-with-git"><i class="fa fa-check"></i><b>26.2.1</b> Storing data with Git</a></li>
<li class="chapter" data-level="26.2.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#viewing-changes"><i class="fa fa-check"></i><b>26.2.2</b> Viewing changes</a></li>
<li class="chapter" data-level="26.2.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-changes-before-committing"><i class="fa fa-check"></i><b>26.2.3</b> Undoing changes before committing</a></li>
<li class="chapter" data-level="26.2.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#restoring-and-reverting"><i class="fa fa-check"></i><b>26.2.4</b> Restoring and reverting</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#git-workflows"><i class="fa fa-check"></i><b>26.3</b> Git workflows</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#configuring-git"><i class="fa fa-check"></i><b>26.3.1</b> Configuring Git</a></li>
<li class="chapter" data-level="26.3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#branches"><i class="fa fa-check"></i><b>26.3.2</b> Branches</a></li>
<li class="chapter" data-level="26.3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-branches"><i class="fa fa-check"></i><b>26.3.3</b> Working with branches</a></li>
<li class="chapter" data-level="26.3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#handling-conflict"><i class="fa fa-check"></i><b>26.3.4</b> Handling conflict</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#collaborating-with-git"><i class="fa fa-check"></i><b>26.4</b> Collaborating with Git</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-repos"><i class="fa fa-check"></i><b>26.4.1</b> Creating repos</a></li>
<li class="chapter" data-level="26.4.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-remotes"><i class="fa fa-check"></i><b>26.4.2</b> Working with remotes</a></li>
<li class="chapter" data-level="26.4.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pulling-from-a-remote"><i class="fa fa-check"></i><b>26.4.3</b> Pulling from a remote</a></li>
<li class="chapter" data-level="26.4.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pushing-to-a-remote"><i class="fa fa-check"></i><b>26.4.4</b> Pushing to a remote</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Scientist with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-regression" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Chapter 14</span> Introduction to Regression<a href="introduction-to-regression.html#introduction-to-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="simple-linear-regression" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> Simple Linear Regression<a href="introduction-to-regression.html#simple-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="tale-of-two-variables" class="section level3 hasAnchor" number="14.1.1">
<h3><span class="header-section-number">14.1.1</span> Tale of two variables<a href="introduction-to-regression.html#tale-of-two-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Regression</strong></p>
<ul>
<li><p>Statistical models to explore the relationship a response (dependent) variable and some explanatory (independent) variables.</p></li>
<li><p>Given values of explanatory variables, you can predict the values of the response variable.</p>
<ul>
<li><p><strong>Linear regression</strong>: The response variable is numeric.</p></li>
<li><p><strong>Logistic regression</strong>: The response variable is logical.</p></li>
<li><p>Simple linear/logistic regression: There is only one explanatory variable.</p></li>
</ul></li>
</ul>
<div id="visualize-two-variables" class="section level4 hasAnchor" number="14.1.1.1">
<h4><span class="header-section-number">14.1.1.1</span> Visualize two variables<a href="introduction-to-regression.html#visualize-two-variables" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>Scatter plots</em> are the standard way to visualize the relationship between two numeric variables</p>
<p>You’ll explore a Taiwan real estate dataset with 4 variables.</p>
<ol style="list-style-type: decimal">
<li><p><code>dist_to_mrt_station_m</code>: Distance to nearest MRT metro station, in meters.</p></li>
<li><p><code>n_convenience</code>: No. of convenience stores in walking distance.</p></li>
<li><p><code>house_age_years</code>: The age of the house, in years, in 3 groups.</p></li>
<li><p><code>price_twd_msq</code>:House price per unit area, in New Taiwan dollars per meter squared.</p></li>
</ol>
<p>Here, we’ll look at the relationship between house price per area and the number of nearby convenience stores.</p>
<div class="sourceCode" id="cb1821"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1821-1"><a href="introduction-to-regression.html#cb1821-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1821-2"><a href="introduction-to-regression.html#cb1821-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fst)</span></code></pre></div>
<pre><code>## Warning: package &#39;fst&#39; was built under R version 4.3.2</code></pre>
<div class="sourceCode" id="cb1823"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1823-1"><a href="introduction-to-regression.html#cb1823-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load dataset</span></span>
<span id="cb1823-2"><a href="introduction-to-regression.html#cb1823-2" aria-hidden="true" tabindex="-1"></a>taiwan_real_estate <span class="ot">&lt;-</span> <span class="fu">read_fst</span>(<span class="st">&quot;data/taiwan_real_estate.fst&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;fstcore&#39; was built under R version 4.3.2</code></pre>
<div class="sourceCode" id="cb1825"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1825-1"><a href="introduction-to-regression.html#cb1825-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(taiwan_real_estate)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    414 obs. of  4 variables:
##  $ dist_to_mrt_m  : num  84.9 306.6 562 562 390.6 ...
##  $ n_convenience  : num  10 9 5 5 5 3 7 6 1 3 ...
##  $ house_age_years: Ord.factor w/ 3 levels &quot;0 to 15&quot;&lt;&quot;15 to 30&quot;&lt;..: 3 2 1 1 1 1 3 2 3 2 ...
##  $ price_twd_msq  : num  11.5 12.8 14.3 16.6 13 ...</code></pre>
<div class="sourceCode" id="cb1827"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1827-1"><a href="introduction-to-regression.html#cb1827-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw a scatter plot of n_convenience vs. price_twd_msq</span></span>
<span id="cb1827-2"><a href="introduction-to-regression.html#cb1827-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(n_convenience, price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1827-3"><a href="introduction-to-regression.html#cb1827-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make points 50% transparent</span></span>
<span id="cb1827-4"><a href="introduction-to-regression.html#cb1827-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb1827-5"><a href="introduction-to-regression.html#cb1827-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a linear trend line without a confidence ribbon</span></span>
<span id="cb1827-6"><a href="introduction-to-regression.html#cb1827-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-645-1.png" width="672" /></p>
</div>
</div>
<div id="fitting-a-linear-regression" class="section level3 hasAnchor" number="14.1.2">
<h3><span class="header-section-number">14.1.2</span> Fitting a linear regression<a href="introduction-to-regression.html#fitting-a-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Regression lines</strong></p>
<ul>
<li><p>Equation</p>
<ul>
<li>y = intercept + slope ∗ x</li>
</ul></li>
<li><p>Slope</p>
<ul>
<li>The amount the y value increases if you increase x by one.</li>
</ul></li>
<li><p>Intercept</p>
<ul>
<li>The y value at the point when x is zero.</li>
</ul></li>
<li><p>Syntax</p>
<ul>
<li><code>lm(y ~ x, data)</code></li>
</ul></li>
</ul>
<p>Run a linear regression with <code>price_twd_msq</code> as the response variable, <code>n_convenience</code> as the explanatory variable.</p>
<div class="sourceCode" id="cb1828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1828-1"><a href="introduction-to-regression.html#cb1828-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run a linear regression of price_twd_msq vs. n_convenience</span></span>
<span id="cb1828-2"><a href="introduction-to-regression.html#cb1828-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(price_twd_msq <span class="sc">~</span> n_convenience, <span class="at">data =</span> taiwan_real_estate)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price_twd_msq ~ n_convenience, data = taiwan_real_estate)
## 
## Coefficients:
##   (Intercept)  n_convenience  
##         8.224          0.798</code></pre>
<p>Interpretation:</p>
<p>price_twd_msq = 8.2242 + 0.7981 ∗ n_convenience</p>
<p>On average, a house with zero convenience stores nearby had a price of 8.2242 TWD per square meter.</p>
<p>If you increase the number of nearby convenience stores by one, then the expected increase in house price is 0.7981 TWD per square meter.</p>
</div>
<div id="categorical-explanatory-variables" class="section level3 hasAnchor" number="14.1.3">
<h3><span class="header-section-number">14.1.3</span> Categorical explanatory variables<a href="introduction-to-regression.html#categorical-explanatory-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="visualizing-categorical" class="section level4 hasAnchor" number="14.1.3.1">
<h4><span class="header-section-number">14.1.3.1</span> Visualizing categorical<a href="introduction-to-regression.html#visualizing-categorical" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If the explanatory variable is categorical, the scatter plot that you used before to visualize the data doesn’t make sense. Instead, a good option is to draw a histogram for each category.</p>
<div class="sourceCode" id="cb1830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1830-1"><a href="introduction-to-regression.html#cb1830-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using taiwan_real_estate, plot price_twd_msq</span></span>
<span id="cb1830-2"><a href="introduction-to-regression.html#cb1830-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1830-3"><a href="introduction-to-regression.html#cb1830-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it a histogram with 10 bins</span></span>
<span id="cb1830-4"><a href="introduction-to-regression.html#cb1830-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb1830-5"><a href="introduction-to-regression.html#cb1830-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Facet the plot so each house age group gets its own panel</span></span>
<span id="cb1830-6"><a href="introduction-to-regression.html#cb1830-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> house_age_years)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-647-1.png" width="672" /></p>
<p>It appears that new houses are the most expensive on average, and the medium aged ones (15 to 30 years) are the cheapest.</p>
</div>
<div id="calculating-means-by-category" class="section level4 hasAnchor" number="14.1.3.2">
<h4><span class="header-section-number">14.1.3.2</span> Calculating means by category<a href="introduction-to-regression.html#calculating-means-by-category" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A good way to explore categorical variables is to calculate summary statistics such as the mean for each category.</p>
<div class="sourceCode" id="cb1831"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1831-1"><a href="introduction-to-regression.html#cb1831-1" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> taiwan_real_estate <span class="sc">%&gt;%</span> </span>
<span id="cb1831-2"><a href="introduction-to-regression.html#cb1831-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group by house age</span></span>
<span id="cb1831-3"><a href="introduction-to-regression.html#cb1831-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(house_age_years) <span class="sc">%&gt;%</span> </span>
<span id="cb1831-4"><a href="introduction-to-regression.html#cb1831-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize to calculate the mean house price/area</span></span>
<span id="cb1831-5"><a href="introduction-to-regression.html#cb1831-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_by_group =</span> <span class="fu">mean</span>(price_twd_msq))</span>
<span id="cb1831-6"><a href="introduction-to-regression.html#cb1831-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1831-7"><a href="introduction-to-regression.html#cb1831-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1831-8"><a href="introduction-to-regression.html#cb1831-8" aria-hidden="true" tabindex="-1"></a>summary_stats</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   house_age_years mean_by_group
##   &lt;ord&gt;                   &lt;dbl&gt;
## 1 0 to 15                 12.6 
## 2 15 to 30                 9.88
## 3 30 to 45                11.4</code></pre>
</div>
<div id="lm-categorical-explanatory-variable" class="section level4 hasAnchor" number="14.1.3.3">
<h4><span class="header-section-number">14.1.3.3</span> lm() &amp; categorical explanatory variable<a href="introduction-to-regression.html#lm-categorical-explanatory-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Linear regressions also work with categorical explanatory variables. In this case, the code to run the model is the same, but the coefficients returned by the model are different.</p>
<p>Run a linear regression with <code>price_twd_msq</code> as the response variable, <code>house_age_years</code> as the explanatory variable.</p>
<div class="sourceCode" id="cb1833"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1833-1"><a href="introduction-to-regression.html#cb1833-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run a linear regression of price_twd_msq vs. house_age_years</span></span>
<span id="cb1833-2"><a href="introduction-to-regression.html#cb1833-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_age <span class="ot">&lt;-</span> <span class="fu">lm</span>(price_twd_msq <span class="sc">~</span> house_age_years, taiwan_real_estate)</span>
<span id="cb1833-3"><a href="introduction-to-regression.html#cb1833-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1833-4"><a href="introduction-to-regression.html#cb1833-4" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1833-5"><a href="introduction-to-regression.html#cb1833-5" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_age</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price_twd_msq ~ house_age_years, data = taiwan_real_estate)
## 
## Coefficients:
##       (Intercept)  house_age_years.L  house_age_years.Q  
##             11.30              -0.88               1.75</code></pre>
<p>The intercept is the mean of the first group. The coefficients for each category are calculated relative to the intercept.</p>
<p>Update the model formula so that no intercept is included in the model.</p>
<div class="sourceCode" id="cb1835"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1835-1"><a href="introduction-to-regression.html#cb1835-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the model formula to remove the intercept</span></span>
<span id="cb1835-2"><a href="introduction-to-regression.html#cb1835-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_age_no_intercept <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb1835-3"><a href="introduction-to-regression.html#cb1835-3" aria-hidden="true" tabindex="-1"></a>  price_twd_msq <span class="sc">~</span> house_age_years <span class="sc">+</span> <span class="dv">0</span>, </span>
<span id="cb1835-4"><a href="introduction-to-regression.html#cb1835-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> taiwan_real_estate</span>
<span id="cb1835-5"><a href="introduction-to-regression.html#cb1835-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1835-6"><a href="introduction-to-regression.html#cb1835-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1835-7"><a href="introduction-to-regression.html#cb1835-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1835-8"><a href="introduction-to-regression.html#cb1835-8" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_age_no_intercept</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price_twd_msq ~ house_age_years + 0, data = taiwan_real_estate)
## 
## Coefficients:
##  house_age_years0 to 15  house_age_years15 to 30  house_age_years30 to 45  
##                   12.64                     9.88                    11.39</code></pre>
<p>After adding 0 to intercept, the coefficients of the model are just the means of each category you calculated previously.</p>
<hr />
</div>
</div>
</div>
<div id="predictions-model-objects" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> Predictions &amp; model objects<a href="introduction-to-regression.html#predictions-model-objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="making-predictions" class="section level3 hasAnchor" number="14.2.1">
<h3><span class="header-section-number">14.2.1</span> Making predictions<a href="introduction-to-regression.html#making-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Data on explanatory values to predict</strong></p>
<p>If I set the explanatory variables to these values, what value would the response variable have?</p>
<div class="sourceCode" id="cb1837"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1837-1"><a href="introduction-to-regression.html#cb1837-1" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1837-2"><a href="introduction-to-regression.html#cb1837-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">explanatory_var =</span> some_values</span>
<span id="cb1837-3"><a href="introduction-to-regression.html#cb1837-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Predicting inside a data frame</strong></p>
<div class="sourceCode" id="cb1838"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1838-1"><a href="introduction-to-regression.html#cb1838-1" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="sc">%&gt;%</span></span>
<span id="cb1838-2"><a href="introduction-to-regression.html#cb1838-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1838-3"><a href="introduction-to-regression.html#cb1838-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">response_var =</span> <span class="fu">predict</span>(model, explanatory_data)</span>
<span id="cb1838-4"><a href="introduction-to-regression.html#cb1838-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><strong>Extrapolating</strong></p>
<p>Making predictions outside the range of observed data.</p>
<div id="predicting" class="section level4 hasAnchor" number="14.2.1.1">
<h4><span class="header-section-number">14.2.1.1</span> Predicting<a href="introduction-to-regression.html#predicting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Specify values for each of the explanatory variables, feed them to the model, and you get a prediction for the corresponding response variable.</p>
<p>Here, you’ll make predictions for the house prices versus number of convenience stores.</p>
<div class="sourceCode" id="cb1839"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1839-1"><a href="introduction-to-regression.html#cb1839-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fit model</span></span>
<span id="cb1839-2"><a href="introduction-to-regression.html#cb1839-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_conv <span class="ot">&lt;-</span> <span class="fu">lm</span>(price_twd_msq <span class="sc">~</span> n_convenience, <span class="at">data =</span> taiwan_real_estate)</span>
<span id="cb1839-3"><a href="introduction-to-regression.html#cb1839-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1839-4"><a href="introduction-to-regression.html#cb1839-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a tibble with n_convenience column from zero to ten</span></span>
<span id="cb1839-5"><a href="introduction-to-regression.html#cb1839-5" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">n_convenience =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb1839-6"><a href="introduction-to-regression.html#cb1839-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1839-7"><a href="introduction-to-regression.html#cb1839-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use mdl_price_vs_conv to predict with explanatory_data</span></span>
<span id="cb1839-8"><a href="introduction-to-regression.html#cb1839-8" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(mdl_price_vs_conv, explanatory_data)</span></code></pre></div>
<pre><code>##     1     2     3     4     5     6     7     8     9    10    11 
##  8.22  9.02  9.82 10.62 11.42 12.21 13.01 13.81 14.61 15.41 16.21</code></pre>
<div class="sourceCode" id="cb1841"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1841-1"><a href="introduction-to-regression.html#cb1841-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit this, so predictions are stored in prediction_data</span></span>
<span id="cb1841-2"><a href="introduction-to-regression.html#cb1841-2" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span></span>
<span id="cb1841-3"><a href="introduction-to-regression.html#cb1841-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_twd_msq =</span> <span class="fu">predict</span>(mdl_price_vs_conv, explanatory_data))</span>
<span id="cb1841-4"><a href="introduction-to-regression.html#cb1841-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1841-5"><a href="introduction-to-regression.html#cb1841-5" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1841-6"><a href="introduction-to-regression.html#cb1841-6" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 11 × 2
##    n_convenience price_twd_msq
##            &lt;int&gt;         &lt;dbl&gt;
##  1             0          8.22
##  2             1          9.02
##  3             2          9.82
##  4             3         10.6 
##  5             4         11.4 
##  6             5         12.2 
##  7             6         13.0 
##  8             7         13.8 
##  9             8         14.6 
## 10             9         15.4 
## 11            10         16.2</code></pre>
</div>
<div id="visualizing-predictions" class="section level4 hasAnchor" number="14.2.1.2">
<h4><span class="header-section-number">14.2.1.2</span> Visualizing predictions<a href="introduction-to-regression.html#visualizing-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The prediction data you calculated contains a column of explanatory variable values and a column of response variable values. That means you can plot it on the same scatter plot of response versus explanatory data values.</p>
<div class="sourceCode" id="cb1843"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1843-1"><a href="introduction-to-regression.html#cb1843-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to the plot</span></span>
<span id="cb1843-2"><a href="introduction-to-regression.html#cb1843-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(n_convenience, price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1843-3"><a href="introduction-to-regression.html#cb1843-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1843-4"><a href="introduction-to-regression.html#cb1843-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1843-5"><a href="introduction-to-regression.html#cb1843-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a point layer of prediction data, colored yellow</span></span>
<span id="cb1843-6"><a href="introduction-to-regression.html#cb1843-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> prediction_data, <span class="at">color =</span> <span class="st">&quot;yellow&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-653-1.png" width="672" /></p>
</div>
<div id="the-limits-of-prediction" class="section level4 hasAnchor" number="14.2.1.3">
<h4><span class="header-section-number">14.2.1.3</span> The limits of prediction<a href="introduction-to-regression.html#the-limits-of-prediction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To test the limits of the model’s ability to predict, try some impossible situations. When there are -1, 2.5 convenience stores.</p>
<div class="sourceCode" id="cb1845"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1845-1"><a href="introduction-to-regression.html#cb1845-1" aria-hidden="true" tabindex="-1"></a>minus_one <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">n_convenience =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb1845-2"><a href="introduction-to-regression.html#cb1845-2" aria-hidden="true" tabindex="-1"></a>two_pt_five <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">n_convenience =</span> <span class="fl">2.5</span>)</span>
<span id="cb1845-3"><a href="introduction-to-regression.html#cb1845-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1845-4"><a href="introduction-to-regression.html#cb1845-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="fu">predict</span>(mdl_price_vs_conv, minus_one), <span class="fu">predict</span>(mdl_price_vs_conv, two_pt_five))</span></code></pre></div>
<pre><code>##     1     1 
##  7.43 10.22</code></pre>
<p>Linear models don’t know what is possible or not in real life. That means that they can give you predictions that don’t make any sense when applied to your data.</p>
<p>You need to understand what your data means in order to determine whether a prediction is nonsense or not.</p>
</div>
</div>
<div id="working-with-model-objects" class="section level3 hasAnchor" number="14.2.2">
<h3><span class="header-section-number">14.2.2</span> Working with model objects<a href="introduction-to-regression.html#working-with-model-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="extracting-model-elements" class="section level4 hasAnchor" number="14.2.2.1">
<h4><span class="header-section-number">14.2.2.1</span> Extracting model elements<a href="introduction-to-regression.html#extracting-model-elements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The variable returned by <code>lm()</code> that contains the model object has many elements. In order to perform further analysis on the model results, you need to extract the useful bits of it.</p>
<p>The model coefficients, the fitted values, and the residuals are perhaps the most important bits of the linear model object.</p>
<ul>
<li><p><code>coefficients(model)</code></p></li>
<li><p><code>fitted(model)</code>: predictions on the original dataset.</p></li>
<li><p><code>residuals(model)</code>: actual response values minus predicted response values.</p></li>
<li><p><code>summary(model)</code></p></li>
<li><p><code>broom</code> package: convert model objects to data frames for easier programming.</p>
<ul>
<li><p><code>tidy()</code>: returns the coefficient level results.</p></li>
<li><p><code>glance()</code>: returns model-level results.</p></li>
<li><p><code>augment()</code>: returns observation level results.</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1847"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1847-1"><a href="introduction-to-regression.html#cb1847-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the model coefficients of mdl_price_vs_conv</span></span>
<span id="cb1847-2"><a href="introduction-to-regression.html#cb1847-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coefficients</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>##   (Intercept) n_convenience 
##         8.224         0.798</code></pre>
<div class="sourceCode" id="cb1849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1849-1"><a href="introduction-to-regression.html#cb1849-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the fitted values of mdl_price_vs_conv</span></span>
<span id="cb1849-2"><a href="introduction-to-regression.html#cb1849-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fitted</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>##     1     2     3     4     5     6     7     8     9    10    11    12    13 
## 16.21 15.41 12.21 12.21 12.21 10.62 13.81 13.01  9.02 10.62  9.02 15.41 12.21 
##    14    15    16    17    18    19    20    21    22    23    24    25    26 
## 11.42 11.42  9.82 13.01  9.02 14.61 13.81 10.62 13.81  9.02 13.81 11.42  9.82 
##    27    28    29    30    31    32    33    34    35    36    37    38    39 
## 12.21 12.21 11.42 12.21  8.22 13.81  9.02 13.01 13.81  8.22  9.82  9.02 13.01 
##    40    41    42    43    44    45    46    47    48    49    50    51    52 
## 12.21  8.22  8.22 12.21 13.01 11.42 14.61 15.41 10.62  8.22  9.02 11.42  9.02 
##    53    54    55    56    57    58    59    60    61    62    63    64    65 
## 10.62 12.21 12.21  8.22 14.61 13.81  9.02 12.21  9.82 13.01 10.62 11.42  8.22 
##    66    67    68    69    70    71    72    73    74    75    76    77    78 
## 14.61 13.01 12.21 13.01 12.21 15.41 10.62 14.61  8.22 16.21  9.02 10.62 10.62 
##    79    80    81    82    83    84    85    86    87    88    89    90    91 
##  9.82  9.02 11.42 13.01 13.81 10.62 13.81 15.41  9.02  8.22  8.22  8.22  9.02 
##    92    93    94    95    96    97    98    99   100   101   102   103   104 
##  8.22 11.42  8.22 12.21 12.21 15.41 10.62 12.21 15.41 11.42  9.02 13.01 13.01 
##   105   106   107   108   109   110   111   112   113   114   115   116   117 
## 13.01 13.01 14.61  9.02  9.82 10.62 12.21 13.81 10.62 13.01 14.61  9.82  9.02 
##   118   119   120   121   122   123   124   125   126   127   128   129   130 
##  8.22 10.62 12.21 12.21 12.21 11.42  8.22 13.81 13.01 11.42 12.21 13.01 13.81 
##   131   132   133   134   135   136   137   138   139   140   141   142   143 
## 14.61 10.62 12.21 14.61 13.01  8.22 12.21 13.01  8.22 12.21 12.21 10.62 12.21 
##   144   145   146   147   148   149   150   151   152   153   154   155   156 
## 12.21  9.02 12.21  8.22 14.61  8.22 14.61 13.81 15.41  9.02 13.01  8.22  8.22 
##   157   158   159   160   161   162   163   164   165   166   167   168   169 
##  8.22 11.42 12.21 11.42 14.61 10.62  8.22 12.21  8.22  9.02 13.01 14.61 12.21 
##   170   171   172   173   174   175   176   177   178   179   180   181   182 
##  9.02  8.22 12.21 15.41 11.42 13.81 10.62  8.22 15.41 11.42  9.02  8.22 14.61 
##   183   184   185   186   187   188   189   190   191   192   193   194   195 
## 10.62  8.22  8.22 10.62 10.62  8.22 14.61  8.22 14.61  9.82 13.81 12.21  8.22 
##   196   197   198   199   200   201   202   203   204   205   206   207   208 
## 12.21  9.82 14.61 13.81 14.61  8.22 12.21 10.62 12.21  9.02 10.62 16.21 10.62 
##   209   210   211   212   213   214   215   216   217   218   219   220   221 
##  9.02 14.61 12.21  9.02  9.82 15.41 10.62 14.61  9.02 13.01 12.21 14.61 15.41 
##   222   223   224   225   226   227   228   229   230   231   232   233   234 
##  8.22 16.21  8.22 13.01 13.01  8.22 14.61  8.22  8.22 10.62  8.22  9.02 15.41 
##   235   236   237   238   239   240   241   242   243   244   245   246   247 
## 11.42 13.81 16.21  8.22  8.22  8.22  9.82 13.81 10.62 14.61 10.62 12.21 13.01 
##   248   249   250   251   252   253   254   255   256   257   258   259   260 
##  8.22  8.22  9.02 13.81  8.22 15.41  9.82 12.21  9.02  9.02  9.02 13.01  8.22 
##   261   262   263   264   265   266   267   268   269   270   271   272   273 
## 11.42 10.62 12.21 10.62 13.81 11.42 10.62 12.21 12.21  8.22  9.02 14.61 12.21 
##   274   275   276   277   278   279   280   281   282   283   284   285   286 
##  9.02 13.81 13.81 12.21 10.62 13.01 10.62 13.01 15.41  9.02  9.82 13.81 10.62 
##   287   288   289   290   291   292   293   294   295   296   297   298   299 
## 15.41 12.21 13.01 12.21  8.22 13.81 12.21 13.81 13.01 10.62 11.42 11.42  8.22 
##   300   301   302   303   304   305   306   307   308   309   310   311   312 
## 16.21 11.42  8.22 10.62  8.22 10.62 12.21  9.02  8.22 12.21  8.22  9.82 11.42 
##   313   314   315   316   317   318   319   320   321   322   323   324   325 
## 15.41 12.21 13.01  9.82 13.81  9.82 16.21 12.21  8.22 11.42  9.02 13.01  9.82 
##   326   327   328   329   330   331   332   333   334   335   336   337   338 
## 14.61 13.81 10.62 10.62  8.22  8.22  8.22  9.82 12.21 12.21 13.01  9.82 12.21 
##   339   340   341   342   343   344   345   346   347   348   349   350   351 
## 15.41 12.21  8.22  9.82 15.41 14.61  8.22  8.22  9.82  9.02 13.01 12.21 12.21 
##   352   353   354   355   356   357   358   359   360   361   362   363   364 
## 10.62 10.62 10.62  9.02 12.21  9.02 15.41 13.01  8.22 16.21 14.61 11.42 16.21 
##   365   366   367   368   369   370   371   372   373   374   375   376   377 
## 13.81 11.42  9.02  9.82  9.02 10.62 12.21 12.21 13.81  9.02 12.21  8.22  9.82 
##   378   379   380   381   382   383   384   385   386   387   388   389   390 
## 14.61 14.61 13.01 12.21 15.41  8.22 11.42  8.22 16.21  8.22 10.62 11.42 14.61 
##   391   392   393   394   395   396   397   398   399   400   401   402   403 
## 15.41  9.02 13.01 11.42  9.02 11.42  9.02 11.42  9.82  9.02 12.21 10.62  9.02 
##   404   405   406   407   408   409   410   411   412   413   414 
## 15.41 12.21 13.01 13.81  8.22 10.62  8.22 15.41 13.81 12.21 15.41</code></pre>
<div class="sourceCode" id="cb1851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1851-1"><a href="introduction-to-regression.html#cb1851-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the residuals of mdl_price_vs_conv</span></span>
<span id="cb1851-2"><a href="introduction-to-regression.html#cb1851-2" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>##        1        2        3        4        5        6        7        8 
##  -4.7376  -2.6384   2.0970   4.3663   0.8262  -0.9059  -1.6171   1.1174 
##        9       10       11       12       13       14       15       16 
##  -3.3340  -3.9316   3.5042   2.1725  -0.3236  -4.2153  -1.0383   5.4595 
##       17       18       19       20       21       22       23       24 
##   8.1976   2.2939  -1.8101   0.6219  -1.7531   1.8019  -1.5790   0.6824 
##       25       26       27       28       29       30       31       32 
##   0.3232  -1.6510   4.7899  -2.0482   2.8043   5.0622  -1.5374  -6.2465 
##       33       34       35       36       37       38       39       40 
##   1.3256   1.9041   2.8609   0.0360  -2.8915  -1.3672   1.4200   1.7642 
##       41       42       43       44       45       46       47       48 
##  -3.4133  -2.7174  -1.7154  -2.6950   4.8921  -3.0204  -2.6989   7.9897 
##       49       50       51       52       53       54       55       56 
##  -4.1698  -5.0284   1.9571  -2.7591  -2.4490  -0.4446   3.4283  -4.0790 
##       57       58       59       60       61       62       63       64 
##  -1.9311   2.3768  -2.1842   0.6144  -3.3756   6.1098  -2.2372   5.2249 
##       65       66       67       68       69       70       71       72 
##  -0.5692  -1.2049   2.3277   4.9714  -2.0596   0.4934   2.4448   1.7265 
##       73       74       75       76       77       78       79       80 
##  -3.6255  -2.1728   0.2549  -0.0964   0.5162  -2.8726  -0.8038  -1.0042 
##       81       82       83       84       85       86       87       88 
##   0.7771  -1.8781   0.7429  -5.2630  -0.5884  -0.0363  -0.8529  -2.6872 
##       89       90       91       92       93       94       95       96 
##   6.2992  -0.5692   4.7144   4.8469  -4.8205  -3.3528   0.1908   3.4586 
##       97       98       99      100      101      102      103      104 
##   2.5961  -0.1495   3.2165   3.4130   0.1417   0.9323   3.4472   0.8148 
##      105      106      107      108      109      110      111      112 
##  -3.7843   8.4699  -0.3577  -0.9739   0.4973  -2.0254   3.3981  -1.8895 
##      113      114      115      116      117      118      119      120 
##  -3.6291 -10.7132   1.5182   4.2189  -5.3309  -4.2908  -1.3598   5.8186 
##      121      122      123      124      125      126      127      128 
##  -2.7441   2.3088  -1.5830   5.5428   3.5568   1.6923   7.6152   4.4268 
##      129      130      131      132      133      134      135      136 
##   5.3534  -1.4053  -3.2624  -1.3295  -0.8682  -2.6573  -0.2442  -1.9307 
##      137      138      139      140      141      142      143      144 
##   1.9457   1.3292   4.9376   0.6447   3.3376  -1.8741  -0.8682  -0.0815 
##      145      146      147      148      149      150      151      152 
##  -0.4293   1.5524   7.5700  -1.5378   5.4218  -2.5968   0.8639  -1.8820 
##      153      154      155      156      157      158      159      160 
##  -0.2780  -0.6375  -1.9610  -3.5041  -2.6872  -0.6450  -0.2933  -0.1004 
##      161      162      163      164      165      166      167      168 
##   2.8798   1.3634  -4.7144   4.5781   8.4777   0.2364   9.2566  -1.4773 
##      169      170      171      172      173      174      175      176 
##  -0.8984  -1.9119  -3.8672   5.5766   2.1725  -0.7963  -0.1345   0.4254 
##      177      178      179      180      181      182      183      184 
##  -2.4149  -2.6989  -0.3122   3.8672  -3.5344   2.3049  -3.4778  -2.5359 
##      185      186      187      188      189      190      191      192 
##  -1.6282  -4.1132  -2.8424  -1.5677  -1.2049  -2.0215  -1.8101   1.6168 
##      193      194      195      196      197      198      199      200 
##  -0.8910   2.7022   0.6411  -1.7456   1.2537  -0.0249  -1.9802  -5.0476 
##      201      202      203      204      205      206      207      208 
##  -0.5087   1.6734  -1.0875   1.7339  -0.9739  -4.1434  -2.8919  -0.2705 
##      209      210      211      212      213      214      215      216 
##  -1.0949  -2.2337   3.5796   4.1396  -0.4104   2.1422  -4.2947  -0.0552 
##      217      218      219      220      221      222      223      224 
##   2.9898  -0.6678   1.0380  -2.4455   8.2844   3.4248  -1.5303   4.5746 
##      225      226      227      228      229      230      231      232 
##   0.9056   1.8133  -4.3513  -2.4455   5.8756  -2.4754  -0.5126  -3.7764 
##      233      234      235      236      237      238      239      240 
##  -3.7576  -5.6036  -4.1851  -1.9197   2.5242   3.5761   4.0602   0.7621 
##      241      242      243      244      245      246      247      248 
##  -1.1063  -1.2843  -0.5126  -0.0249  -4.0527   0.1303  -0.7283  -1.2348 
##      249      250      251      252      253      254      255      256 
##  -1.4769  -4.4837  -4.7336  -4.0487   0.5386  -1.9838   3.4586  -3.7576 
##      257      258      259      260      261      262      263      264 
##  -1.0042   4.2606   6.1401   0.4898  -2.1276  -3.2357   3.8217  -1.0269 
##      265      266      267      268      269      270      271      272 
##  -1.5264   0.1114  -3.4475   0.2211  -0.0815  -1.2651  26.5299  -6.5907 
##      273      274      275      276      277      278      279      280 
##   0.0395  -0.1570  -1.4053   1.2270  -1.9272  -2.2372   0.3004  -1.2085 
##      281      282      283      284      285      286      287      288 
##   0.7240  -1.8517  -1.2765  -2.7100  -3.4023   6.1137   1.6278  -2.2600 
##      289      290      291      292      293      294      295      296 
##   2.4184   1.2498   2.9709   2.6491  -4.8016  -0.9515  -1.4847  -4.0224 
##      297      298      299      300      301      302      303      304 
##  -1.0989  -2.7933  -3.1713  -2.2565  -0.2517   2.5776  -3.5988   3.3945 
##      305      306      307      308      309      310      311      312 
##  -1.7229   4.4268   6.1668  -0.7507   3.8217  -2.4451  -2.3469   1.3520 
##      313      314      315      316      317      318      319      320 
##   8.1937   0.7354  -0.4257  -1.5602  -1.1028   1.5260  -1.1370  -4.0755 
##      321      322      323      324      325      326      327      328 
##  -2.5964  -0.0096   0.9928  -0.1534  -0.3499  -3.0809   4.9789   0.4859 
##      329      330      331      332      333      334      335      336 
##  -3.4778  -2.4149  -4.3513  -3.5041   2.1614  -0.5959  -5.3160  -1.9688 
##      337      338      339      340      341      342      343      344 
##   0.9512  -2.8652  -4.4236   3.0350   4.7561   1.3748   0.7806  -0.5090 
##      345      346      347      348      349      350      351      352 
##   4.2417   3.2432  -0.5012  -5.6335   3.2354   2.0062   0.5842  -1.9649 
##      353      354      355      356      357      358      359      360 
##  -2.8424  -1.1480   0.0851   6.1515   4.6842  -1.8215   0.6333  -0.7507 
##      361      362      363      364      365      366      367      368 
##  -1.9539   4.5439   0.6863  -1.6816  -3.7957  -2.4907  -1.5185  -3.4966 
##      369      370      371      372      373      374      375      376 
##   4.0185  -3.7198   0.5236   3.4283  -1.2541   6.7719   2.7627  -1.0230 
##      377      378      379      380      381      382      383      384 
##  -0.5920   2.5772  -3.2927   8.0765   3.9124  -1.0953   0.6411   0.7771 
##      385      386      387      388      389      390      391      392 
##  -4.3211  -2.1052   8.5080  -2.8726  -3.1563   5.8752  -3.7277   0.4482 
##      393      394      395      396      397      398      399      400 
##  -2.3319   0.7771  -1.5488   1.4427   0.6297  -1.6737  -2.8612   2.2636 
##      401      402      403      404      405      406      407      408 
##  -1.4733  -2.2372  -0.3990  -3.3949   0.2513  -1.7570  -1.5566  -1.4769 
##      409      410      411      412      413      414 
##  -2.1162  -3.5646  -0.2784  -1.5264   3.6704   3.9274</code></pre>
<div class="sourceCode" id="cb1853"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1853-1"><a href="introduction-to-regression.html#cb1853-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print a summary of mdl_price_vs_conv</span></span>
<span id="cb1853-2"><a href="introduction-to-regression.html#cb1853-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price_twd_msq ~ n_convenience, data = taiwan_real_estate)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -10.713  -2.221  -0.541   1.810  26.530 
## 
## Coefficients:
##               Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept)     8.2242     0.2850    28.9 &lt;0.0000000000000002 ***
## n_convenience   0.7981     0.0565    14.1 &lt;0.0000000000000002 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.38 on 412 degrees of freedom
## Multiple R-squared:  0.326,  Adjusted R-squared:  0.324 
## F-statistic:  199 on 1 and 412 DF,  p-value: &lt;0.0000000000000002</code></pre>
<p>Working with individual pieces of the model is often more useful than working with the whole model object at once.</p>
</div>
<div id="manually-predicting" class="section level4 hasAnchor" number="14.2.2.2">
<h4><span class="header-section-number">14.2.2.2</span> Manually predicting<a href="introduction-to-regression.html#manually-predicting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can manually calculate the predictions from the model coefficients. When making predictions in real life, it is better to use <code>predict()</code>.</p>
<p>simple linear regression: response = intercept + slope * explanatory</p>
<div class="sourceCode" id="cb1855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1855-1"><a href="introduction-to-regression.html#cb1855-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the coefficients of mdl_price_vs_conv</span></span>
<span id="cb1855-2"><a href="introduction-to-regression.html#cb1855-2" aria-hidden="true" tabindex="-1"></a>coeffs <span class="ot">&lt;-</span> <span class="fu">coefficients</span>(mdl_price_vs_conv)</span>
<span id="cb1855-3"><a href="introduction-to-regression.html#cb1855-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1855-4"><a href="introduction-to-regression.html#cb1855-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the intercept</span></span>
<span id="cb1855-5"><a href="introduction-to-regression.html#cb1855-5" aria-hidden="true" tabindex="-1"></a>intercept <span class="ot">&lt;-</span> coeffs[<span class="dv">1</span>]</span>
<span id="cb1855-6"><a href="introduction-to-regression.html#cb1855-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1855-7"><a href="introduction-to-regression.html#cb1855-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the slope</span></span>
<span id="cb1855-8"><a href="introduction-to-regression.html#cb1855-8" aria-hidden="true" tabindex="-1"></a>slope <span class="ot">&lt;-</span> coeffs[<span class="dv">2</span>]</span>
<span id="cb1855-9"><a href="introduction-to-regression.html#cb1855-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1855-10"><a href="introduction-to-regression.html#cb1855-10" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1855-11"><a href="introduction-to-regression.html#cb1855-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1855-12"><a href="introduction-to-regression.html#cb1855-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Manually calculate the predictions</span></span>
<span id="cb1855-13"><a href="introduction-to-regression.html#cb1855-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_twd_msq =</span> intercept <span class="sc">+</span> slope <span class="sc">*</span> n_convenience</span>
<span id="cb1855-14"><a href="introduction-to-regression.html#cb1855-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 11 × 2
##    n_convenience price_twd_msq
##            &lt;int&gt;         &lt;dbl&gt;
##  1             0          8.22
##  2             1          9.02
##  3             2          9.82
##  4             3         10.6 
##  5             4         11.4 
##  6             5         12.2 
##  7             6         13.0 
##  8             7         13.8 
##  9             8         14.6 
## 10             9         15.4 
## 11            10         16.2</code></pre>
<div class="sourceCode" id="cb1857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1857-1"><a href="introduction-to-regression.html#cb1857-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare to the results from predict()</span></span>
<span id="cb1857-2"><a href="introduction-to-regression.html#cb1857-2" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(mdl_price_vs_conv, explanatory_data)</span></code></pre></div>
<pre><code>##     1     2     3     4     5     6     7     8     9    10    11 
##  8.22  9.02  9.82 10.62 11.42 12.21 13.01 13.81 14.61 15.41 16.21</code></pre>
</div>
<div id="using-broom" class="section level4 hasAnchor" number="14.2.2.3">
<h4><span class="header-section-number">14.2.2.3</span> Using broom<a href="introduction-to-regression.html#using-broom" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb1859"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1859-1"><a href="introduction-to-regression.html#cb1859-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1859-2"><a href="introduction-to-regression.html#cb1859-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1859-3"><a href="introduction-to-regression.html#cb1859-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the coefficient-level elements of the model</span></span>
<span id="cb1859-4"><a href="introduction-to-regression.html#cb1859-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   term          estimate std.error statistic   p.value
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)      8.22     0.285       28.9 5.81e-101
## 2 n_convenience    0.798    0.0565      14.1 3.41e- 37</code></pre>
<div class="sourceCode" id="cb1861"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1861-1"><a href="introduction-to-regression.html#cb1861-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the observation-level elements of the model</span></span>
<span id="cb1861-2"><a href="introduction-to-regression.html#cb1861-2" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>## # A tibble: 414 × 8
##    price_twd_msq n_convenience .fitted .resid    .hat .sigma  .cooksd .std.resid
##            &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
##  1         11.5             10   16.2  -4.74  0.0121    3.38  1.22e-2     -1.41 
##  2         12.8              9   15.4  -2.64  0.00913   3.39  2.83e-3     -0.783
##  3         14.3              5   12.2   2.10  0.00264   3.39  5.10e-4      0.621
##  4         16.6              5   12.2   4.37  0.00264   3.38  2.21e-3      1.29 
##  5         13.0              5   12.2   0.826 0.00264   3.39  7.92e-5      0.244
##  6          9.71             3   10.6  -0.906 0.00275   3.39  9.91e-5     -0.268
##  7         12.2              7   13.8  -1.62  0.00477   3.39  5.50e-4     -0.479
##  8         14.1              6   13.0   1.12  0.00343   3.39  1.88e-4      0.331
##  9          5.69             1    9.02 -3.33  0.00509   3.38  2.49e-3     -0.988
## 10          6.69             3   10.6  -3.93  0.00275   3.38  1.87e-3     -1.16 
## # ℹ 404 more rows</code></pre>
<div class="sourceCode" id="cb1863"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1863-1"><a href="introduction-to-regression.html#cb1863-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the model-level elements of the model</span></span>
<span id="cb1863-2"><a href="introduction-to-regression.html#cb1863-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(mdl_price_vs_conv)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     0.326         0.324  3.38      199. 3.41e-37     1 -1091. 2188. 2200.
## # ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<div id="regression-to-the-mean" class="section level3 hasAnchor" number="14.2.3">
<h3><span class="header-section-number">14.2.3</span> Regression to the mean<a href="introduction-to-regression.html#regression-to-the-mean" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Response value = fitted value + residual</p>
<ul>
<li>“The stuff you explained” + “the stuff you couldn’t explain”</li>
</ul></li>
<li><p>Residuals exist due to problems in the model and fundamental randomness</p></li>
<li><p>Extreme cases are often due to randomness</p></li>
<li><p>Regression to the mean means <em>extreme cases don’t persist over time</em></p></li>
</ul>
<div id="plotting-1" class="section level4 hasAnchor" number="14.2.3.1">
<h4><span class="header-section-number">14.2.3.1</span> Plotting<a href="introduction-to-regression.html#plotting-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Here you’ll look at the annual returns from investing in companies in the Standard and Poor 500 index (S&amp;P 500), in 2018 and 2019.</p>
<table>
<thead>
<tr class="header">
<th>variable</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>symbol</td>
<td>Stock ticker symbol uniquely identifying the company.</td>
</tr>
<tr class="even">
<td>return_2018</td>
<td>A measure of investment performance in 2018.</td>
</tr>
<tr class="odd">
<td>return_2019</td>
<td>A measure of investment performance in 2019.</td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>A positive number for the return means the investment increased in value; negative means it lost value.</p>
<p>A naive prediction might be that the investment performance stays the same from year to year, lying on the “y equals x” line.</p>
<div class="sourceCode" id="cb1865"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1865-1"><a href="introduction-to-regression.html#cb1865-1" aria-hidden="true" tabindex="-1"></a>sp500_yearly_returns <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;data/sp500_yearly_returns.txt&quot;</span>)</span>
<span id="cb1865-2"><a href="introduction-to-regression.html#cb1865-2" aria-hidden="true" tabindex="-1"></a>sp500_yearly_returns</span></code></pre></div>
<pre><code>## # A tibble: 384 × 3
##    symbol return_2018 return_2019
##    &lt;chr&gt;        &lt;dbl&gt;       &lt;dbl&gt;
##  1 MSFT        0.208        0.576
##  2 AAPL       -0.0539       0.890
##  3 AMZN        0.284        0.230
##  4 FB         -0.257        0.566
##  5 GOOG       -0.0103       0.291
##  6 JNJ        -0.0513       0.162
##  7 V           0.165        0.433
##  8 JPM        -0.0662       0.473
##  9 INTC        0.0423       0.307
## 10 MA          0.253        0.592
## # ℹ 374 more rows</code></pre>
<p><code>geom_abline()</code>: ab means a and b in the syntax of a line: y = a + b*x</p>
<div class="sourceCode" id="cb1867"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1867-1"><a href="introduction-to-regression.html#cb1867-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using sp500_yearly_returns, plot return_2019 vs. return_2018</span></span>
<span id="cb1867-2"><a href="introduction-to-regression.html#cb1867-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sp500_yearly_returns, <span class="fu">aes</span>(return_2018, return_2019)) <span class="sc">+</span></span>
<span id="cb1867-3"><a href="introduction-to-regression.html#cb1867-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it a scatter plot</span></span>
<span id="cb1867-4"><a href="introduction-to-regression.html#cb1867-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1867-5"><a href="introduction-to-regression.html#cb1867-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a line at y = x, colored green, size 1</span></span>
<span id="cb1867-6"><a href="introduction-to-regression.html#cb1867-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">color =</span> <span class="st">&quot;green&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb1867-7"><a href="introduction-to-regression.html#cb1867-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a linear regression trend line, no std. error ribbon</span></span>
<span id="cb1867-8"><a href="introduction-to-regression.html#cb1867-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1867-9"><a href="introduction-to-regression.html#cb1867-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fix the coordinate ratio, so distances along the x and y axes appear same.</span></span>
<span id="cb1867-10"><a href="introduction-to-regression.html#cb1867-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-659-1.png" width="672" /></p>
<p>The regression trend line looks very different to the y equals x line. As the financial advisors say, <em>“Past performance is no guarantee of future results.”</em></p>
</div>
<div id="modeling" class="section level4 hasAnchor" number="14.2.3.2">
<h4><span class="header-section-number">14.2.3.2</span> Modeling<a href="introduction-to-regression.html#modeling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s quantify the relationship between returns in 2019 and 2018 by running a linear regression and making predictions.</p>
<p>By looking at companies with extremely high or extremely low returns in 2018, we can see if their performance was similar in 2019.</p>
<div class="sourceCode" id="cb1869"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1869-1"><a href="introduction-to-regression.html#cb1869-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run a linear regression on return_2019 vs. return_2018 using sp500_yearly_returns</span></span>
<span id="cb1869-2"><a href="introduction-to-regression.html#cb1869-2" aria-hidden="true" tabindex="-1"></a>mdl_returns <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb1869-3"><a href="introduction-to-regression.html#cb1869-3" aria-hidden="true" tabindex="-1"></a>  return_2019 <span class="sc">~</span> return_2018, </span>
<span id="cb1869-4"><a href="introduction-to-regression.html#cb1869-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> sp500_yearly_returns</span>
<span id="cb1869-5"><a href="introduction-to-regression.html#cb1869-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1869-6"><a href="introduction-to-regression.html#cb1869-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1869-7"><a href="introduction-to-regression.html#cb1869-7" aria-hidden="true" tabindex="-1"></a>mdl_returns</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = return_2019 ~ return_2018, data = sp500_yearly_returns)
## 
## Coefficients:
## (Intercept)  return_2018  
##      0.3113       0.0469</code></pre>
<div class="sourceCode" id="cb1871"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1871-1"><a href="introduction-to-regression.html#cb1871-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with return_2018 at -1, 0, and 1 </span></span>
<span id="cb1871-2"><a href="introduction-to-regression.html#cb1871-2" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">return_2018 =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb1871-3"><a href="introduction-to-regression.html#cb1871-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1871-4"><a href="introduction-to-regression.html#cb1871-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use mdl_returns to predict with explanatory_data</span></span>
<span id="cb1871-5"><a href="introduction-to-regression.html#cb1871-5" aria-hidden="true" tabindex="-1"></a>predict_invest <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span></span>
<span id="cb1871-6"><a href="introduction-to-regression.html#cb1871-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predict_return_2019 =</span> <span class="fu">predict</span>(mdl_returns, explanatory_data))</span>
<span id="cb1871-7"><a href="introduction-to-regression.html#cb1871-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1871-8"><a href="introduction-to-regression.html#cb1871-8" aria-hidden="true" tabindex="-1"></a>predict_invest</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   return_2018 predict_return_2019
##         &lt;dbl&gt;               &lt;dbl&gt;
## 1          -1               0.264
## 2           0               0.311
## 3           1               0.358</code></pre>
<p>Investments that gained a lot in value in 2018 on average gained only a small amount in 2019. Similarly, investments that lost a lot of value in 2018 on average also gained a small amount in 2019.</p>
</div>
</div>
<div id="transforming-variables" class="section level3 hasAnchor" number="14.2.4">
<h3><span class="header-section-number">14.2.4</span> Transforming variables<a href="introduction-to-regression.html#transforming-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="transform-explanatory-variable" class="section level4 hasAnchor" number="14.2.4.1">
<h4><span class="header-section-number">14.2.4.1</span> Transform explanatory variable<a href="introduction-to-regression.html#transform-explanatory-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If there is no straight line relationship between the response variable and the explanatory variable, it is sometimes possible to create one by transforming one or both of the variables.</p>
<p>You’ll take another look at <code>taiwan_real_estate</code>, this time using the distance to the nearest MRT (metro) station as the explanatory variable. Shortening the distance to the metro station by taking the square root.</p>
<div class="sourceCode" id="cb1873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1873-1"><a href="introduction-to-regression.html#cb1873-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the code to see the plot</span></span>
<span id="cb1873-2"><a href="introduction-to-regression.html#cb1873-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(dist_to_mrt_m, price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1873-3"><a href="introduction-to-regression.html#cb1873-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1873-4"><a href="introduction-to-regression.html#cb1873-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-662-1.png" width="672" /></p>
<p>Notice how the numbers on the x-axis have changed.</p>
<div class="sourceCode" id="cb1875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1875-1"><a href="introduction-to-regression.html#cb1875-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit so x-axis is square root of dist_to_mrt_m</span></span>
<span id="cb1875-2"><a href="introduction-to-regression.html#cb1875-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(<span class="fu">sqrt</span>(dist_to_mrt_m), price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1875-3"><a href="introduction-to-regression.html#cb1875-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1875-4"><a href="introduction-to-regression.html#cb1875-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-663-1.png" width="672" /></p>
<div class="sourceCode" id="cb1877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1877-1"><a href="introduction-to-regression.html#cb1877-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run a linear regression of price_twd_msq vs. square root of dist_to_mrt_m using taiwan_real_estate</span></span>
<span id="cb1877-2"><a href="introduction-to-regression.html#cb1877-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_dist <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb1877-3"><a href="introduction-to-regression.html#cb1877-3" aria-hidden="true" tabindex="-1"></a>    price_twd_msq <span class="sc">~</span> <span class="fu">sqrt</span>(dist_to_mrt_m),</span>
<span id="cb1877-4"><a href="introduction-to-regression.html#cb1877-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> taiwan_real_estate</span>
<span id="cb1877-5"><a href="introduction-to-regression.html#cb1877-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1877-6"><a href="introduction-to-regression.html#cb1877-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1877-7"><a href="introduction-to-regression.html#cb1877-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1877-8"><a href="introduction-to-regression.html#cb1877-8" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_dist</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price_twd_msq ~ sqrt(dist_to_mrt_m), data = taiwan_real_estate)
## 
## Coefficients:
##         (Intercept)  sqrt(dist_to_mrt_m)  
##              16.710               -0.183</code></pre>
<div class="sourceCode" id="cb1879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1879-1"><a href="introduction-to-regression.html#cb1879-1" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1879-2"><a href="introduction-to-regression.html#cb1879-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">dist_to_mrt_m =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">80</span>, <span class="dv">10</span>) <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb1879-3"><a href="introduction-to-regression.html#cb1879-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1879-4"><a href="introduction-to-regression.html#cb1879-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1879-5"><a href="introduction-to-regression.html#cb1879-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Use mdl_price_vs_dist to predict explanatory_data</span></span>
<span id="cb1879-6"><a href="introduction-to-regression.html#cb1879-6" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span></span>
<span id="cb1879-7"><a href="introduction-to-regression.html#cb1879-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_twd_msq =</span> <span class="fu">predict</span>(mdl_price_vs_dist, explanatory_data))</span>
<span id="cb1879-8"><a href="introduction-to-regression.html#cb1879-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1879-9"><a href="introduction-to-regression.html#cb1879-9" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1879-10"><a href="introduction-to-regression.html#cb1879-10" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   dist_to_mrt_m price_twd_msq
##           &lt;dbl&gt;         &lt;dbl&gt;
## 1             0         16.7 
## 2           100         14.9 
## 3           400         13.1 
## 4           900         11.2 
## 5          1600          9.40
## 6          2500          7.57
## 7          3600          5.74
## 8          4900          3.91
## 9          6400          2.08</code></pre>
<div class="sourceCode" id="cb1881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1881-1"><a href="introduction-to-regression.html#cb1881-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(taiwan_real_estate, <span class="fu">aes</span>(<span class="fu">sqrt</span>(dist_to_mrt_m), price_twd_msq)) <span class="sc">+</span></span>
<span id="cb1881-2"><a href="introduction-to-regression.html#cb1881-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1881-3"><a href="introduction-to-regression.html#cb1881-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1881-4"><a href="introduction-to-regression.html#cb1881-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add points from prediction_data, colored green, size 5</span></span>
<span id="cb1881-5"><a href="introduction-to-regression.html#cb1881-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> prediction_data, <span class="at">color =</span> <span class="st">&quot;green&quot;</span>, <span class="at">size =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-666-1.png" width="672" /></p>
<p>By transforming the explanatory variable, the relationship with the response variable became linear, and so a linear regression became an appropriate model.</p>
</div>
<div id="transform-response-variable" class="section level4 hasAnchor" number="14.2.4.2">
<h4><span class="header-section-number">14.2.4.2</span> Transform response variable<a href="introduction-to-regression.html#transform-response-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The response variable can be transformed too, but this means you need an extra step at the end to undo that transformation.</p>
<p>Undoing the transformation of the response is called <em>backtransformation</em> the predictions.</p>
<p>Determining how many people click on the advert after seeing it in <code>ad_conversion</code>.</p>
<div class="sourceCode" id="cb1883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1883-1"><a href="introduction-to-regression.html#cb1883-1" aria-hidden="true" tabindex="-1"></a>ad_conversion <span class="ot">&lt;-</span> <span class="fu">read_fst</span>(<span class="st">&quot;data/ad_conversion.fst&quot;</span>)</span>
<span id="cb1883-2"><a href="introduction-to-regression.html#cb1883-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(ad_conversion)</span></code></pre></div>
<pre><code>## Rows: 936
## Columns: 3
## $ spent_usd     &lt;dbl&gt; 1.43, 1.82, 1.25, 1.29, 4.77, 1.27, 1.50, 3.16, 10.28, 0…
## $ n_impressions &lt;dbl&gt; 7350, 17861, 4259, 4133, 15615, 10951, 2355, 9502, 14669…
## $ n_clicks      &lt;dbl&gt; 1, 2, 1, 1, 3, 1, 1, 3, 7, 1, 1, 4, 2, 2, 2, 2, 4, 2, 7,…</code></pre>
<div class="sourceCode" id="cb1885"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1885-1"><a href="introduction-to-regression.html#cb1885-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the code to see the plot</span></span>
<span id="cb1885-2"><a href="introduction-to-regression.html#cb1885-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ad_conversion, <span class="fu">aes</span>(n_impressions, n_clicks)) <span class="sc">+</span></span>
<span id="cb1885-3"><a href="introduction-to-regression.html#cb1885-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1885-4"><a href="introduction-to-regression.html#cb1885-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-668-1.png" width="672" /></p>
<div class="sourceCode" id="cb1887"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1887-1"><a href="introduction-to-regression.html#cb1887-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit to raise x, y aesthetics to power 0.25</span></span>
<span id="cb1887-2"><a href="introduction-to-regression.html#cb1887-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ad_conversion, <span class="fu">aes</span>(n_impressions <span class="sc">^</span> <span class="fl">0.25</span>, n_clicks <span class="sc">^</span> <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb1887-3"><a href="introduction-to-regression.html#cb1887-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1887-4"><a href="introduction-to-regression.html#cb1887-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-669-1.png" width="672" /></p>
<p>Each variable in the formula needs to be specified “as is”, using <code>I()</code>.</p>
<div class="sourceCode" id="cb1889"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1889-1"><a href="introduction-to-regression.html#cb1889-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run a linear regression of n_clicks to the power 0.25 vs. n_impressions to the power 0.25 using ad_conversion</span></span>
<span id="cb1889-2"><a href="introduction-to-regression.html#cb1889-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb1889-3"><a href="introduction-to-regression.html#cb1889-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(n_clicks<span class="sc">^</span><span class="fl">0.25</span>) <span class="sc">~</span> <span class="fu">I</span>(n_impressions<span class="sc">^</span><span class="fl">0.25</span>),</span>
<span id="cb1889-4"><a href="introduction-to-regression.html#cb1889-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> ad_conversion</span>
<span id="cb1889-5"><a href="introduction-to-regression.html#cb1889-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1889-6"><a href="introduction-to-regression.html#cb1889-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1889-7"><a href="introduction-to-regression.html#cb1889-7" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = I(n_clicks^0.25) ~ I(n_impressions^0.25), data = ad_conversion)
## 
## Coefficients:
##           (Intercept)  I(n_impressions^0.25)  
##                0.0717                 0.1115</code></pre>
<p>Back transform by raising <code>n_clicks_025</code> to the power 4 to get <code>n_clicks</code>.</p>
<div class="sourceCode" id="cb1891"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1891-1"><a href="introduction-to-regression.html#cb1891-1" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1891-2"><a href="introduction-to-regression.html#cb1891-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_impressions =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">3e6</span>, <span class="fl">5e5</span>)</span>
<span id="cb1891-3"><a href="introduction-to-regression.html#cb1891-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1891-4"><a href="introduction-to-regression.html#cb1891-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1891-5"><a href="introduction-to-regression.html#cb1891-5" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1891-6"><a href="introduction-to-regression.html#cb1891-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1891-7"><a href="introduction-to-regression.html#cb1891-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use mdl_click_vs_impression to predict n_clicks ^ 0.25</span></span>
<span id="cb1891-8"><a href="introduction-to-regression.html#cb1891-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_clicks_025 =</span> <span class="fu">predict</span>(mdl_click_vs_impression, explanatory_data),</span>
<span id="cb1891-9"><a href="introduction-to-regression.html#cb1891-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Back transform to get n_clicks</span></span>
<span id="cb1891-10"><a href="introduction-to-regression.html#cb1891-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_clicks =</span> n_clicks_025 <span class="sc">^</span> <span class="dv">4</span></span>
<span id="cb1891-11"><a href="introduction-to-regression.html#cb1891-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1891-12"><a href="introduction-to-regression.html#cb1891-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1891-13"><a href="introduction-to-regression.html#cb1891-13" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 7 × 3
##   n_impressions n_clicks_025    n_clicks
##           &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
## 1             0       0.0717   0.0000265
## 2        500000       3.04    85.1      
## 3       1000000       3.60   168.       
## 4       1500000       3.97   250.       
## 5       2000000       4.27   331.       
## 6       2500000       4.51   413.       
## 7       3000000       4.71   494.</code></pre>
<div class="sourceCode" id="cb1893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1893-1"><a href="introduction-to-regression.html#cb1893-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ad_conversion, <span class="fu">aes</span>(n_impressions <span class="sc">^</span> <span class="fl">0.25</span>, n_clicks <span class="sc">^</span> <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb1893-2"><a href="introduction-to-regression.html#cb1893-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1893-3"><a href="introduction-to-regression.html#cb1893-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1893-4"><a href="introduction-to-regression.html#cb1893-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add points from prediction_data, colored green</span></span>
<span id="cb1893-5"><a href="introduction-to-regression.html#cb1893-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> prediction_data,  <span class="at">color =</span> <span class="st">&quot;green&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-672-1.png" width="672" /></p>
<hr />
</div>
</div>
</div>
<div id="assessing-model-fit" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Assessing model fit<a href="introduction-to-regression.html#assessing-model-fit" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="quantifying-model-fit" class="section level3 hasAnchor" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Quantifying model fit<a href="introduction-to-regression.html#quantifying-model-fit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Metrics to know whether or not predictions from your model are nonsense:</p>
<ul>
<li><p>r-squared / Coefficient of determination</p>
<ul>
<li><p>The proportion of the variance in the response variable that is predictable from the</p>
<p>explanatory variable.</p></li>
<li><p>0 = perfect fit ~ 1 = worst possible fit</p></li>
<li><p>Is correlation squared</p></li>
</ul></li>
<li><p>Residual standard error (RSE)</p>
<ul>
<li><p>A “typical” di(erence between a prediction and an observed response.</p></li>
<li><p>It has the same unit as the response variable.</p></li>
</ul></li>
<li><p>Root-mean-square error (RMSE)</p>
<ul>
<li><p>It performs the same task as RSE, namely quantifying how inaccurate the model predictions are, but is worse for comparisons between models.</p></li>
<li><p>You need to be aware that RMSE exists, but typically you should use RSE instead.</p></li>
</ul></li>
</ul>
<div id="coefficient-of-determination" class="section level4 hasAnchor" number="14.3.1.1">
<h4><span class="header-section-number">14.3.1.1</span> Coefficient of determination<a href="introduction-to-regression.html#coefficient-of-determination" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The coefficient of determination is a measure of how well the linear regression line fits the observed values. For simple linear regression, it is equal to the square of the correlation between the explanatory and response variables.</p>
<div class="sourceCode" id="cb1895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1895-1"><a href="introduction-to-regression.html#cb1895-1" aria-hidden="true" tabindex="-1"></a><span class="co"># modeling the click response to impressions</span></span>
<span id="cb1895-2"><a href="introduction-to-regression.html#cb1895-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_orig <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> n_clicks <span class="sc">~</span> n_impressions, <span class="at">data =</span> ad_conversion)</span>
<span id="cb1895-3"><a href="introduction-to-regression.html#cb1895-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1895-4"><a href="introduction-to-regression.html#cb1895-4" aria-hidden="true" tabindex="-1"></a><span class="co"># modeling the click response to impressions, with transform</span></span>
<span id="cb1895-5"><a href="introduction-to-regression.html#cb1895-5" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_trans <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> <span class="fu">I</span>(n_clicks<span class="sc">^</span><span class="fl">0.25</span>) <span class="sc">~</span> <span class="fu">I</span>(n_impressions<span class="sc">^</span><span class="fl">0.25</span>), <span class="at">data =</span> ad_conversion)</span></code></pre></div>
<div class="sourceCode" id="cb1896"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1896-1"><a href="introduction-to-regression.html#cb1896-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print a summary of mdl_click_vs_impression_orig</span></span>
<span id="cb1896-2"><a href="introduction-to-regression.html#cb1896-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mdl_click_vs_impression_orig)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = n_clicks ~ n_impressions, data = ad_conversion)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -186.10   -5.39   -1.42    2.07  119.88 
## 
## Coefficients:
##                 Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept)   1.68289597 0.78881511    2.13               0.033 *  
## n_impressions 0.00017183 0.00000196   87.65 &lt;0.0000000000000002 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 19.9 on 934 degrees of freedom
## Multiple R-squared:  0.892,  Adjusted R-squared:  0.891 
## F-statistic: 7.68e+03 on 1 and 934 DF,  p-value: &lt;0.0000000000000002</code></pre>
<div class="sourceCode" id="cb1898"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1898-1"><a href="introduction-to-regression.html#cb1898-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print a summary of mdl_click_vs_impression_trans</span></span>
<span id="cb1898-2"><a href="introduction-to-regression.html#cb1898-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mdl_click_vs_impression_trans)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = I(n_clicks^0.25) ~ I(n_impressions^0.25), data = ad_conversion)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.5706 -0.1323  0.0058  0.1449  0.4689 
## 
## Coefficients:
##                       Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept)           0.071748   0.017202    4.17             0.000033 ***
## I(n_impressions^0.25) 0.111533   0.000884  126.11 &lt; 0.0000000000000002 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.197 on 934 degrees of freedom
## Multiple R-squared:  0.945,  Adjusted R-squared:  0.944 
## F-statistic: 1.59e+04 on 1 and 934 DF,  p-value: &lt;0.0000000000000002</code></pre>
<p>Use <code>dplyr</code>’s <code>pull()</code> function to pull out specific value.</p>
<p>Get the coefficient of determination by <em>glancing</em> at the model, then <em>pulling</em> the <code>r.squared</code> value.</p>
<div class="sourceCode" id="cb1900"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1900-1"><a href="introduction-to-regression.html#cb1900-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get coeff of determination for mdl_click_vs_impression_orig</span></span>
<span id="cb1900-2"><a href="introduction-to-regression.html#cb1900-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_orig <span class="sc">%&gt;%</span> </span>
<span id="cb1900-3"><a href="introduction-to-regression.html#cb1900-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the model-level details</span></span>
<span id="cb1900-4"><a href="introduction-to-regression.html#cb1900-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1900-5"><a href="introduction-to-regression.html#cb1900-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pull out r.squared</span></span>
<span id="cb1900-6"><a href="introduction-to-regression.html#cb1900-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(r.squared)</span></code></pre></div>
<pre><code>## [1] 0.892</code></pre>
<div class="sourceCode" id="cb1902"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1902-1"><a href="introduction-to-regression.html#cb1902-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same for the transformed model</span></span>
<span id="cb1902-2"><a href="introduction-to-regression.html#cb1902-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_trans <span class="sc">%&gt;%</span> </span>
<span id="cb1902-3"><a href="introduction-to-regression.html#cb1902-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the model-level details</span></span>
<span id="cb1902-4"><a href="introduction-to-regression.html#cb1902-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1902-5"><a href="introduction-to-regression.html#cb1902-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pull out r.squared</span></span>
<span id="cb1902-6"><a href="introduction-to-regression.html#cb1902-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(r.squared)</span></code></pre></div>
<pre><code>## [1] 0.945</code></pre>
<p>The number of impressions explains 89% of the variability in the number of clicks.</p>
<p>The transformed model has a higher coefficient of determination that the original model, suggesting that it gives a better fit to the data.</p>
</div>
<div id="residual-standard-error" class="section level4 hasAnchor" number="14.3.1.2">
<h4><span class="header-section-number">14.3.1.2</span> Residual standard error<a href="introduction-to-regression.html#residual-standard-error" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Residual standard error (RSE) is a measure of the typical size of the residuals. Equivalently, it’s a measure of how badly wrong you can expect predictions to be.</p>
<p>Smaller numbers are better, with zero being a perfect fit to the data.</p>
<div class="sourceCode" id="cb1904"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1904-1"><a href="introduction-to-regression.html#cb1904-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get RSE for mdl_click_vs_impression_orig</span></span>
<span id="cb1904-2"><a href="introduction-to-regression.html#cb1904-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_orig <span class="sc">%&gt;%</span> </span>
<span id="cb1904-3"><a href="introduction-to-regression.html#cb1904-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the model-level details</span></span>
<span id="cb1904-4"><a href="introduction-to-regression.html#cb1904-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1904-5"><a href="introduction-to-regression.html#cb1904-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pull out sigma</span></span>
<span id="cb1904-6"><a href="introduction-to-regression.html#cb1904-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sigma)</span></code></pre></div>
<pre><code>## [1] 19.9</code></pre>
<div class="sourceCode" id="cb1906"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1906-1"><a href="introduction-to-regression.html#cb1906-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same for the transformed model</span></span>
<span id="cb1906-2"><a href="introduction-to-regression.html#cb1906-2" aria-hidden="true" tabindex="-1"></a>mdl_click_vs_impression_trans <span class="sc">%&gt;%</span> </span>
<span id="cb1906-3"><a href="introduction-to-regression.html#cb1906-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the model-level details</span></span>
<span id="cb1906-4"><a href="introduction-to-regression.html#cb1906-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1906-5"><a href="introduction-to-regression.html#cb1906-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pull out sigma</span></span>
<span id="cb1906-6"><a href="introduction-to-regression.html#cb1906-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sigma)</span></code></pre></div>
<pre><code>## [1] 0.197</code></pre>
<p>The typical difference between predicted number of clicks and observed number of clicks is <code>20</code>.</p>
<p>RSE is a measure of accuracy for regression models, so you can compare accuracy across different classes of models.</p>
</div>
</div>
<div id="visualizing-model-fit" class="section level3 hasAnchor" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Visualizing model fit<a href="introduction-to-regression.html#visualizing-model-fit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Hoped for properties of residuals</strong></p>
<ul>
<li><p>Residuals are normally distributed</p></li>
<li><p>The mean of the residuals is zero</p></li>
</ul>
<p><strong>Diagnostic plots</strong></p>
<ul>
<li><p>Residuals vs. fitted values</p>
<ul>
<li>In a good model, the residuals should have a trend line close to zero.</li>
</ul></li>
<li><p>Q-Q plot</p>
<ul>
<li><p>Shows whether or not the residuals follow a normal distribution.</p></li>
<li><p>If the residuals from the model are normally distributed, then the points will track the line on the Q-Q plot.</p></li>
</ul></li>
<li><p>Scale-location</p>
<ul>
<li><p>Show the size of residuals versus fitted values.</p></li>
<li><p>In a good model, the size of the residuals shouldn’t change much as the fitted values change.</p></li>
</ul></li>
</ul>
<div id="drawing-diagnostic-plots" class="section level4 hasAnchor" number="14.3.2.1">
<h4><span class="header-section-number">14.3.2.1</span> Drawing diagnostic plots<a href="introduction-to-regression.html#drawing-diagnostic-plots" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>autoplot(model, which = int)</code> lets you specify which diagnostic plots you are interested in.</p>
<ul>
<li><p><code>1</code> residuals vs. fitted values</p></li>
<li><p><code>2</code> Q-Q plot</p></li>
<li><p><code>3</code> scale-location</p></li>
</ul>
<p>These three diagnostic plots are excellent for sanity-checking the quality of your models.</p>
<div class="sourceCode" id="cb1908"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1908-1"><a href="introduction-to-regression.html#cb1908-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfortify)</span></code></pre></div>
<pre><code>## Warning: package &#39;ggfortify&#39; was built under R version 4.3.2</code></pre>
<div class="sourceCode" id="cb1910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1910-1"><a href="introduction-to-regression.html#cb1910-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the three diagnostics for mdl_price_vs_conv</span></span>
<span id="cb1910-2"><a href="introduction-to-regression.html#cb1910-2" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(mdl_price_vs_conv, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-677-1.png" width="672" /></p>
</div>
</div>
<div id="outliers-leverage-influence" class="section level3 hasAnchor" number="14.3.3">
<h3><span class="header-section-number">14.3.3</span> Outliers, leverage, influence<a href="introduction-to-regression.html#outliers-leverage-influence" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Leverage and influence are important concepts for determining your model is overly affected by some unusual data points.</p>
<p><strong>Leverage</strong></p>
<ul>
<li><p>A measure of how extreme the explanatory variable values are.</p></li>
<li><p>Highly leveraged points are the ones with explanatory variables that are furthest away from the others.</p></li>
<li><p>The <code>.hat</code> column (in augment()) or <code>hatvalues()</code></p></li>
</ul>
<p><strong>Influence</strong></p>
<ul>
<li><p>Measures how much the model would change if you left the observation out of the dataset when modeling.</p>
<ul>
<li>It measures how different the prediction line would look if you ran a linear regression on all data points except that point, compared to running a linear regression on the whole dataset.</li>
</ul></li>
<li><p><em>Cook’s distance</em> is the standard metric for influence</p>
<ul>
<li><p>which calculates influence based on the size of the residual and the leverage of the point.</p></li>
<li><p><code>cooks.distance()</code> or <code>.cooksd</code> column.</p></li>
</ul></li>
</ul>
<p><strong>Outlier diagnostic plots</strong></p>
<ul>
<li><code>autoplot(model, which = 4:6)</code></li>
</ul>
<div id="extracting-leverage-influence" class="section level4 hasAnchor" number="14.3.3.1">
<h4><span class="header-section-number">14.3.3.1</span> Extracting leverage &amp; influence<a href="introduction-to-regression.html#extracting-leverage-influence" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now you’ll extract those values from an augmented version of the model.</p>
<div class="sourceCode" id="cb1911"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1911-1"><a href="introduction-to-regression.html#cb1911-1" aria-hidden="true" tabindex="-1"></a><span class="co"># leverage</span></span>
<span id="cb1911-2"><a href="introduction-to-regression.html#cb1911-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_dist <span class="sc">%&gt;%</span> </span>
<span id="cb1911-3"><a href="introduction-to-regression.html#cb1911-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Augment the model</span></span>
<span id="cb1911-4"><a href="introduction-to-regression.html#cb1911-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1911-5"><a href="introduction-to-regression.html#cb1911-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange rows by descending leverage</span></span>
<span id="cb1911-6"><a href="introduction-to-regression.html#cb1911-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(.hat)) <span class="sc">%&gt;%</span> </span>
<span id="cb1911-7"><a href="introduction-to-regression.html#cb1911-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the head of the dataset</span></span>
<span id="cb1911-8"><a href="introduction-to-regression.html#cb1911-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##   price_twd_msq `sqrt(dist_to_mrt_m)` .fitted .resid   .hat .sigma   .cooksd
##           &lt;dbl&gt;                 &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1          3.39                  80.5    1.98  1.41  0.0267   2.82 0.00351  
## 2          3.69                  80.0    2.09  1.60  0.0261   2.82 0.00447  
## 3          4.54                  79.4    2.19  2.35  0.0256   2.82 0.00937  
## 4          5.69                  74.2    3.13  2.55  0.0211   2.82 0.00906  
## 5          5.26                  74.2    3.13  2.13  0.0211   2.82 0.00630  
## 6          4.05                  67.9    4.30 -0.247 0.0163   2.82 0.0000644
## # ℹ 1 more variable: .std.resid &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb1913"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1913-1"><a href="introduction-to-regression.html#cb1913-1" aria-hidden="true" tabindex="-1"></a><span class="co"># influence, cook distance</span></span>
<span id="cb1913-2"><a href="introduction-to-regression.html#cb1913-2" aria-hidden="true" tabindex="-1"></a>mdl_price_vs_dist <span class="sc">%&gt;%</span> </span>
<span id="cb1913-3"><a href="introduction-to-regression.html#cb1913-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Augment the model</span></span>
<span id="cb1913-4"><a href="introduction-to-regression.html#cb1913-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1913-5"><a href="introduction-to-regression.html#cb1913-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange rows by descending Cook&#39;s distance</span></span>
<span id="cb1913-6"><a href="introduction-to-regression.html#cb1913-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(.cooksd)) <span class="sc">%&gt;%</span> </span>
<span id="cb1913-7"><a href="introduction-to-regression.html#cb1913-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the head of the dataset</span></span>
<span id="cb1913-8"><a href="introduction-to-regression.html#cb1913-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##   price_twd_msq `sqrt(dist_to_mrt_m)` .fitted .resid    .hat .sigma .cooksd
##           &lt;dbl&gt;                 &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1         35.6                   15.9   13.8   21.7  0.00385   2.61  0.116 
## 2         13.6                   61.5    5.47   8.18 0.0121    2.79  0.0524
## 3         14.1                   56.3    6.41   7.69 0.00933   2.80  0.0354
## 4         23.7                   13.7   14.2    9.48 0.00440   2.78  0.0251
## 5          2.30                  19.8   13.1  -10.8  0.00310   2.77  0.0228
## 6         23.6                   17.8   13.4   10.2  0.00344   2.78  0.0225
## # ℹ 1 more variable: .std.resid &lt;dbl&gt;</code></pre>
<p>Plot the three outlier diagnostic plots.</p>
<div class="sourceCode" id="cb1915"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1915-1"><a href="introduction-to-regression.html#cb1915-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the three outlier diagnostics for mdl_price_vs_dist</span></span>
<span id="cb1915-2"><a href="introduction-to-regression.html#cb1915-2" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(mdl_price_vs_dist, <span class="at">which =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-680-1.png" width="672" /></p>
<hr />
</div>
</div>
</div>
<div id="simple-logistic-regression" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Simple logistic regression<a href="introduction-to-regression.html#simple-logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="why-need-logistic-regression" class="section level3 hasAnchor" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Why need logistic regression<a href="introduction-to-regression.html#why-need-logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Another type of generalized linear model.</p></li>
<li><p>Used when the response variable is logical.</p></li>
<li><p>The responses follow logistic (S-shaped) curve.</p></li>
<li><p><code>glm()</code> with binomial family</p>
<ul>
<li><p><code>glm(y \~ x, data, family = binomial)</code></p></li>
<li><p>Linear regression using <code>glm()</code>: <code>glm(y \~ x, data, family = gaussian)</code></p></li>
</ul></li>
</ul>
<div id="exploring-explanatory-variables" class="section level4 hasAnchor" number="14.4.1.1">
<h4><span class="header-section-number">14.4.1.1</span> Exploring explanatory variables<a href="introduction-to-regression.html#exploring-explanatory-variables" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use a histogram of the explanatory variable, faceted on the response.</p>
<div class="sourceCode" id="cb1916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1916-1"><a href="introduction-to-regression.html#cb1916-1" aria-hidden="true" tabindex="-1"></a>churn <span class="ot">&lt;-</span> <span class="fu">read_fst</span>(<span class="st">&quot;data/churn.fst&quot;</span>)</span>
<span id="cb1916-2"><a href="introduction-to-regression.html#cb1916-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(churn)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    400 obs. of  3 variables:
##  $ has_churned              : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ time_since_first_purchase: num  -1.0892 1.183 -0.8462 0.0869 -1.1666 ...
##  $ time_since_last_purchase : num  -0.721 3.634 -0.428 -0.536 -0.673 ...</code></pre>
<div class="sourceCode" id="cb1918"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1918-1"><a href="introduction-to-regression.html#cb1918-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using churn, plot time_since_last_purchase</span></span>
<span id="cb1918-2"><a href="introduction-to-regression.html#cb1918-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(churn, <span class="fu">aes</span>(time_since_last_purchase)) <span class="sc">+</span></span>
<span id="cb1918-3"><a href="introduction-to-regression.html#cb1918-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># as a histogram with binwidth 0.25</span></span>
<span id="cb1918-4"><a href="introduction-to-regression.html#cb1918-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb1918-5"><a href="introduction-to-regression.html#cb1918-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># faceted in a grid with has_churned on each row</span></span>
<span id="cb1918-6"><a href="introduction-to-regression.html#cb1918-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="fu">vars</span>(has_churned))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-682-1.png" width="672" /></p>
<p>The distribution of churned customers was further right than the distribution of non-churned customers (churners typically have a longer time since their last purchase).</p>
<div class="sourceCode" id="cb1919"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1919-1"><a href="introduction-to-regression.html#cb1919-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Redraw the plot with time_since_first_purchase</span></span>
<span id="cb1919-2"><a href="introduction-to-regression.html#cb1919-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(churn, <span class="fu">aes</span>(time_since_first_purchase)) <span class="sc">+</span></span>
<span id="cb1919-3"><a href="introduction-to-regression.html#cb1919-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb1919-4"><a href="introduction-to-regression.html#cb1919-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="fu">vars</span>(has_churned))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-683-1.png" width="672" /></p>
<p>churners have a shorter length of relationship.</p>
</div>
<div id="visualizing-logistic-models" class="section level4 hasAnchor" number="14.4.1.2">
<h4><span class="header-section-number">14.4.1.2</span> Visualizing logistic models<a href="introduction-to-regression.html#visualizing-logistic-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To see how the predictions differ for linear and logistic regressions, try drawing both trend lines side by side.</p>
<p>You should see a linear (straight line) trend from the linear model, and a logistic (S-shaped) trend from the logistic model.</p>
<p><code>geom_smooth(method = "glm", method.args = list(family = "binomial"))</code></p>
<div class="sourceCode" id="cb1920"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1920-1"><a href="introduction-to-regression.html#cb1920-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using churn plot has_churned vs. time_since_first_purchase</span></span>
<span id="cb1920-2"><a href="introduction-to-regression.html#cb1920-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(churn, <span class="fu">aes</span>(time_since_first_purchase, has_churned)) <span class="sc">+</span></span>
<span id="cb1920-3"><a href="introduction-to-regression.html#cb1920-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it a scatter plot</span></span>
<span id="cb1920-4"><a href="introduction-to-regression.html#cb1920-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1920-5"><a href="introduction-to-regression.html#cb1920-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add an lm trend line, no std error ribbon, colored red</span></span>
<span id="cb1920-6"><a href="introduction-to-regression.html#cb1920-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb1920-7"><a href="introduction-to-regression.html#cb1920-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a glm trend line, no std error ribbon, binomial family</span></span>
<span id="cb1920-8"><a href="introduction-to-regression.html#cb1920-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;glm&quot;</span>,</span>
<span id="cb1920-9"><a href="introduction-to-regression.html#cb1920-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">&quot;binomial&quot;</span>),</span>
<span id="cb1920-10"><a href="introduction-to-regression.html#cb1920-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;
## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-684-1.png" width="672" /></p>
<p>The two models give similar predictions in some places, but notice the slight curve in the logistic model trend.</p>
</div>
<div id="logistic-regression-with-glm" class="section level4 hasAnchor" number="14.4.1.3">
<h4><span class="header-section-number">14.4.1.3</span> Logistic regression with glm()<a href="introduction-to-regression.html#logistic-regression-with-glm" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Linear regression and logistic regression are special cases of a broader type of models called generalized linear models (“GLMs”).</p>
<p>A linear regression makes the assumption that the residuals follow a Gaussian (normal) distribution.</p>
<p>By contrast, a logistic regression assumes that residuals follow a binomial distribution.</p>
<div class="sourceCode" id="cb1922"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1922-1"><a href="introduction-to-regression.html#cb1922-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a logistic regression of churn vs. length of relationship using the churn dataset</span></span>
<span id="cb1922-2"><a href="introduction-to-regression.html#cb1922-2" aria-hidden="true" tabindex="-1"></a>mdl_churn_vs_relationship <span class="ot">&lt;-</span> <span class="fu">glm</span>(</span>
<span id="cb1922-3"><a href="introduction-to-regression.html#cb1922-3" aria-hidden="true" tabindex="-1"></a>    has_churned <span class="sc">~</span> time_since_first_purchase, </span>
<span id="cb1922-4"><a href="introduction-to-regression.html#cb1922-4" aria-hidden="true" tabindex="-1"></a>    churn, </span>
<span id="cb1922-5"><a href="introduction-to-regression.html#cb1922-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> binomial)</span>
<span id="cb1922-6"><a href="introduction-to-regression.html#cb1922-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1922-7"><a href="introduction-to-regression.html#cb1922-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1922-8"><a href="introduction-to-regression.html#cb1922-8" aria-hidden="true" tabindex="-1"></a>mdl_churn_vs_relationship</span></code></pre></div>
<pre><code>## 
## Call:  glm(formula = has_churned ~ time_since_first_purchase, family = binomial, 
##     data = churn)
## 
## Coefficients:
##               (Intercept)  time_since_first_purchase  
##                   -0.0152                    -0.3548  
## 
## Degrees of Freedom: 399 Total (i.e. Null);  398 Residual
## Null Deviance:       555 
## Residual Deviance: 544   AIC: 548</code></pre>
</div>
</div>
<div id="predictions-odds-ratios" class="section level3 hasAnchor" number="14.4.2">
<h3><span class="header-section-number">14.4.2</span> Predictions &amp; odds ratios<a href="introduction-to-regression.html#predictions-odds-ratios" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Making predictions</strong></p>
<ul>
<li><p>You also need to set the <code>type</code> argument to <code>"response"</code> to get the probabilities of response.</p>
<ul>
<li><code>predict(mdl_recency, explanatory_data, type = "response")</code></li>
</ul></li>
<li><p>There are four main ways of expressing the prediction from a logistic regression model:</p>
<p><img src="image/logistic%20model_compare%20scales.png" width="592" /></p></li>
</ul>
<div id="probabilities" class="section level4 hasAnchor" number="14.4.2.1">
<h4><span class="header-section-number">14.4.2.1</span> Probabilities<a href="introduction-to-regression.html#probabilities" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Firstly, since the response variable is either “yes” or “no”, you can make a prediction of the probability of a “yes”.</p>
<p>Here, you’ll calculate and visualize these probabilities.</p>
<div class="sourceCode" id="cb1924"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1924-1"><a href="introduction-to-regression.html#cb1924-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A data frame of explanatory values</span></span>
<span id="cb1924-2"><a href="introduction-to-regression.html#cb1924-2" aria-hidden="true" tabindex="-1"></a>explanatory_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">time_since_first_purchase =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="dv">4</span>, <span class="fl">0.25</span>))</span>
<span id="cb1924-3"><a href="introduction-to-regression.html#cb1924-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1924-4"><a href="introduction-to-regression.html#cb1924-4" aria-hidden="true" tabindex="-1"></a><span class="co"># a scatter plot of has_churned versus time_since_first_purchase with a smooth glm line</span></span>
<span id="cb1924-5"><a href="introduction-to-regression.html#cb1924-5" aria-hidden="true" tabindex="-1"></a>plt_churn_vs_relationship <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(churn, <span class="fu">aes</span>(time_since_first_purchase, has_churned)) <span class="sc">+</span></span>
<span id="cb1924-6"><a href="introduction-to-regression.html#cb1924-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1924-7"><a href="introduction-to-regression.html#cb1924-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;glm&quot;</span>, <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> binomial), <span class="at">se =</span> F)</span></code></pre></div>
<p>Predict the probability of churning. Remember to set the prediction <code>type</code>.</p>
<div class="sourceCode" id="cb1925"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1925-1"><a href="introduction-to-regression.html#cb1925-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a data frame of predicted probabilities</span></span>
<span id="cb1925-2"><a href="introduction-to-regression.html#cb1925-2" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1925-3"><a href="introduction-to-regression.html#cb1925-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">has_churned =</span> <span class="fu">predict</span>(mdl_churn_vs_relationship, </span>
<span id="cb1925-4"><a href="introduction-to-regression.html#cb1925-4" aria-hidden="true" tabindex="-1"></a>                               explanatory_data, </span>
<span id="cb1925-5"><a href="introduction-to-regression.html#cb1925-5" aria-hidden="true" tabindex="-1"></a>                               <span class="at">type =</span> <span class="st">&quot;response&quot;</span>))</span>
<span id="cb1925-6"><a href="introduction-to-regression.html#cb1925-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1925-7"><a href="introduction-to-regression.html#cb1925-7" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1925-8"><a href="introduction-to-regression.html#cb1925-8" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 23 × 2
##    time_since_first_purchase has_churned
##                        &lt;dbl&gt;       &lt;dbl&gt;
##  1                     -1.5        0.626
##  2                     -1.25       0.605
##  3                     -1          0.584
##  4                     -0.75       0.562
##  5                     -0.5        0.540
##  6                     -0.25       0.518
##  7                      0          0.496
##  8                      0.25       0.474
##  9                      0.5        0.452
## 10                      0.75       0.430
## # ℹ 13 more rows</code></pre>
<p>Update the <code>plt_churn_vs_relationship</code> plot to add points from <code>prediction_data</code>.</p>
<div class="sourceCode" id="cb1927"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1927-1"><a href="introduction-to-regression.html#cb1927-1" aria-hidden="true" tabindex="-1"></a>plt_churn_vs_relationship <span class="sc">+</span></span>
<span id="cb1927-2"><a href="introduction-to-regression.html#cb1927-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add points from prediction_data, colored yellow, size 2</span></span>
<span id="cb1927-3"><a href="introduction-to-regression.html#cb1927-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> prediction_data, <span class="at">color =</span> <span class="st">&quot;yellow&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-688-1.png" width="672" /></p>
<p>The probability of a positive response is a natural way of thinking about predictions.</p>
</div>
<div id="most-likely-outcome" class="section level4 hasAnchor" number="14.4.2.2">
<h4><span class="header-section-number">14.4.2.2</span> Most likely outcome<a href="introduction-to-regression.html#most-likely-outcome" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When explaining your results to a non-technical audience, you may wish to side-step talking about probabilities and simply explain the most likely outcome.</p>
<p>That is, rather than saying there is a 60% chance of a customer churning, you say that the most likely outcome is that the customer will churn.</p>
<p>The tradeoff here is easier interpretation at the cost of nuance.</p>
<p>Cutoff probability = 0.5</p>
<div class="sourceCode" id="cb1929"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1929-1"><a href="introduction-to-regression.html#cb1929-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the data frame</span></span>
<span id="cb1929-2"><a href="introduction-to-regression.html#cb1929-2" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1929-3"><a href="introduction-to-regression.html#cb1929-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(   </span>
<span id="cb1929-4"><a href="introduction-to-regression.html#cb1929-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">has_churned =</span> <span class="fu">predict</span>(mdl_churn_vs_relationship, </span>
<span id="cb1929-5"><a href="introduction-to-regression.html#cb1929-5" aria-hidden="true" tabindex="-1"></a>                          explanatory_data, </span>
<span id="cb1929-6"><a href="introduction-to-regression.html#cb1929-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">type =</span> <span class="st">&quot;response&quot;</span>),</span>
<span id="cb1929-7"><a href="introduction-to-regression.html#cb1929-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add the most likely churn outcome, 四捨五入&amp;無小數點</span></span>
<span id="cb1929-8"><a href="introduction-to-regression.html#cb1929-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">most_likely_outcome =</span> <span class="fu">round</span>(has_churned, <span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb1929-9"><a href="introduction-to-regression.html#cb1929-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1929-10"><a href="introduction-to-regression.html#cb1929-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1929-11"><a href="introduction-to-regression.html#cb1929-11" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1929-12"><a href="introduction-to-regression.html#cb1929-12" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 23 × 3
##    time_since_first_purchase has_churned most_likely_outcome
##                        &lt;dbl&gt;       &lt;dbl&gt;               &lt;dbl&gt;
##  1                     -1.5        0.626                   1
##  2                     -1.25       0.605                   1
##  3                     -1          0.584                   1
##  4                     -0.75       0.562                   1
##  5                     -0.5        0.540                   1
##  6                     -0.25       0.518                   1
##  7                      0          0.496                   0
##  8                      0.25       0.474                   0
##  9                      0.5        0.452                   0
## 10                      0.75       0.430                   0
## # ℹ 13 more rows</code></pre>
<div class="sourceCode" id="cb1931"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1931-1"><a href="introduction-to-regression.html#cb1931-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the plot</span></span>
<span id="cb1931-2"><a href="introduction-to-regression.html#cb1931-2" aria-hidden="true" tabindex="-1"></a>plt_churn_vs_relationship <span class="sc">+</span></span>
<span id="cb1931-3"><a href="introduction-to-regression.html#cb1931-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add most likely outcome points from prediction_data, colored yellow, size 2</span></span>
<span id="cb1931-4"><a href="introduction-to-regression.html#cb1931-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> prediction_data, </span>
<span id="cb1931-5"><a href="introduction-to-regression.html#cb1931-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">y =</span> most_likely_outcome), </span>
<span id="cb1931-6"><a href="introduction-to-regression.html#cb1931-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;yellow&quot;</span>, </span>
<span id="cb1931-7"><a href="introduction-to-regression.html#cb1931-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-690-1.png" width="672" /></p>
</div>
<div id="odds-ratios" class="section level4 hasAnchor" number="14.4.2.3">
<h4><span class="header-section-number">14.4.2.3</span> Odds ratios<a href="introduction-to-regression.html#odds-ratios" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>Odds ratios</em> compare the probability of something happening with the probability of it not happening.</p>
<p><img src="image/odd%20ratios%20formula.png" width="222" /></p>
<p>This is sometimes easier to reason about than probabilities, particularly when you want to make decisions about choices.</p>
<p>For example, if a customer has a 20% chance of churning, it maybe more intuitive to say “the chance of them not churning is four times higher than the chance of them churning”.</p>
<div class="sourceCode" id="cb1933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1933-1"><a href="introduction-to-regression.html#cb1933-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the data frame</span></span>
<span id="cb1933-2"><a href="introduction-to-regression.html#cb1933-2" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1933-3"><a href="introduction-to-regression.html#cb1933-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(   </span>
<span id="cb1933-4"><a href="introduction-to-regression.html#cb1933-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">has_churned =</span> <span class="fu">predict</span>(</span>
<span id="cb1933-5"><a href="introduction-to-regression.html#cb1933-5" aria-hidden="true" tabindex="-1"></a>      mdl_churn_vs_relationship, explanatory_data, </span>
<span id="cb1933-6"><a href="introduction-to-regression.html#cb1933-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;response&quot;</span></span>
<span id="cb1933-7"><a href="introduction-to-regression.html#cb1933-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1933-8"><a href="introduction-to-regression.html#cb1933-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">most_likely_outcome =</span> <span class="fu">round</span>(has_churned, <span class="at">digits =</span> <span class="dv">0</span>),</span>
<span id="cb1933-9"><a href="introduction-to-regression.html#cb1933-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add the odds ratio</span></span>
<span id="cb1933-10"><a href="introduction-to-regression.html#cb1933-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">odds_ratio =</span> has_churned <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">-</span> has_churned)</span>
<span id="cb1933-11"><a href="introduction-to-regression.html#cb1933-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1933-12"><a href="introduction-to-regression.html#cb1933-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1933-13"><a href="introduction-to-regression.html#cb1933-13" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1933-14"><a href="introduction-to-regression.html#cb1933-14" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 23 × 4
##    time_since_first_purchase has_churned most_likely_outcome odds_ratio
##                        &lt;dbl&gt;       &lt;dbl&gt;               &lt;dbl&gt;      &lt;dbl&gt;
##  1                     -1.5        0.626                   1      1.68 
##  2                     -1.25       0.605                   1      1.53 
##  3                     -1          0.584                   1      1.40 
##  4                     -0.75       0.562                   1      1.29 
##  5                     -0.5        0.540                   1      1.18 
##  6                     -0.25       0.518                   1      1.08 
##  7                      0          0.496                   0      0.985
##  8                      0.25       0.474                   0      0.901
##  9                      0.5        0.452                   0      0.825
## 10                      0.75       0.430                   0      0.755
## # ℹ 13 more rows</code></pre>
<p>The dotted line where the odds ratio is one indicates where churning is just as likely as not churning.</p>
<div class="sourceCode" id="cb1935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1935-1"><a href="introduction-to-regression.html#cb1935-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using prediction_data, plot odds_ratio vs. time_since_first_purchase</span></span>
<span id="cb1935-2"><a href="introduction-to-regression.html#cb1935-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prediction_data, <span class="fu">aes</span>(time_since_first_purchase, odds_ratio)) <span class="sc">+</span></span>
<span id="cb1935-3"><a href="introduction-to-regression.html#cb1935-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it a line plot</span></span>
<span id="cb1935-4"><a href="introduction-to-regression.html#cb1935-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb1935-5"><a href="introduction-to-regression.html#cb1935-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a dotted horizontal line at y = 1</span></span>
<span id="cb1935-6"><a href="introduction-to-regression.html#cb1935-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-692-1.png" width="672" /></p>
<p>The predictions are below one, so the chance of churning is less than the chance of not churning</p>
<p>In the top-left, the chance of churning is about 2 times more than the chance of not churning.</p>
</div>
<div id="log-odds-ratio" class="section level4 hasAnchor" number="14.4.2.4">
<h4><span class="header-section-number">14.4.2.4</span> Log odds ratio<a href="introduction-to-regression.html#log-odds-ratio" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One downside to probabilities and odds ratios for logistic regression predictions is that the prediction lines for each are curved. This makes it harder to reason about what happens to the prediction when you make a change to the explanatory variable.</p>
<p>The log odds ratio does have a linear relationship between predicted response and explanatory variable. That means that as the explanatory variable changes, you don’t see dramatic changes in the response metric - only linear changes.</p>
<p>Since the actual values of log odds ratio are less intuitive than (linear) odds ratio, for visualization purposes it’s usually better to plot the odds ratio and apply a log transformation to the y-axis scale.</p>
<div class="sourceCode" id="cb1936"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1936-1"><a href="introduction-to-regression.html#cb1936-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the data frame</span></span>
<span id="cb1936-2"><a href="introduction-to-regression.html#cb1936-2" aria-hidden="true" tabindex="-1"></a>prediction_data <span class="ot">&lt;-</span> explanatory_data <span class="sc">%&gt;%</span> </span>
<span id="cb1936-3"><a href="introduction-to-regression.html#cb1936-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(   </span>
<span id="cb1936-4"><a href="introduction-to-regression.html#cb1936-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">has_churned =</span> <span class="fu">predict</span>(mdl_churn_vs_relationship, explanatory_data, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>),</span>
<span id="cb1936-5"><a href="introduction-to-regression.html#cb1936-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">most_likely_outcome =</span> <span class="fu">round</span>(has_churned, <span class="at">digits =</span> <span class="dv">0</span>),</span>
<span id="cb1936-6"><a href="introduction-to-regression.html#cb1936-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">odds_ratio =</span> has_churned <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">-</span> has_churned),</span>
<span id="cb1936-7"><a href="introduction-to-regression.html#cb1936-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add the log odds ratio from odds_ratio</span></span>
<span id="cb1936-8"><a href="introduction-to-regression.html#cb1936-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_odds_ratio =</span> <span class="fu">log</span>(odds_ratio),</span>
<span id="cb1936-9"><a href="introduction-to-regression.html#cb1936-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add the log odds ratio using predict()</span></span>
<span id="cb1936-10"><a href="introduction-to-regression.html#cb1936-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_odds_ratio2 =</span> <span class="fu">predict</span>(mdl_churn_vs_relationship, explanatory_data)</span>
<span id="cb1936-11"><a href="introduction-to-regression.html#cb1936-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1936-12"><a href="introduction-to-regression.html#cb1936-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1936-13"><a href="introduction-to-regression.html#cb1936-13" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1936-14"><a href="introduction-to-regression.html#cb1936-14" aria-hidden="true" tabindex="-1"></a>prediction_data</span></code></pre></div>
<pre><code>## # A tibble: 23 × 6
##    time_since_first_purchase has_churned most_likely_outcome odds_ratio
##                        &lt;dbl&gt;       &lt;dbl&gt;               &lt;dbl&gt;      &lt;dbl&gt;
##  1                     -1.5        0.626                   1      1.68 
##  2                     -1.25       0.605                   1      1.53 
##  3                     -1          0.584                   1      1.40 
##  4                     -0.75       0.562                   1      1.29 
##  5                     -0.5        0.540                   1      1.18 
##  6                     -0.25       0.518                   1      1.08 
##  7                      0          0.496                   0      0.985
##  8                      0.25       0.474                   0      0.901
##  9                      0.5        0.452                   0      0.825
## 10                      0.75       0.430                   0      0.755
## # ℹ 13 more rows
## # ℹ 2 more variables: log_odds_ratio &lt;dbl&gt;, log_odds_ratio2 &lt;dbl&gt;</code></pre>
<p>Update the plot to use a logarithmic y-scale.</p>
<div class="sourceCode" id="cb1938"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1938-1"><a href="introduction-to-regression.html#cb1938-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the plot</span></span>
<span id="cb1938-2"><a href="introduction-to-regression.html#cb1938-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prediction_data, <span class="fu">aes</span>(time_since_first_purchase, odds_ratio)) <span class="sc">+</span></span>
<span id="cb1938-3"><a href="introduction-to-regression.html#cb1938-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb1938-4"><a href="introduction-to-regression.html#cb1938-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb1938-5"><a href="introduction-to-regression.html#cb1938-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use a logarithmic y-scale</span></span>
<span id="cb1938-6"><a href="introduction-to-regression.html#cb1938-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-694-1.png" width="672" /></p>
<p>The linear relationship between predicted log odds ratio and the explanatory variable makes changes easier to reason about.</p>
</div>
</div>
<div id="quantify-logistic-regression-fit" class="section level3 hasAnchor" number="14.4.3">
<h3><span class="header-section-number">14.4.3</span> Quantify logistic regression fit<a href="introduction-to-regression.html#quantify-logistic-regression-fit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Confusion matrix</strong></p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">actual false</th>
<th align="left">actual true</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>predicted false</strong></td>
<td align="left">correct (TN)</td>
<td align="left">false negative (FN)</td>
</tr>
<tr class="even">
<td><strong>predicted true</strong></td>
<td align="left">false positive (FP)</td>
<td align="left">correct (TP)</td>
</tr>
<tr class="odd">
<td></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p><strong>Performance metrics</strong></p>
<p><code>summary(confusion, event_level = "second")</code></p>
<ul>
<li><p><strong>Accuracy</strong>: the proportion of correct predictions.</p>
<ul>
<li>accuracy = (TN + TP) / (TN + FN + FP + TP)</li>
</ul></li>
<li><p><strong>Sensitivity</strong>: the proportion of true positives.</p>
<ul>
<li>sensitivity = TP / (FN + TP)</li>
</ul></li>
<li><p><strong>Specificity</strong>: the proportion of true negatives.</p>
<ul>
<li>specificity = TN / (TN + FP)</li>
</ul></li>
</ul>
<p>Both of them the higher the better. But there’s a trade off between sensitivity and specificity.</p>
<div id="calculate-confusion-matrix" class="section level4 hasAnchor" number="14.4.3.1">
<h4><span class="header-section-number">14.4.3.1</span> Calculate confusion matrix<a href="introduction-to-regression.html#calculate-confusion-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>predicted_response = round(fitted(model))</code> means predictions on the original dataset and get “most likely” responses.</p>
<div class="sourceCode" id="cb1939"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1939-1"><a href="introduction-to-regression.html#cb1939-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the actual responses from the dataset</span></span>
<span id="cb1939-2"><a href="introduction-to-regression.html#cb1939-2" aria-hidden="true" tabindex="-1"></a>actual_response <span class="ot">&lt;-</span> churn<span class="sc">$</span>has_churned</span>
<span id="cb1939-3"><a href="introduction-to-regression.html#cb1939-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1939-4"><a href="introduction-to-regression.html#cb1939-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the &quot;most likely&quot; responses from the model</span></span>
<span id="cb1939-5"><a href="introduction-to-regression.html#cb1939-5" aria-hidden="true" tabindex="-1"></a>predicted_response <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">fitted</span>(mdl_churn_vs_relationship))</span>
<span id="cb1939-6"><a href="introduction-to-regression.html#cb1939-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1939-7"><a href="introduction-to-regression.html#cb1939-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a table of counts</span></span>
<span id="cb1939-8"><a href="introduction-to-regression.html#cb1939-8" aria-hidden="true" tabindex="-1"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">table</span>(predicted_response, actual_response)</span>
<span id="cb1939-9"><a href="introduction-to-regression.html#cb1939-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1939-10"><a href="introduction-to-regression.html#cb1939-10" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb1939-11"><a href="introduction-to-regression.html#cb1939-11" aria-hidden="true" tabindex="-1"></a>outcomes</span></code></pre></div>
<pre><code>##                   actual_response
## predicted_response   0   1
##                  0 112  76
##                  1  88 124</code></pre>
</div>
<div id="measuring-model-performance" class="section level4 hasAnchor" number="14.4.3.2">
<h4><span class="header-section-number">14.4.3.2</span> Measuring model performance<a href="introduction-to-regression.html#measuring-model-performance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>By converting confusion matrix to a <code>yardstick</code> confusion matrix object, you get methods for plotting and extracting performance metrics.</p>
<div class="sourceCode" id="cb1941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1941-1"><a href="introduction-to-regression.html#cb1941-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert outcomes to a yardstick confusion matrix</span></span>
<span id="cb1941-2"><a href="introduction-to-regression.html#cb1941-2" aria-hidden="true" tabindex="-1"></a>confusion <span class="ot">&lt;-</span> yardstick<span class="sc">::</span><span class="fu">conf_mat</span>(outcomes)</span>
<span id="cb1941-3"><a href="introduction-to-regression.html#cb1941-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1941-4"><a href="introduction-to-regression.html#cb1941-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the confusion matrix</span></span>
<span id="cb1941-5"><a href="introduction-to-regression.html#cb1941-5" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(confusion)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-696-1.png" width="672" /></p>
<div class="sourceCode" id="cb1942"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1942-1"><a href="introduction-to-regression.html#cb1942-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get performance metrics for the confusion matrix, the positive response is in the second column.</span></span>
<span id="cb1942-2"><a href="introduction-to-regression.html#cb1942-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(confusion, <span class="at">event_level =</span> <span class="st">&quot;second&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 13 × 3
##    .metric              .estimator .estimate
##    &lt;chr&gt;                &lt;chr&gt;          &lt;dbl&gt;
##  1 accuracy             binary         0.59 
##  2 kap                  binary         0.18 
##  3 sens                 binary         0.62 
##  4 spec                 binary         0.56 
##  5 ppv                  binary         0.585
##  6 npv                  binary         0.596
##  7 mcc                  binary         0.180
##  8 j_index              binary         0.180
##  9 bal_accuracy         binary         0.59 
## 10 detection_prevalence binary         0.53 
## 11 precision            binary         0.585
## 12 recall               binary         0.62 
## 13 f_meas               binary         0.602</code></pre>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="intermediate-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/14-Introduction-to-Regression-in-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
