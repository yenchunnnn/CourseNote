<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 24 Intermediate SQL | Data Scientist with R</title>
  <meta name="description" content="This is a notebook about the data science courses took at datacamp." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 24 Intermediate SQL | Data Scientist with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a notebook about the data science courses took at datacamp." />
  <meta name="github-repo" content="yenchunnnn/CourseNote" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 24 Intermediate SQL | Data Scientist with R" />
  
  <meta name="twitter:description" content="This is a notebook about the data science courses took at datacamp." />
  

<meta name="author" content="Yen-Chun Chen" />


<meta name="date" content="2024-02-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-sql.html"/>
<link rel="next" href="joining-data-in-sql.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Scientist with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic data types</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vector"><i class="fa fa-check"></i><b>1.3</b> Vector</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function"><i class="fa fa-check"></i><b>1.3.1</b> Useful function</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-brackets-or-names"><i class="fa fa-check"></i><b>1.3.2</b> Selection - by brackets or names</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---operators"><i class="fa fa-check"></i><b>1.3.3</b> Selection - by comparison - operators</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---values"><i class="fa fa-check"></i><b>1.3.4</b> Selection - by comparison - values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrix"><i class="fa fa-check"></i><b>1.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-function"><i class="fa fa-check"></i><b>1.4.1</b> Construct function</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-by-vector"><i class="fa fa-check"></i><b>1.4.2</b> Construct by vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.4.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---sum-of-each-row-column"><i class="fa fa-check"></i><b>1.4.4</b> Manipulating - sum of each row &amp; column</a></li>
<li class="chapter" data-level="1.4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-columns"><i class="fa fa-check"></i><b>1.4.5</b> Manipulating - add columns</a></li>
<li class="chapter" data-level="1.4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-rows"><i class="fa fa-check"></i><b>1.4.6</b> Manipulating - add rows</a></li>
<li class="chapter" data-level="1.4.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.4.7</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.4.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---1"><i class="fa fa-check"></i><b>1.4.8</b> Arithmetic - 1</a></li>
<li class="chapter" data-level="1.4.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---2"><i class="fa fa-check"></i><b>1.4.9</b> Arithmetic - 2</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor"><i class="fa fa-check"></i><b>1.5</b> Factor</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function-1"><i class="fa fa-check"></i><b>1.5.1</b> Useful function</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-ordinal-categorical-variable"><i class="fa fa-check"></i><b>1.5.2</b> Nominal &amp; Ordinal categorical variable</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor-levels"><i class="fa fa-check"></i><b>1.5.3</b> Factor levels</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.5.4</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordered-factors"><i class="fa fa-check"></i><b>1.5.5</b> Ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frame"><i class="fa fa-check"></i><b>1.6</b> Data Frame</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#quick-look-at-dataset"><i class="fa fa-check"></i><b>1.6.1</b> Quick look at dataset</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---brackets"><i class="fa fa-check"></i><b>1.6.3</b> Selection - brackets</a></li>
<li class="chapter" data-level="1.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---names"><i class="fa fa-check"></i><b>1.6.4</b> Selection - names</a></li>
<li class="chapter" data-level="1.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection--"><i class="fa fa-check"></i><b>1.6.5</b> Selection - $</a></li>
<li class="chapter" data-level="1.6.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---subset"><i class="fa fa-check"></i><b>1.6.6</b> Selection - subset</a></li>
<li class="chapter" data-level="1.6.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sorting"><i class="fa fa-check"></i><b>1.6.7</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#list"><i class="fa fa-check"></i><b>1.7</b> List</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-list"><i class="fa fa-check"></i><b>1.7.1</b> Creating a list</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.7.2</b> Creating a named list</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection"><i class="fa fa-check"></i><b>1.7.3</b> Selection</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bring-it-all-together"><i class="fa fa-check"></i><b>1.8</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Relational operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#conditional-statements"><i class="fa fa-check"></i><b>2.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#while-loop"><i class="fa fa-check"></i><b>2.2.1</b> While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loop"><i class="fa fa-check"></i><b>2.2.2</b> For loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#bring-it-all-together-1"><i class="fa fa-check"></i><b>2.2.3</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#function"><i class="fa fa-check"></i><b>2.3</b> Function</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#introduction-to-function"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to function</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#writing-functions"><i class="fa fa-check"></i><b>2.3.2</b> Writing functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#packages"><i class="fa fa-check"></i><b>2.3.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply"><i class="fa fa-check"></i><b>2.4.1</b> lapply</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply"><i class="fa fa-check"></i><b>2.4.2</b> sapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#vapply"><i class="fa fa-check"></i><b>2.4.3</b> vapply</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-vs-sapply-vs-vapply"><i class="fa fa-check"></i><b>2.4.4</b> lapply vs sapply vs vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#data-structures-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Data structures utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#regular-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Regular Expressions</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#dates-times"><i class="fa fa-check"></i><b>2.5.4</b> Dates &amp; Times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#load-dataset"><i class="fa fa-check"></i><b>3.1.1</b> Load dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filtering"><i class="fa fa-check"></i><b>3.1.2</b> Filtering</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange"><i class="fa fa-check"></i><b>3.1.3</b> Arrange</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.4</b> Mutate</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#subset-df-variable"><i class="fa fa-check"></i><b>3.2.1</b> Subset df variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> ggplot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#faceting"><i class="fa fa-check"></i><b>3.2.3</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#grouping-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping &amp; summarizing</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize"><i class="fa fa-check"></i><b>3.3.1</b> Summarize</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group-by"><i class="fa fa-check"></i><b>3.3.2</b> Group by</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-summarized-data"><i class="fa fa-check"></i><b>3.3.3</b> Visualizing summarized data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#line-plots"><i class="fa fa-check"></i><b>3.4.1</b> Line plots</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#bar-plots"><i class="fa fa-check"></i><b>3.4.2</b> Bar plots</a></li>
<li class="chapter" data-level="3.4.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#histograms"><i class="fa fa-check"></i><b>3.4.3</b> Histograms</a></li>
<li class="chapter" data-level="3.4.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#box-plots"><i class="fa fa-check"></i><b>3.4.4</b> Box plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-data"><i class="fa fa-check"></i><b>4.1</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data"><i class="fa fa-check"></i><b>4.1.1</b> Exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>4.2.1</b> Count</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-summarize-ungroup"><i class="fa fa-check"></i><b>4.2.2</b> group_by, summarize, ungroup</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#slice_min-slice_max"><i class="fa fa-check"></i><b>4.2.3</b> slice_min, slice_max</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.3.1</b> Select</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>4.3.2</b> Rename</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#transmute"><i class="fa fa-check"></i><b>4.3.3</b> Transmute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#load-dataset-1"><i class="fa fa-check"></i><b>4.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data-1"><i class="fa fa-check"></i><b>4.4.2</b> Exploring data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>5</b> Joining Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joining-data.html"><a href="joining-data.html#inner-join"><i class="fa fa-check"></i><b>5.1</b> Inner join</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joining-data.html"><a href="joining-data.html#join-by-keys"><i class="fa fa-check"></i><b>5.1.1</b> Join by keys</a></li>
<li class="chapter" data-level="5.1.2" data-path="joining-data.html"><a href="joining-data.html#join-with-a-one-to-many-relationship"><i class="fa fa-check"></i><b>5.1.2</b> Join with a one-to-many relationship</a></li>
<li class="chapter" data-level="5.1.3" data-path="joining-data.html"><a href="joining-data.html#join-in-either-direction"><i class="fa fa-check"></i><b>5.1.3</b> Join in either direction</a></li>
<li class="chapter" data-level="5.1.4" data-path="joining-data.html"><a href="joining-data.html#join-three-or-more-tables"><i class="fa fa-check"></i><b>5.1.4</b> Join three or more tables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="joining-data.html"><a href="joining-data.html#left-right-joins"><i class="fa fa-check"></i><b>5.2</b> Left &amp; Right Joins</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i><b>5.2.1</b> Left join</a></li>
<li class="chapter" data-level="5.2.2" data-path="joining-data.html"><a href="joining-data.html#right-join"><i class="fa fa-check"></i><b>5.2.2</b> Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="joining-data.html"><a href="joining-data.html#full-semi-anti-joins"><i class="fa fa-check"></i><b>5.3</b> Full, Semi &amp; Anti Joins</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="joining-data.html"><a href="joining-data.html#full-join"><i class="fa fa-check"></i><b>5.3.1</b> Full join</a></li>
<li class="chapter" data-level="5.3.2" data-path="joining-data.html"><a href="joining-data.html#semi-anti-joins"><i class="fa fa-check"></i><b>5.3.2</b> Semi &amp; Anti joins</a></li>
<li class="chapter" data-level="5.3.3" data-path="joining-data.html"><a href="joining-data.html#visualizing-set-differences"><i class="fa fa-check"></i><b>5.3.3</b> Visualizing set differences</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="joining-data.html"><a href="joining-data.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>5.4</b> Case study: Joins on Stack Overflow Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="joining-data.html"><a href="joining-data.html#load-dataset-2"><i class="fa fa-check"></i><b>5.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="5.4.2" data-path="joining-data.html"><a href="joining-data.html#stack-overflow-questions"><i class="fa fa-check"></i><b>5.4.2</b> Stack Overflow questions</a></li>
<li class="chapter" data-level="5.4.3" data-path="joining-data.html"><a href="joining-data.html#joining-questions-and-answers"><i class="fa fa-check"></i><b>5.4.3</b> Joining questions and answers</a></li>
<li class="chapter" data-level="5.4.4" data-path="joining-data.html"><a href="joining-data.html#the-bind_rows-verb"><i class="fa fa-check"></i><b>5.4.4</b> The bind_rows verb</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>6</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#summary-statistics"><i class="fa fa-check"></i><b>6.1</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-center"><i class="fa fa-check"></i><b>6.1.1</b> Measures of center</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-spread"><i class="fa fa-check"></i><b>6.1.2</b> Measures of spread</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#random-numbers-and-probability"><i class="fa fa-check"></i><b>6.2</b> Random Numbers and Probability</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chances"><i class="fa fa-check"></i><b>6.2.1</b> Chances</a></li>
<li class="chapter" data-level="6.2.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2.2</b> Discrete distributions</a></li>
<li class="chapter" data-level="6.2.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#continuous-distributions"><i class="fa fa-check"></i><b>6.2.3</b> Continuous distributions</a></li>
<li class="chapter" data-level="6.2.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#binomial-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#more-distributions-central-limit-theorem"><i class="fa fa-check"></i><b>6.3</b> More Distributions &amp; Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.3.2</b> Central limit theorem</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#poisson-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Poisson distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exponential-distribution"><i class="fa fa-check"></i><b>6.3.4</b> Exponential distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#students-t-distribution"><i class="fa fa-check"></i><b>6.3.5</b> (Student’s) t-distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#log-normal-distribution"><i class="fa fa-check"></i><b>6.3.6</b> Log-normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-and-experimental-design"><i class="fa fa-check"></i><b>6.4</b> Correlation and Experimental Design</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation"><i class="fa fa-check"></i><b>6.4.1</b> Correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-caveats"><i class="fa fa-check"></i><b>6.4.2</b> Correlation caveats</a></li>
<li class="chapter" data-level="6.4.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#design-of-experiments"><i class="fa fa-check"></i><b>6.4.3</b> Design of experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Introduction to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#data-columns-types-affect-plot-types"><i class="fa fa-check"></i><b>7.1.1</b> Data columns types affect plot types</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#ggplot2-layers"><i class="fa fa-check"></i><b>7.1.3</b> ggplot2 layers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>7.2</b> Aesthetics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#visible-aesthetics"><i class="fa fa-check"></i><b>7.2.1</b> Visible aesthetics</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#using-attributes"><i class="fa fa-check"></i><b>7.2.2</b> Using attributes</a></li>
<li class="chapter" data-level="7.2.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#modifying-aesthetics"><i class="fa fa-check"></i><b>7.2.3</b> Modifying aesthetics</a></li>
<li class="chapter" data-level="7.2.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics-best-practices"><i class="fa fa-check"></i><b>7.2.4</b> Aesthetics best practices</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>7.3</b> Geometries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>7.3.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#bar-plots-1"><i class="fa fa-check"></i><b>7.3.3</b> Bar plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#line-plots-1"><i class="fa fa-check"></i><b>7.3.4</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.4</b> Themes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes-from-scratch"><i class="fa fa-check"></i><b>7.4.1</b> Themes from scratch</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#theme-flexibility"><i class="fa fa-check"></i><b>7.4.2</b> Theme flexibility</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#effective-explanatory-plots"><i class="fa fa-check"></i><b>7.4.3</b> Effective explanatory plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>8.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-with-geoms"><i class="fa fa-check"></i><b>8.1.1</b> Stats with geoms</a></li>
<li class="chapter" data-level="8.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-sum-quantile"><i class="fa fa-check"></i><b>8.1.2</b> Stats: sum &amp; quantile</a></li>
<li class="chapter" data-level="8.1.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-outside-geoms"><i class="fa fa-check"></i><b>8.1.3</b> Stats outside geoms</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates"><i class="fa fa-check"></i><b>8.2</b> Coordinates</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>8.2.1</b> Coordinates layer</a></li>
<li class="chapter" data-level="8.2.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-vs.-scales"><i class="fa fa-check"></i><b>8.2.2</b> Coordinates vs. scales</a></li>
<li class="chapter" data-level="8.2.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#double-flipped-axes"><i class="fa fa-check"></i><b>8.2.3</b> Double &amp; flipped axes</a></li>
<li class="chapter" data-level="8.2.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#polar-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Polar coordinates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.3</b> Facets</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#the-facets-layer"><i class="fa fa-check"></i><b>8.3.1</b> The facets layer</a></li>
<li class="chapter" data-level="8.3.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-labels-order"><i class="fa fa-check"></i><b>8.3.2</b> Facet labels &amp; order</a></li>
<li class="chapter" data-level="8.3.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-plotting-spaces"><i class="fa fa-check"></i><b>8.3.3</b> Facet plotting spaces</a></li>
<li class="chapter" data-level="8.3.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-wrap-margins"><i class="fa fa-check"></i><b>8.3.4</b> Facet wrap &amp; margins</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#best-practices"><i class="fa fa-check"></i><b>8.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#bar-plots-2"><i class="fa fa-check"></i><b>8.4.1</b> Bar plots</a></li>
<li class="chapter" data-level="8.4.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#heatmaps-use-case-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Heatmaps use case scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#when-good-data-makes-bad-plots"><i class="fa fa-check"></i><b>8.4.3</b> When good data makes bad plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Introduction to Importing Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#flat-files-with-utils"><i class="fa fa-check"></i><b>9.1</b> Flat files with utils</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.csv"><i class="fa fa-check"></i><b>9.1.1</b> read.csv</a></li>
<li class="chapter" data-level="9.1.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.delim"><i class="fa fa-check"></i><b>9.1.2</b> read.delim</a></li>
<li class="chapter" data-level="9.1.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.table"><i class="fa fa-check"></i><b>9.1.3</b> read.table</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr-data.table"><i class="fa fa-check"></i><b>9.2</b> readr &amp; data.table</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr"><i class="fa fa-check"></i><b>9.2.1</b> readr</a></li>
<li class="chapter" data-level="9.2.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#data.table"><i class="fa fa-check"></i><b>9.2.2</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#excel-data"><i class="fa fa-check"></i><b>9.3</b> Excel data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#list-the-sheets-of-xls-file"><i class="fa fa-check"></i><b>9.3.1</b> List the sheets of xls file</a></li>
<li class="chapter" data-level="9.3.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#import-an-excel-sheet"><i class="fa fa-check"></i><b>9.3.2</b> Import an Excel sheet</a></li>
<li class="chapter" data-level="9.3.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#col_names-skip-argument"><i class="fa fa-check"></i><b>9.3.3</b> col_names &amp; skip argument</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#reproducible-excel-work---xlconnect"><i class="fa fa-check"></i><b>9.4</b> Reproducible Excel work - XLConnect</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets"><i class="fa fa-check"></i><b>9.4.1</b> Adapting sheets</a></li>
<li class="chapter" data-level="9.4.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets-1"><i class="fa fa-check"></i><b>9.4.2</b> Adapting sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>10.1</b> Common Data Problems</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#data-type-constraints"><i class="fa fa-check"></i><b>10.1.1</b> Data type constraints</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#range-constraints"><i class="fa fa-check"></i><b>10.1.2</b> Range constraints</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniqueness-constraints"><i class="fa fa-check"></i><b>10.1.3</b> Uniqueness constraints</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>10.2</b> Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#checking-membership"><i class="fa fa-check"></i><b>10.2.1</b> Checking membership</a></li>
<li class="chapter" data-level="10.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-data-problems"><i class="fa fa-check"></i><b>10.2.2</b> Categorical data problems</a></li>
<li class="chapter" data-level="10.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cleaning-text-data"><i class="fa fa-check"></i><b>10.2.3</b> Cleaning text data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>10.3</b> Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniformity"><i class="fa fa-check"></i><b>10.3.1</b> Uniformity</a></li>
<li class="chapter" data-level="10.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cross-field-validation"><i class="fa fa-check"></i><b>10.3.2</b> Cross field validation</a></li>
<li class="chapter" data-level="10.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#completeness"><i class="fa fa-check"></i><b>10.3.3</b> Completeness</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>10.4</b> Record Linkage</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-strings"><i class="fa fa-check"></i><b>10.4.1</b> Comparing strings</a></li>
<li class="chapter" data-level="10.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#generating-and-comparing-pairs"><i class="fa fa-check"></i><b>10.4.2</b> Generating and comparing pairs</a></li>
<li class="chapter" data-level="10.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#scoring-and-linking"><i class="fa fa-check"></i><b>10.4.3</b> Scoring and linking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r"><i class="fa fa-check"></i><b>11.1</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#introduction-to-dates"><i class="fa fa-check"></i><b>11.1.1</b> Introduction to dates</a></li>
<li class="chapter" data-level="11.1.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#why-use-dates"><i class="fa fa-check"></i><b>11.1.2</b> Why use dates?</a></li>
<li class="chapter" data-level="11.1.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#what-about-times"><i class="fa fa-check"></i><b>11.1.3</b> What about times?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate"><i class="fa fa-check"></i><b>11.2</b> Parsing &amp; Manipulating with lubridate</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-dates"><i class="fa fa-check"></i><b>11.2.1</b> Parsing dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#manipulating-dates"><i class="fa fa-check"></i><b>11.2.2</b> Manipulating dates</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime"><i class="fa fa-check"></i><b>11.2.3</b> Extracting parts of a datetime</a></li>
<li class="chapter" data-level="11.2.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#rounding-datetimes"><i class="fa fa-check"></i><b>11.2.4</b> Rounding datetimes</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times"><i class="fa fa-check"></i><b>11.3</b> Arithmetic with Dates and Times</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes"><i class="fa fa-check"></i><b>11.3.1</b> Taking differences of datetimes</a></li>
<li class="chapter" data-level="11.3.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-spans"><i class="fa fa-check"></i><b>11.3.2</b> Time spans</a></li>
<li class="chapter" data-level="11.3.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#intervals"><i class="fa fa-check"></i><b>11.3.3</b> Intervals</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#problems-in-practice"><i class="fa fa-check"></i><b>11.4</b> Problems in practice</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-zones"><i class="fa fa-check"></i><b>11.4.1</b> Time zones</a></li>
<li class="chapter" data-level="11.4.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes"><i class="fa fa-check"></i><b>11.4.2</b> More on import and export datetimes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html"><i class="fa fa-check"></i><b>12</b> Introduction to Writing Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#write-a-function"><i class="fa fa-check"></i><b>12.1</b> Write a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#why-write-function"><i class="fa fa-check"></i><b>12.1.1</b> Why write function?</a></li>
<li class="chapter" data-level="12.1.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#convert-scripts-into-functions"><i class="fa fa-check"></i><b>12.1.2</b> Convert scripts into functions</a></li>
<li class="chapter" data-level="12.1.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#readable-code"><i class="fa fa-check"></i><b>12.1.3</b> Readable code</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#all-about-arguments"><i class="fa fa-check"></i><b>12.2</b> All About Arguments</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#default-arguments"><i class="fa fa-check"></i><b>12.2.1</b> Default arguments</a></li>
<li class="chapter" data-level="12.2.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#pass-arguments-between-functions"><i class="fa fa-check"></i><b>12.2.2</b> Pass arguments between functions</a></li>
<li class="chapter" data-level="12.2.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#checking-arguments"><i class="fa fa-check"></i><b>12.2.3</b> Checking arguments</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-values-and-scope"><i class="fa fa-check"></i><b>12.3</b> Return Values and Scope</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#returning-values"><i class="fa fa-check"></i><b>12.3.1</b> Returning values</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-multiple-values"><i class="fa fa-check"></i><b>12.3.2</b> Return multiple values</a></li>
<li class="chapter" data-level="12.3.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#environments"><i class="fa fa-check"></i><b>12.3.3</b> Environments</a></li>
<li class="chapter" data-level="12.3.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#scope-and-precedence"><i class="fa fa-check"></i><b>12.3.4</b> Scope and precedence</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#case-study-on-grain-yields"><i class="fa fa-check"></i><b>12.4</b> Case Study on Grain Yields</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#grain-yields-unit-conversion"><i class="fa fa-check"></i><b>12.4.1</b> Grain yields &amp; unit conversion</a></li>
<li class="chapter" data-level="12.4.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#visualizing-grain-yields"><i class="fa fa-check"></i><b>12.4.2</b> Visualizing grain yields</a></li>
<li class="chapter" data-level="12.4.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#modeling-grain-yields"><i class="fa fa-check"></i><b>12.4.3</b> Modeling grain yields</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-categorical-data"><i class="fa fa-check"></i><b>13.1</b> Exploring Categorical Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#categorical-data"><i class="fa fa-check"></i><b>13.1.1</b> Categorical data</a></li>
<li class="chapter" data-level="13.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions"><i class="fa fa-check"></i><b>13.1.2</b> Counts vs. proportions</a></li>
<li class="chapter" data-level="13.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable"><i class="fa fa-check"></i><b>13.1.3</b> Distribution of one variable</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-numerical-data"><i class="fa fa-check"></i><b>13.2</b> Exploring numerical data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-data"><i class="fa fa-check"></i><b>13.2.1</b> Numerical Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable-1"><i class="fa fa-check"></i><b>13.2.2</b> Distribution of one variable</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-1"><i class="fa fa-check"></i><b>13.2.3</b> Box plots</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#visual-in-higher-dimensions"><i class="fa fa-check"></i><b>13.2.4</b> Visual in higher dimensions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>13.3</b> Numerical Summaries</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-center-1"><i class="fa fa-check"></i><b>13.3.1</b> Measures of center</a></li>
<li class="chapter" data-level="13.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-variability"><i class="fa fa-check"></i><b>13.3.2</b> Measures of variability</a></li>
<li class="chapter" data-level="13.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#shape-transformations"><i class="fa fa-check"></i><b>13.3.3</b> Shape &amp; transformations</a></li>
<li class="chapter" data-level="13.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#outliers"><i class="fa fa-check"></i><b>13.3.4</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#case-study"><i class="fa fa-check"></i><b>13.4</b> Case Study</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#new-data"><i class="fa fa-check"></i><b>13.4.1</b> New data</a></li>
<li class="chapter" data-level="13.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-1"><i class="fa fa-check"></i><b>13.4.2</b> Check-in 1</a></li>
<li class="chapter" data-level="13.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-2"><i class="fa fa-check"></i><b>13.4.3</b> Check-in 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html"><i class="fa fa-check"></i><b>14</b> Introduction to Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>14.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#tale-of-two-variables"><i class="fa fa-check"></i><b>14.1.1</b> Tale of two variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#fitting-a-linear-regression"><i class="fa fa-check"></i><b>14.1.2</b> Fitting a linear regression</a></li>
<li class="chapter" data-level="14.1.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#categorical-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Categorical explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-model-objects"><i class="fa fa-check"></i><b>14.2</b> Predictions &amp; model objects</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#making-predictions"><i class="fa fa-check"></i><b>14.2.1</b> Making predictions</a></li>
<li class="chapter" data-level="14.2.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#working-with-model-objects"><i class="fa fa-check"></i><b>14.2.2</b> Working with model objects</a></li>
<li class="chapter" data-level="14.2.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>14.2.3</b> Regression to the mean</a></li>
<li class="chapter" data-level="14.2.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#transforming-variables"><i class="fa fa-check"></i><b>14.2.4</b> Transforming variables</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#assessing-model-fit"><i class="fa fa-check"></i><b>14.3</b> Assessing model fit</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantifying-model-fit"><i class="fa fa-check"></i><b>14.3.1</b> Quantifying model fit</a></li>
<li class="chapter" data-level="14.3.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#visualizing-model-fit"><i class="fa fa-check"></i><b>14.3.2</b> Visualizing model fit</a></li>
<li class="chapter" data-level="14.3.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#outliers-leverage-influence"><i class="fa fa-check"></i><b>14.3.3</b> Outliers, leverage, influence</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-logistic-regression"><i class="fa fa-check"></i><b>14.4</b> Simple logistic regression</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#why-need-logistic-regression"><i class="fa fa-check"></i><b>14.4.1</b> Why need logistic regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-odds-ratios"><i class="fa fa-check"></i><b>14.4.2</b> Predictions &amp; odds ratios</a></li>
<li class="chapter" data-level="14.4.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantify-logistic-regression-fit"><i class="fa fa-check"></i><b>14.4.3</b> Quantify logistic regression fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>15</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>15.1</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes-linear-regression"><i class="fa fa-check"></i><b>15.1.1</b> Parallel slopes linear regression</a></li>
<li class="chapter" data-level="15.1.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predicting-parallel-slopes"><i class="fa fa-check"></i><b>15.1.2</b> Predicting parallel slopes</a></li>
<li class="chapter" data-level="15.1.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#assessing-model-performance"><i class="fa fa-check"></i><b>15.1.3</b> Assessing model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#interactions"><i class="fa fa-check"></i><b>15.2</b> Interactions</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#models-for-each-category"><i class="fa fa-check"></i><b>15.2.1</b> Models for each category</a></li>
<li class="chapter" data-level="15.2.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#one-model-with-an-interaction"><i class="fa fa-check"></i><b>15.2.2</b> One model with an interaction</a></li>
<li class="chapter" data-level="15.2.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predict-with-interactions"><i class="fa fa-check"></i><b>15.2.3</b> Predict with interactions</a></li>
<li class="chapter" data-level="15.2.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>15.2.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>15.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#two-numeric-ivs"><i class="fa fa-check"></i><b>15.3.1</b> Two numeric IVs</a></li>
<li class="chapter" data-level="15.3.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#more-than-2-ivs"><i class="fa fa-check"></i><b>15.3.2</b> More than 2 IVs</a></li>
<li class="chapter" data-level="15.3.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance"><i class="fa fa-check"></i><b>15.3.3</b> Model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>15.4</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression-1"><i class="fa fa-check"></i><b>15.4.1</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#logistic-distribution"><i class="fa fa-check"></i><b>15.4.2</b> Logistic distribution</a></li>
<li class="chapter" data-level="15.4.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance-1"><i class="fa fa-check"></i><b>15.4.3</b> Model performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sampling-in-r.html"><a href="sampling-in-r.html"><i class="fa fa-check"></i><b>16</b> Sampling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-sampling"><i class="fa fa-check"></i><b>16.1</b> Introduction to Sampling</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-point-estimates"><i class="fa fa-check"></i><b>16.1.1</b> Sampling &amp; point estimates</a></li>
<li class="chapter" data-level="16.1.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#convenience-sampling"><i class="fa fa-check"></i><b>16.1.2</b> Convenience sampling</a></li>
<li class="chapter" data-level="16.1.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#pseudo-random-number-generation"><i class="fa fa-check"></i><b>16.1.3</b> Pseudo-random number generation</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-methods"><i class="fa fa-check"></i><b>16.2</b> Sampling Methods</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#simple-random-systematic-sampling"><i class="fa fa-check"></i><b>16.2.1</b> Simple random &amp; systematic sampling</a></li>
<li class="chapter" data-level="16.2.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#stratified-weighted-random-sampling"><i class="fa fa-check"></i><b>16.2.2</b> Stratified &amp; weighted random sampling</a></li>
<li class="chapter" data-level="16.2.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>16.2.3</b> Cluster sampling</a></li>
<li class="chapter" data-level="16.2.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-methods"><i class="fa fa-check"></i><b>16.2.4</b> Comparing sampling methods</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-distributions"><i class="fa fa-check"></i><b>16.3</b> Sampling Distributions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#relative-error-of-point-estimates"><i class="fa fa-check"></i><b>16.3.1</b> Relative error of point estimates</a></li>
<li class="chapter" data-level="16.3.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#creating-a-sampling-distribution"><i class="fa fa-check"></i><b>16.3.2</b> Creating a sampling distribution</a></li>
<li class="chapter" data-level="16.3.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#approximate-sampling-distributions"><i class="fa fa-check"></i><b>16.3.3</b> Approximate sampling distributions</a></li>
<li class="chapter" data-level="16.3.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#standard-errors-clt"><i class="fa fa-check"></i><b>16.3.4</b> Standard errors &amp; CLT</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#bootstrap-distributions"><i class="fa fa-check"></i><b>16.4</b> Bootstrap Distributions</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-bootstrapping"><i class="fa fa-check"></i><b>16.4.1</b> Introduction to bootstrapping</a></li>
<li class="chapter" data-level="16.4.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions"><i class="fa fa-check"></i><b>16.4.2</b> Comparing sampling &amp; bootstrap distributions</a></li>
<li class="chapter" data-level="16.4.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#confidence-intervals"><i class="fa fa-check"></i><b>16.4.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>17</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>17.1</b> Introduction to Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-tests-z-scores"><i class="fa fa-check"></i><b>17.1.1</b> Hypothesis tests &amp; z-scores</a></li>
<li class="chapter" data-level="17.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>17.1.2</b> p-values</a></li>
<li class="chapter" data-level="17.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>17.1.3</b> Statistical significance</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-anova-tests"><i class="fa fa-check"></i><b>17.2</b> Two-Sample &amp; ANOVA Tests</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#performing-t-tests"><i class="fa fa-check"></i><b>17.2.1</b> Performing t-tests</a></li>
<li class="chapter" data-level="17.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#calculating-p-values-from-t-statistics"><i class="fa fa-check"></i><b>17.2.2</b> Calculating p-values from t-statistics</a></li>
<li class="chapter" data-level="17.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-t-tests"><i class="fa fa-check"></i><b>17.2.3</b> Paired t-tests</a></li>
<li class="chapter" data-level="17.2.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#anova-tests"><i class="fa fa-check"></i><b>17.2.4</b> ANOVA tests</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#proportion-tests"><i class="fa fa-check"></i><b>17.3</b> Proportion Tests</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.1</b> One-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.2</b> Two-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>17.3.3</b> Chi-square test of independence</a></li>
<li class="chapter" data-level="17.3.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-goodness-of-fit-tests"><i class="fa fa-check"></i><b>17.3.4</b> Chi-square goodness of fit tests</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>17.4</b> Non-Parametric Tests</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#assumptions-in-hypothesis-testing"><i class="fa fa-check"></i><b>17.4.1</b> Assumptions in hypothesis testing</a></li>
<li class="chapter" data-level="17.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#simulation-based-infer-pipeline"><i class="fa fa-check"></i><b>17.4.2</b> Simulation-based infer pipeline</a></li>
<li class="chapter" data-level="17.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-anova-unpaired-t-tests"><i class="fa fa-check"></i><b>17.4.3</b> Non-parametric ANOVA &amp; unpaired t-tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>18</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="18.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-to-experimental-design"><i class="fa fa-check"></i><b>18.1</b> Introduction to experimental design</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-1"><i class="fa fa-check"></i><b>18.1.1</b> Introduction</a></li>
<li class="chapter" data-level="18.1.2" data-path="experimental-design.html"><a href="experimental-design.html#replication-blocking"><i class="fa fa-check"></i><b>18.1.2</b> Replication &amp; blocking</a></li>
<li class="chapter" data-level="18.1.3" data-path="experimental-design.html"><a href="experimental-design.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>18.1.3</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="experimental-design.html"><a href="experimental-design.html#basic-experiments"><i class="fa fa-check"></i><b>18.2</b> Basic Experiments</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="experimental-design.html"><a href="experimental-design.html#anova-factor-experiments"><i class="fa fa-check"></i><b>18.2.1</b> ANOVA &amp; factor experiments</a></li>
<li class="chapter" data-level="18.2.2" data-path="experimental-design.html"><a href="experimental-design.html#model-validation"><i class="fa fa-check"></i><b>18.2.2</b> Model validation</a></li>
<li class="chapter" data-level="18.2.3" data-path="experimental-design.html"><a href="experimental-design.html#ab-testing"><i class="fa fa-check"></i><b>18.2.3</b> A/B testing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="experimental-design.html"><a href="experimental-design.html#block-designs"><i class="fa fa-check"></i><b>18.3</b> Block Designs</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="experimental-design.html"><a href="experimental-design.html#intro-to-sampling"><i class="fa fa-check"></i><b>18.3.1</b> Intro to sampling</a></li>
<li class="chapter" data-level="18.3.2" data-path="experimental-design.html"><a href="experimental-design.html#randomized-complete-block-designs-rcbd"><i class="fa fa-check"></i><b>18.3.2</b> Randomized Complete Block Designs (RCBD)</a></li>
<li class="chapter" data-level="18.3.3" data-path="experimental-design.html"><a href="experimental-design.html#balanced-incomplete-block-designs-bibd"><i class="fa fa-check"></i><b>18.3.3</b> Balanced Incomplete Block Designs (BIBD)</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="experimental-design.html"><a href="experimental-design.html#squares-factorial-experiments"><i class="fa fa-check"></i><b>18.4</b> Squares &amp; Factorial Experiments</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="experimental-design.html"><a href="experimental-design.html#latin-squares"><i class="fa fa-check"></i><b>18.4.1</b> Latin squares</a></li>
<li class="chapter" data-level="18.4.2" data-path="experimental-design.html"><a href="experimental-design.html#graeco-latin-squares"><i class="fa fa-check"></i><b>18.4.2</b> Graeco-Latin squares</a></li>
<li class="chapter" data-level="18.4.3" data-path="experimental-design.html"><a href="experimental-design.html#factorial-experiments"><i class="fa fa-check"></i><b>18.4.3</b> Factorial experiments</a></li>
<li class="chapter" data-level="18.4.4" data-path="experimental-design.html"><a href="experimental-design.html#other-experimental-designs"><i class="fa fa-check"></i><b>18.4.4</b> Other experimental designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html"><i class="fa fa-check"></i><b>19</b> Supervised Learning: Classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-nearest-neighbors-knn"><i class="fa fa-check"></i><b>19.1</b> k-Nearest Neighbors (kNN)</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-with-nearest-neighbors"><i class="fa fa-check"></i><b>19.1.1</b> Classification with Nearest Neighbors</a></li>
<li class="chapter" data-level="19.1.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-in-knn"><i class="fa fa-check"></i><b>19.1.2</b> ‘k’ in kNN</a></li>
<li class="chapter" data-level="19.1.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#data-preparation-for-knn"><i class="fa fa-check"></i><b>19.1.3</b> 1-3.Data preparation for kNN</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#naive-bayes"><i class="fa fa-check"></i><b>19.2</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-bayesian-methods"><i class="fa fa-check"></i><b>19.2.1</b> Understanding Bayesian methods</a></li>
<li class="chapter" data-level="19.2.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-nbs-naivety"><i class="fa fa-check"></i><b>19.2.2</b> Understanding NB’s “naivety”</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#logistic-regression"><i class="fa fa-check"></i><b>19.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-binary-predictions-with-regression"><i class="fa fa-check"></i><b>19.3.1</b> Making binary predictions with regression</a></li>
<li class="chapter" data-level="19.3.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#model-performance-tradeoffs"><i class="fa fa-check"></i><b>19.3.2</b> Model performance tradeoffs</a></li>
<li class="chapter" data-level="19.3.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#dummy-variables-missing-data-and-interactions"><i class="fa fa-check"></i><b>19.3.3</b> Dummy variables, missing data, and interactions</a></li>
<li class="chapter" data-level="19.3.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#automatic-feature-selection"><i class="fa fa-check"></i><b>19.3.4</b> Automatic feature selection</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-trees"><i class="fa fa-check"></i><b>19.4</b> Classification Trees</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-decisions-with-trees"><i class="fa fa-check"></i><b>19.4.1</b> Making decisions with trees</a></li>
<li class="chapter" data-level="19.4.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#growing-larger-classification-trees"><i class="fa fa-check"></i><b>19.4.2</b> Growing larger classification trees</a></li>
<li class="chapter" data-level="19.4.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#tending-to-classification-trees"><i class="fa fa-check"></i><b>19.4.3</b> Tending to classification trees</a></li>
<li class="chapter" data-level="19.4.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#seeing-the-forest-from-the-trees"><i class="fa fa-check"></i><b>19.4.4</b> Seeing the forest from the trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning: Regression</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#what-is-regression"><i class="fa fa-check"></i><b>20.1</b> What is Regression?</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#introduction-2"><i class="fa fa-check"></i><b>20.1.1</b> Introduction</a></li>
<li class="chapter" data-level="20.1.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#linear-regression"><i class="fa fa-check"></i><b>20.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="20.1.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#predicting-model"><i class="fa fa-check"></i><b>20.1.3</b> Predicting model</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-and-evaluating-models"><i class="fa fa-check"></i><b>20.2</b> Training and Evaluating Models</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#graphically"><i class="fa fa-check"></i><b>20.2.1</b> Graphically</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#root-mean-squared-error"><i class="fa fa-check"></i><b>20.2.2</b> Root Mean Squared Error</a></li>
<li class="chapter" data-level="20.2.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#r-squared"><i class="fa fa-check"></i><b>20.2.3</b> R-squared</a></li>
<li class="chapter" data-level="20.2.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-a-model"><i class="fa fa-check"></i><b>20.2.4</b> Training a Model</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#issues-to-consider"><i class="fa fa-check"></i><b>20.3</b> Issues to Consider</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#categorical-iv"><i class="fa fa-check"></i><b>20.3.1</b> Categorical IV</a></li>
<li class="chapter" data-level="20.3.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#interactions-1"><i class="fa fa-check"></i><b>20.3.2</b> Interactions</a></li>
<li class="chapter" data-level="20.3.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-dv-before-modeling"><i class="fa fa-check"></i><b>20.3.3</b> Transforming DV before modeling</a></li>
<li class="chapter" data-level="20.3.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-iv-before-modeling"><i class="fa fa-check"></i><b>20.3.4</b> Transforming IV before modeling</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#dealing-with-non-linear-responses"><i class="fa fa-check"></i><b>20.4</b> Dealing with Non-Linear Responses</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#logistic-regression-to-predict-probabilities"><i class="fa fa-check"></i><b>20.4.1</b> Logistic regression to predict probabilities</a></li>
<li class="chapter" data-level="20.4.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#poisson-and-quasipoisson-regression-to-predict-counts"><i class="fa fa-check"></i><b>20.4.2</b> Poisson and quasipoisson regression to predict counts</a></li>
<li class="chapter" data-level="20.4.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gam-to-learn-non-linear-transforms"><i class="fa fa-check"></i><b>20.4.3</b> GAM to learn non-linear transforms</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#tree-based-methods"><i class="fa fa-check"></i><b>20.5</b> Tree-Based Methods</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#random-forests"><i class="fa fa-check"></i><b>20.5.1</b> Random forests</a></li>
<li class="chapter" data-level="20.5.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#one-hot-encoding"><i class="fa fa-check"></i><b>20.5.2</b> One-Hot-Encoding</a></li>
<li class="chapter" data-level="20.5.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gradient-boosting"><i class="fa fa-check"></i><b>20.5.3</b> Gradient boosting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>21</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="21.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>21.1</b> k-means clustering</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#types-of-machine-learning"><i class="fa fa-check"></i><b>21.1.1</b> Types of machine learning</a></li>
<li class="chapter" data-level="21.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-to-k-means"><i class="fa fa-check"></i><b>21.1.2</b> Introduction to k-means</a></li>
<li class="chapter" data-level="21.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#model-selection"><i class="fa fa-check"></i><b>21.1.3</b> Model selection</a></li>
<li class="chapter" data-level="21.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#pokemon-data"><i class="fa fa-check"></i><b>21.1.4</b> Pokemon data</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>21.2</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>21.2.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#selecting-number-of-clusters-1"><i class="fa fa-check"></i><b>21.2.2</b> Selecting number of clusters</a></li>
<li class="chapter" data-level="21.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-linkage"><i class="fa fa-check"></i><b>21.2.3</b> Clustering linkage</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction---pca"><i class="fa fa-check"></i><b>21.3</b> Dimensionality reduction - PCA</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-4"><i class="fa fa-check"></i><b>21.3.1</b> Introduction</a></li>
<li class="chapter" data-level="21.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#visualizing-and-interpreting-1"><i class="fa fa-check"></i><b>21.3.2</b> Visualizing and interpreting</a></li>
<li class="chapter" data-level="21.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#practical-issues"><i class="fa fa-check"></i><b>21.3.3</b> Practical issues</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#case-study-1"><i class="fa fa-check"></i><b>21.4</b> Case study</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-5"><i class="fa fa-check"></i><b>21.4.1</b> Introduction</a></li>
<li class="chapter" data-level="21.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#next-steps"><i class="fa fa-check"></i><b>21.4.2</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html"><i class="fa fa-check"></i><b>22</b> Intermediate Importing Data in R</a>
<ul>
<li class="chapter" data-level="22.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-1"><i class="fa fa-check"></i><b>22.1</b> Import from databases-1</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#connect-to-a-database"><i class="fa fa-check"></i><b>22.1.1</b> Connect to a database</a></li>
<li class="chapter" data-level="22.1.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-table-data"><i class="fa fa-check"></i><b>22.1.2</b> Import table data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-2"><i class="fa fa-check"></i><b>22.2</b> Import from databases-2</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#sql-queries-from-inside-r"><i class="fa fa-check"></i><b>22.2.1</b> SQL Queries from inside R</a></li>
<li class="chapter" data-level="22.2.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#dbi-internals"><i class="fa fa-check"></i><b>22.2.2</b> DBI internals</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-1"><i class="fa fa-check"></i><b>22.3</b> Import from the web-1</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#http"><i class="fa fa-check"></i><b>22.3.1</b> HTTP</a></li>
<li class="chapter" data-level="22.3.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#downloading-files"><i class="fa fa-check"></i><b>22.3.2</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-2"><i class="fa fa-check"></i><b>22.4</b> Import from the web-2</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#apis-json"><i class="fa fa-check"></i><b>22.4.1</b> APIs &amp; JSON</a></li>
<li class="chapter" data-level="22.4.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#json-jsonlite"><i class="fa fa-check"></i><b>22.4.2</b> JSON &amp; jsonlite</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-statistical-software"><i class="fa fa-check"></i><b>22.5</b> Import from statistical software</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#haven-package"><i class="fa fa-check"></i><b>22.5.1</b> haven package</a></li>
<li class="chapter" data-level="22.5.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#foreign-package"><i class="fa fa-check"></i><b>22.5.2</b> foreign package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>23</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#relational-databases"><i class="fa fa-check"></i><b>23.1</b> Relational Databases</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#databases"><i class="fa fa-check"></i><b>23.1.1</b> Databases</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#tables"><i class="fa fa-check"></i><b>23.1.2</b> Tables</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#data"><i class="fa fa-check"></i><b>23.1.3</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#querying"><i class="fa fa-check"></i><b>23.2</b> Querying</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#introducing"><i class="fa fa-check"></i><b>23.2.1</b> Introducing</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#writing-queries"><i class="fa fa-check"></i><b>23.2.2</b> Writing queries</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sql-flavors"><i class="fa fa-check"></i><b>23.2.3</b> SQL flavors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="intermediate-sql.html"><a href="intermediate-sql.html"><i class="fa fa-check"></i><b>24</b> Intermediate SQL</a>
<ul>
<li class="chapter" data-level="24.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#selecting-data"><i class="fa fa-check"></i><b>24.1</b> Selecting Data</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#querying-a-database"><i class="fa fa-check"></i><b>24.1.1</b> Querying a database</a></li>
<li class="chapter" data-level="24.1.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#query-execution"><i class="fa fa-check"></i><b>24.1.2</b> Query execution</a></li>
<li class="chapter" data-level="24.1.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sql-style"><i class="fa fa-check"></i><b>24.1.3</b> SQL style</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-records"><i class="fa fa-check"></i><b>24.2</b> Filtering Records</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-numbers"><i class="fa fa-check"></i><b>24.2.1</b> Filtering numbers</a></li>
<li class="chapter" data-level="24.2.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#multiple-criteria"><i class="fa fa-check"></i><b>24.2.2</b> Multiple criteria</a></li>
<li class="chapter" data-level="24.2.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-text"><i class="fa fa-check"></i><b>24.2.3</b> Filtering text</a></li>
<li class="chapter" data-level="24.2.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#null-values"><i class="fa fa-check"></i><b>24.2.4</b> NULL values</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>24.3</b> Aggregate Functions</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-data"><i class="fa fa-check"></i><b>24.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="24.3.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-subsets"><i class="fa fa-check"></i><b>24.3.2</b> Summarizing subsets</a></li>
<li class="chapter" data-level="24.3.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aliasing-and-arithmetic"><i class="fa fa-check"></i><b>24.3.3</b> Aliasing and arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>24.4</b> Sorting and Grouping</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-results"><i class="fa fa-check"></i><b>24.4.1</b> Sorting results</a></li>
<li class="chapter" data-level="24.4.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#grouping-data"><i class="fa fa-check"></i><b>24.4.2</b> Grouping data</a></li>
<li class="chapter" data-level="24.4.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-grouped-data"><i class="fa fa-check"></i><b>24.4.3</b> Filtering grouped data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>25</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="25.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inner-joins"><i class="fa fa-check"></i><b>25.1</b> Inner Joins</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#ins-outs-of-inner-join"><i class="fa fa-check"></i><b>25.1.1</b> ins &amp; outs of INNER JOIN</a></li>
<li class="chapter" data-level="25.1.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#defining-relationships"><i class="fa fa-check"></i><b>25.1.2</b> Defining relationships</a></li>
<li class="chapter" data-level="25.1.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#multiple-joins"><i class="fa fa-check"></i><b>25.1.3</b> Multiple joins</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-cross-self-joins"><i class="fa fa-check"></i><b>25.2</b> Outer, Cross &amp; Self Joins</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#left-right-joins-1"><i class="fa fa-check"></i><b>25.2.1</b> LEFT &amp; RIGHT JOINs</a></li>
<li class="chapter" data-level="25.2.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#full-join-1"><i class="fa fa-check"></i><b>25.2.2</b> FULL JOIN</a></li>
<li class="chapter" data-level="25.2.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#cross-join"><i class="fa fa-check"></i><b>25.2.3</b> CROSS JOIN</a></li>
<li class="chapter" data-level="25.2.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#self-joins"><i class="fa fa-check"></i><b>25.2.4</b> Self joins</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-for-sql-joins"><i class="fa fa-check"></i><b>25.3</b> Set Theory for SQL Joins</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#union-vs.-union-all"><i class="fa fa-check"></i><b>25.3.1</b> UNION vs. UNION ALL</a></li>
<li class="chapter" data-level="25.3.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#intersect"><i class="fa fa-check"></i><b>25.3.2</b> INTERSECT</a></li>
<li class="chapter" data-level="25.3.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#except"><i class="fa fa-check"></i><b>25.3.3</b> EXCEPT</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>25.4</b> Subqueries</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#with-semi-joins-anti-joins"><i class="fa fa-check"></i><b>25.4.1</b> With semi joins &amp; anti joins</a></li>
<li class="chapter" data-level="25.4.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-where-select"><i class="fa fa-check"></i><b>25.4.2</b> Inside WHERE &amp; SELECT</a></li>
<li class="chapter" data-level="25.4.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-from"><i class="fa fa-check"></i><b>25.4.3</b> Inside FROM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>26</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="26.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#introduction-6"><i class="fa fa-check"></i><b>26.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#useful-shell-commands"><i class="fa fa-check"></i><b>26.1.1</b> Useful shell commands</a></li>
<li class="chapter" data-level="26.1.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#saving-files"><i class="fa fa-check"></i><b>26.1.2</b> Saving files</a></li>
<li class="chapter" data-level="26.1.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>26.1.3</b> Comparing files</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#making-changes"><i class="fa fa-check"></i><b>26.2</b> Making changes</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#storing-data-with-git"><i class="fa fa-check"></i><b>26.2.1</b> Storing data with Git</a></li>
<li class="chapter" data-level="26.2.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#viewing-changes"><i class="fa fa-check"></i><b>26.2.2</b> Viewing changes</a></li>
<li class="chapter" data-level="26.2.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-changes-before-committing"><i class="fa fa-check"></i><b>26.2.3</b> Undoing changes before committing</a></li>
<li class="chapter" data-level="26.2.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#restoring-and-reverting"><i class="fa fa-check"></i><b>26.2.4</b> Restoring and reverting</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#git-workflows"><i class="fa fa-check"></i><b>26.3</b> Git workflows</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#configuring-git"><i class="fa fa-check"></i><b>26.3.1</b> Configuring Git</a></li>
<li class="chapter" data-level="26.3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#branches"><i class="fa fa-check"></i><b>26.3.2</b> Branches</a></li>
<li class="chapter" data-level="26.3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-branches"><i class="fa fa-check"></i><b>26.3.3</b> Working with branches</a></li>
<li class="chapter" data-level="26.3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#handling-conflict"><i class="fa fa-check"></i><b>26.3.4</b> Handling conflict</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#collaborating-with-git"><i class="fa fa-check"></i><b>26.4</b> Collaborating with Git</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-repos"><i class="fa fa-check"></i><b>26.4.1</b> Creating repos</a></li>
<li class="chapter" data-level="26.4.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-remotes"><i class="fa fa-check"></i><b>26.4.2</b> Working with remotes</a></li>
<li class="chapter" data-level="26.4.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pulling-from-a-remote"><i class="fa fa-check"></i><b>26.4.3</b> Pulling from a remote</a></li>
<li class="chapter" data-level="26.4.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pushing-to-a-remote"><i class="fa fa-check"></i><b>26.4.4</b> Pushing to a remote</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Scientist with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intermediate-sql" class="section level1 hasAnchor" number="24">
<h1><span class="header-section-number">Chapter 24</span> Intermediate SQL<a href="intermediate-sql.html#intermediate-sql" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="selecting-data" class="section level2 hasAnchor" number="24.1">
<h2><span class="header-section-number">24.1</span> Selecting Data<a href="intermediate-sql.html#selecting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="querying-a-database" class="section level3 hasAnchor" number="24.1.1">
<h3><span class="header-section-number">24.1.1</span> Querying a database<a href="intermediate-sql.html#querying-a-database" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Setup films database</strong></p>
<div class="sourceCode" id="cb3191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3191-1"><a href="intermediate-sql.html#cb3191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a new database</span></span>
<span id="cb3191-2"><a href="intermediate-sql.html#cb3191-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Connect to the default postgres database</span></span>
<span id="cb3191-3"><a href="intermediate-sql.html#cb3191-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb3191-4"><a href="intermediate-sql.html#cb3191-4" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">&quot;&quot;</span>)</span>
<span id="cb3191-5"><a href="intermediate-sql.html#cb3191-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">connection =</span> <span class="st">&quot;con&quot;</span>)</span>
<span id="cb3191-6"><a href="intermediate-sql.html#cb3191-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-7"><a href="intermediate-sql.html#cb3191-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading data</span></span>
<span id="cb3191-8"><a href="intermediate-sql.html#cb3191-8" aria-hidden="true" tabindex="-1"></a>films <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/films.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">na.strings =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb3191-9"><a href="intermediate-sql.html#cb3191-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(films) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;title&quot;</span>, <span class="st">&quot;release_year&quot;</span>, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;duration&quot;</span>, <span class="st">&quot;language&quot;</span>, <span class="st">&quot;certification&quot;</span>, <span class="st">&quot;gross&quot;</span>, <span class="st">&quot;budget&quot;</span>)</span>
<span id="cb3191-10"><a href="intermediate-sql.html#cb3191-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-11"><a href="intermediate-sql.html#cb3191-11" aria-hidden="true" tabindex="-1"></a>people <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/people.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;birthdate&quot;</span>, <span class="st">&quot;deathdate&quot;</span>), <span class="at">na.strings =</span> <span class="st">&quot;&quot;</span>) </span>
<span id="cb3191-12"><a href="intermediate-sql.html#cb3191-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-13"><a href="intermediate-sql.html#cb3191-13" aria-hidden="true" tabindex="-1"></a>reviews <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/reviews.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;film_id&quot;</span>,<span class="st">&quot;num_user&quot;</span>, <span class="st">&quot;num_critic&quot;</span>, <span class="st">&quot;imdb_score&quot;</span>, <span class="st">&quot;num_votes&quot;</span>, <span class="st">&quot;facebook_likes&quot;</span>), <span class="at">na.strings =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb3191-14"><a href="intermediate-sql.html#cb3191-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-15"><a href="intermediate-sql.html#cb3191-15" aria-hidden="true" tabindex="-1"></a>roles <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/roles.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;film_id&quot;</span>, <span class="st">&quot;person_id&quot;</span>, <span class="st">&quot;role&quot;</span>), <span class="at">na.strings =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb3191-16"><a href="intermediate-sql.html#cb3191-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-17"><a href="intermediate-sql.html#cb3191-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create database tables</span></span>
<span id="cb3191-18"><a href="intermediate-sql.html#cb3191-18" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;films&quot;</span>, films)</span>
<span id="cb3191-19"><a href="intermediate-sql.html#cb3191-19" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;people&quot;</span>, people)</span>
<span id="cb3191-20"><a href="intermediate-sql.html#cb3191-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;reviews&quot;</span>, reviews)</span>
<span id="cb3191-21"><a href="intermediate-sql.html#cb3191-21" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;roles&quot;</span>, roles)</span>
<span id="cb3191-22"><a href="intermediate-sql.html#cb3191-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3191-23"><a href="intermediate-sql.html#cb3191-23" aria-hidden="true" tabindex="-1"></a><span class="co"># List database tables</span></span>
<span id="cb3191-24"><a href="intermediate-sql.html#cb3191-24" aria-hidden="true" tabindex="-1"></a><span class="fu">dbListTables</span>(con)</span></code></pre></div>
<pre><code>## [1] &quot;films&quot;   &quot;people&quot;  &quot;reviews&quot; &quot;roles&quot;</code></pre>
<div id="count-distinct" class="section level4 hasAnchor" number="24.1.1.1">
<h4><span class="header-section-number">24.1.1.1</span> COUNT &amp; DISTINCT<a href="intermediate-sql.html#count-distinct" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>COUNT</strong></p>
<ul>
<li><p>Counts the number of records with a value in a field</p>
<ul>
<li><p><code>COUNT(field_name)</code> counts values in a field, multiple fields: separate by <code>,</code></p></li>
<li><p><code>COUNT(*)</code> counts records in a table: total observation</p></li>
</ul></li>
<li><p>Use an <code>AS</code> for clarity</p></li>
<li><p>Includes duplicates</p></li>
</ul>
<p><strong>DISTINCT</strong></p>
<ul>
<li><p><code>DISTINCT</code> removes duplicates to return only unique values</p></li>
<li><p>Combine <code>COUNT()</code> with <code>DISTINCT</code> to count unique values</p></li>
</ul>
<div class="sourceCode" id="cb3193"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3193-1"><a href="intermediate-sql.html#cb3193-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the number of records in the people table</span></span>
<span id="cb3193-2"><a href="intermediate-sql.html#cb3193-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> count_records</span>
<span id="cb3193-3"><a href="intermediate-sql.html#cb3193-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1255">Table 24.1: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_records</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">8397</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3194"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3194-1"><a href="intermediate-sql.html#cb3194-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the number of birthdates in the people table</span></span>
<span id="cb3194-2"><a href="intermediate-sql.html#cb3194-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(birthdate) <span class="kw">AS</span> count_birthdate</span>
<span id="cb3194-3"><a href="intermediate-sql.html#cb3194-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1256">Table 24.2: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_birthdate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6152</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3195"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3195-1"><a href="intermediate-sql.html#cb3195-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the records for languages and countries represented in the films table</span></span>
<span id="cb3195-2"><a href="intermediate-sql.html#cb3195-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(language) <span class="kw">AS</span> count_languages, <span class="fu">COUNT</span>(country) <span class="kw">AS</span> count_countries</span>
<span id="cb3195-3"><a href="intermediate-sql.html#cb3195-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1257">Table 24.3: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_languages</th>
<th align="right">count_countries</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4957</td>
<td align="right">4966</td>
</tr>
</tbody>
</table>
</div>
<p><strong>SELECT DISTINCT</strong></p>
<div class="sourceCode" id="cb3196"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3196-1"><a href="intermediate-sql.html#cb3196-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Return the unique countries from the films table</span></span>
<span id="cb3196-2"><a href="intermediate-sql.html#cb3196-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> country</span>
<span id="cb3196-3"><a href="intermediate-sql.html#cb3196-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1258">Table 24.4: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">USA</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
</tr>
<tr class="odd">
<td align="left">Japan</td>
</tr>
<tr class="even">
<td align="left">Denmark</td>
</tr>
<tr class="odd">
<td align="left">UK</td>
</tr>
<tr class="even">
<td align="left">Italy</td>
</tr>
<tr class="odd">
<td align="left">France</td>
</tr>
<tr class="even">
<td align="left">West Germany</td>
</tr>
<tr class="odd">
<td align="left">Sweden</td>
</tr>
<tr class="even">
<td align="left">Soviet Union</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3197"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3197-1"><a href="intermediate-sql.html#cb3197-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the distinct countries from the films table</span></span>
<span id="cb3197-2"><a href="intermediate-sql.html#cb3197-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> country) <span class="kw">AS</span> count_distinct_countries</span>
<span id="cb3197-3"><a href="intermediate-sql.html#cb3197-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1259">Table 24.5: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_distinct_countries</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">64</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="query-execution" class="section level3 hasAnchor" number="24.1.2">
<h3><span class="header-section-number">24.1.2</span> Query execution<a href="intermediate-sql.html#query-execution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Order of execution</strong></p>
<ul>
<li><p>SQL is not processed in its written order</p>
<ul>
<li>e.g., SQL needs to know where to <code>SELECT</code> data <code>FROM</code> before it can <code>LIMIT</code> the results.</li>
</ul></li>
<li><p>Good to know processing order for debugging and aliasing</p></li>
</ul>
<p><strong>Most common errors</strong></p>
<ul>
<li><p>Misspelling</p></li>
<li><p>Incorrect capitalization</p></li>
<li><p>Incorrect or missing punctuation, especially commas</p></li>
</ul>
</div>
<div id="sql-style" class="section level3 hasAnchor" number="24.1.3">
<h3><span class="header-section-number">24.1.3</span> SQL style<a href="intermediate-sql.html#sql-style" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.sqlstyle.guide/">Holywell’s style guide</a></p>
<p>Other notices:</p>
<ul>
<li><p>Semicolon <code>;</code></p>
<ul>
<li><p>Indicates the end of a query</p></li>
<li><p>Easier to translate between SQL flavors</p></li>
</ul></li>
<li><p>Dealing with non-standard field names</p>
<ul>
<li><p>Put non-standard field names in double-quotes: <code>"release year"</code></p>
<p><code>SELECT title, "release year", country</code></p></li>
</ul></li>
</ul>
</div>
</div>
<div id="filtering-records" class="section level2 hasAnchor" number="24.2">
<h2><span class="header-section-number">24.2</span> Filtering Records<a href="intermediate-sql.html#filtering-records" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="filtering-numbers" class="section level3 hasAnchor" number="24.2.1">
<h3><span class="header-section-number">24.2.1</span> Filtering numbers<a href="intermediate-sql.html#filtering-numbers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>WHERE</strong></p>
<ul>
<li><p>Comparison operators</p>
<ul>
<li><p><code>&gt;</code> Greater than or after</p></li>
<li><p><code>&lt;</code> Less than or before</p></li>
<li><p><code>=</code> Equal to</p></li>
<li><p><code>&gt;=</code> Greater than or equal to</p></li>
<li><p><code>&lt;=</code> Less than or equal to</p></li>
<li><p><code>&lt;&gt;</code> Not equal to 👈</p></li>
</ul></li>
<li><p><code>WHERE</code> with strings</p>
<ul>
<li>Use single-quotes around strings we want to filter: <code>WHERE country = 'Japan'</code></li>
</ul></li>
</ul>
<div id="where" class="section level4 hasAnchor" number="24.2.1.1">
<h4><span class="header-section-number">24.2.1.1</span> WHERE<a href="intermediate-sql.html#where" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Using WHERE with numbers</strong></p>
<p>In this case, you’ll want to filter your data to a specific <code>budget</code> range.</p>
<div class="sourceCode" id="cb3198"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3198-1"><a href="intermediate-sql.html#cb3198-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select film_ids and imdb_score with an imdb_score over 7.0</span></span>
<span id="cb3198-2"><a href="intermediate-sql.html#cb3198-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> film_id, imdb_score</span>
<span id="cb3198-3"><a href="intermediate-sql.html#cb3198-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> reviews</span>
<span id="cb3198-4"><a href="intermediate-sql.html#cb3198-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> imdb_score <span class="op">&gt;</span> <span class="dv">7</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1260">Table 24.6: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">film_id</th>
<th align="right">imdb_score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">3934</td>
<td align="right">7.1</td>
</tr>
<tr class="even">
<td align="right">74</td>
<td align="right">7.6</td>
</tr>
<tr class="odd">
<td align="right">1254</td>
<td align="right">8.0</td>
</tr>
<tr class="even">
<td align="right">4841</td>
<td align="right">8.1</td>
</tr>
<tr class="odd">
<td align="right">3252</td>
<td align="right">7.2</td>
</tr>
<tr class="even">
<td align="right">1181</td>
<td align="right">7.3</td>
</tr>
<tr class="odd">
<td align="right">3929</td>
<td align="right">7.1</td>
</tr>
<tr class="even">
<td align="right">3298</td>
<td align="right">7.4</td>
</tr>
<tr class="odd">
<td align="right">2744</td>
<td align="right">7.4</td>
</tr>
<tr class="even">
<td align="right">4707</td>
<td align="right">7.4</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3199"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3199-1"><a href="intermediate-sql.html#cb3199-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select imdb_score with an imdb_score over 7.0</span></span>
<span id="cb3199-2"><a href="intermediate-sql.html#cb3199-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(imdb_score)</span>
<span id="cb3199-3"><a href="intermediate-sql.html#cb3199-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> reviews</span>
<span id="cb3199-4"><a href="intermediate-sql.html#cb3199-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> imdb_score <span class="op">&gt;</span> <span class="dv">7</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1261">Table 24.7: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">COUNT(imdb_score)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1536</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3200"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3200-1"><a href="intermediate-sql.html#cb3200-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select film_ids and facebook_likes for ten records with less than 1000 likes</span></span>
<span id="cb3200-2"><a href="intermediate-sql.html#cb3200-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> film_id, facebook_likes</span>
<span id="cb3200-3"><a href="intermediate-sql.html#cb3200-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> reviews</span>
<span id="cb3200-4"><a href="intermediate-sql.html#cb3200-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> facebook_likes <span class="op">&lt;</span> <span class="dv">1000</span></span>
<span id="cb3200-5"><a href="intermediate-sql.html#cb3200-5" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">10</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1262">Table 24.8: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">film_id</th>
<th align="right">facebook_likes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">3405</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">478</td>
<td align="right">491</td>
</tr>
<tr class="odd">
<td align="right">74</td>
<td align="right">930</td>
</tr>
<tr class="even">
<td align="right">740</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">2869</td>
<td align="right">689</td>
</tr>
<tr class="even">
<td align="right">1181</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">2020</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2312</td>
<td align="right">912</td>
</tr>
<tr class="odd">
<td align="right">1820</td>
<td align="right">872</td>
</tr>
<tr class="even">
<td align="right">831</td>
<td align="right">975</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3201"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3201-1"><a href="intermediate-sql.html#cb3201-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the records with at least 100,000 votes</span></span>
<span id="cb3201-2"><a href="intermediate-sql.html#cb3201-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(num_votes) <span class="kw">AS</span> films_over_100K_votes</span>
<span id="cb3201-3"><a href="intermediate-sql.html#cb3201-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> reviews</span>
<span id="cb3201-4"><a href="intermediate-sql.html#cb3201-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> num_votes <span class="op">&gt;=</span> <span class="dv">100000</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1263">Table 24.9: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">films_over_100K_votes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1211</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Using WHERE with text</strong></p>
<p><code>WHERE</code> can also filter string values.</p>
<div class="sourceCode" id="cb3202"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3202-1"><a href="intermediate-sql.html#cb3202-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the Spanish-language films</span></span>
<span id="cb3202-2"><a href="intermediate-sql.html#cb3202-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(language) <span class="kw">AS</span> count_spanish</span>
<span id="cb3202-3"><a href="intermediate-sql.html#cb3202-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3202-4"><a href="intermediate-sql.html#cb3202-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> language <span class="op">=</span> <span class="st">&#39;Spanish&#39;</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1264">Table 24.10: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_spanish</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">40</td>
</tr>
</tbody>
</table>
</div>
<p>There are 40 Spanish-language films in this table.</p>
</div>
</div>
<div id="multiple-criteria" class="section level3 hasAnchor" number="24.2.2">
<h3><span class="header-section-number">24.2.2</span> Multiple criteria<a href="intermediate-sql.html#multiple-criteria" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Multiple criteria</strong></p>
<ul>
<li><code>OR</code> , <code>AND</code> , <code>BETWEEN</code></li>
</ul>
<div class="sourceCode" id="cb3203"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3203-1"><a href="intermediate-sql.html#cb3203-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- OR</span></span>
<span id="cb3203-2"><a href="intermediate-sql.html#cb3203-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb3203-3"><a href="intermediate-sql.html#cb3203-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> coats</span>
<span id="cb3203-4"><a href="intermediate-sql.html#cb3203-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> color <span class="op">=</span> <span class="st">&#39;yellow&#39;</span> <span class="kw">OR</span> <span class="fu">length</span> <span class="op">=</span> <span class="st">&#39;short&#39;</span>;</span>
<span id="cb3203-5"><a href="intermediate-sql.html#cb3203-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3203-6"><a href="intermediate-sql.html#cb3203-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- AND</span></span>
<span id="cb3203-7"><a href="intermediate-sql.html#cb3203-7" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb3203-8"><a href="intermediate-sql.html#cb3203-8" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> coats</span>
<span id="cb3203-9"><a href="intermediate-sql.html#cb3203-9" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> color <span class="op">=</span> <span class="st">&#39;yellow&#39;</span> <span class="kw">AND</span> <span class="fu">length</span> <span class="op">=</span> <span class="st">&#39;short&#39;</span>;</span>
<span id="cb3203-10"><a href="intermediate-sql.html#cb3203-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3203-11"><a href="intermediate-sql.html#cb3203-11" aria-hidden="true" tabindex="-1"></a><span class="co">-- BETWEEN, AND: BETWEEN 上下界都包含(1,5也算) 👈</span></span>
<span id="cb3203-12"><a href="intermediate-sql.html#cb3203-12" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb3203-13"><a href="intermediate-sql.html#cb3203-13" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> coats</span>
<span id="cb3203-14"><a href="intermediate-sql.html#cb3203-14" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> buttons <span class="kw">BETWEEN</span> <span class="dv">1</span> <span class="kw">AND</span> <span class="dv">5</span>;</span>
<span id="cb3203-15"><a href="intermediate-sql.html#cb3203-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3203-16"><a href="intermediate-sql.html#cb3203-16" aria-hidden="true" tabindex="-1"></a><span class="co">-- AND, OR: Enclose individual clauses in parentheses👈</span></span>
<span id="cb3203-17"><a href="intermediate-sql.html#cb3203-17" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title</span>
<span id="cb3203-18"><a href="intermediate-sql.html#cb3203-18" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3203-19"><a href="intermediate-sql.html#cb3203-19" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (release_year <span class="op">=</span> <span class="dv">1994</span> <span class="kw">OR</span> release_year <span class="op">=</span> <span class="dv">1995</span>)</span>
<span id="cb3203-20"><a href="intermediate-sql.html#cb3203-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (certification <span class="op">=</span> <span class="st">&#39;PG&#39;</span> <span class="kw">OR</span> certification <span class="op">=</span> <span class="st">&#39;R&#39;</span>);</span>
<span id="cb3203-21"><a href="intermediate-sql.html#cb3203-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3203-22"><a href="intermediate-sql.html#cb3203-22" aria-hidden="true" tabindex="-1"></a><span class="co">-- BETWEEN, AND, OR</span></span>
<span id="cb3203-23"><a href="intermediate-sql.html#cb3203-23" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title</span>
<span id="cb3203-24"><a href="intermediate-sql.html#cb3203-24" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3203-25"><a href="intermediate-sql.html#cb3203-25" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year</span>
<span id="cb3203-26"><a href="intermediate-sql.html#cb3203-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">BETWEEN</span> <span class="dv">1994</span> <span class="kw">AND</span> <span class="dv">2000</span> <span class="kw">AND</span> country<span class="op">=</span><span class="st">&#39;UK&#39;</span>;</span></code></pre></div>
<div id="and-1" class="section level4 hasAnchor" number="24.2.2.1">
<h4><span class="header-section-number">24.2.2.1</span> AND<a href="intermediate-sql.html#and-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The following exercises combine <code>AND</code> and <code>OR</code> with the <code>WHERE</code> clause.</p>
<p>Combining conditions with <code>AND</code> will prove to be very useful when we want our query to return a specific subset of records.</p>
<div class="sourceCode" id="cb3204"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3204-1"><a href="intermediate-sql.html#cb3204-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the title and release_year for all German-language films released before 2000</span></span>
<span id="cb3204-2"><a href="intermediate-sql.html#cb3204-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3204-3"><a href="intermediate-sql.html#cb3204-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3204-4"><a href="intermediate-sql.html#cb3204-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (language <span class="op">=</span> <span class="st">&#39;German&#39;</span>)</span>
<span id="cb3204-5"><a href="intermediate-sql.html#cb3204-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (release_year <span class="op">&lt;</span> <span class="dv">2000</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1265">Table 24.11: </span>6 records</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Metropolis</td>
<td align="right">1927</td>
</tr>
<tr class="even">
<td align="left">Pandora’s Box</td>
<td align="right">1929</td>
</tr>
<tr class="odd">
<td align="left">The Torture Chamber of Dr. Sadism</td>
<td align="right">1967</td>
</tr>
<tr class="even">
<td align="left">Das Boot</td>
<td align="right">1981</td>
</tr>
<tr class="odd">
<td align="left">Run Lola Run</td>
<td align="right">1998</td>
</tr>
<tr class="even">
<td align="left">Aimee &amp; Jaguar</td>
<td align="right">1999</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3205"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3205-1"><a href="intermediate-sql.html#cb3205-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Update the query to see all German-language films released after 2000</span></span>
<span id="cb3205-2"><a href="intermediate-sql.html#cb3205-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3205-3"><a href="intermediate-sql.html#cb3205-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3205-4"><a href="intermediate-sql.html#cb3205-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (release_year <span class="op">&gt;</span> <span class="dv">2000</span>)</span>
<span id="cb3205-5"><a href="intermediate-sql.html#cb3205-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="op">=</span> <span class="st">&#39;German&#39;</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1266">Table 24.12: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Good Bye Lenin!</td>
<td align="right">2003</td>
</tr>
<tr class="even">
<td align="left">Downfall</td>
<td align="right">2004</td>
</tr>
<tr class="odd">
<td align="left">Summer Storm</td>
<td align="right">2004</td>
</tr>
<tr class="even">
<td align="left">The Lives of Others</td>
<td align="right">2006</td>
</tr>
<tr class="odd">
<td align="left">The Baader Meinhof Complex</td>
<td align="right">2008</td>
</tr>
<tr class="even">
<td align="left">The Wave</td>
<td align="right">2008</td>
</tr>
<tr class="odd">
<td align="left">Cargo</td>
<td align="right">2009</td>
</tr>
<tr class="even">
<td align="left">Soul Kitchen</td>
<td align="right">2009</td>
</tr>
<tr class="odd">
<td align="left">The White Ribbon</td>
<td align="right">2009</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">2010</td>
</tr>
</tbody>
</table>
</div>
<p>Select all details for German-language films released after 2000 but before 2010 using only <code>WHERE</code> and <code>AND</code>.</p>
<div class="sourceCode" id="cb3206"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3206-1"><a href="intermediate-sql.html#cb3206-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select all records for German-language films released after 2000 and before 2010</span></span>
<span id="cb3206-2"><a href="intermediate-sql.html#cb3206-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb3206-3"><a href="intermediate-sql.html#cb3206-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3206-4"><a href="intermediate-sql.html#cb3206-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (language <span class="op">=</span> <span class="st">&#39;German&#39;</span>)</span>
<span id="cb3206-5"><a href="intermediate-sql.html#cb3206-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (release_year <span class="op">&gt;</span> <span class="dv">2000</span> <span class="kw">AND</span> release_year <span class="op">&lt;</span> <span class="dv">2010</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1267">Table 24.13: </span>9 records</caption>
<colgroup>
<col width="4%" />
<col width="25%" />
<col width="12%" />
<col width="11%" />
<col width="8%" />
<col width="8%" />
<col width="13%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">title</th>
<th align="right">release_year</th>
<th align="left">country</th>
<th align="right">duration</th>
<th align="left">language</th>
<th align="left">certification</th>
<th align="right">gross</th>
<th align="right">budget</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1952</td>
<td align="left">Good Bye Lenin!</td>
<td align="right">2003</td>
<td align="left">Germany</td>
<td align="right">121</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">4063859</td>
<td align="right">4800000</td>
</tr>
<tr class="even">
<td align="right">2130</td>
<td align="left">Downfall</td>
<td align="right">2004</td>
<td align="left">Germany</td>
<td align="right">178</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">5501940</td>
<td align="right">13500000</td>
</tr>
<tr class="odd">
<td align="right">2224</td>
<td align="left">Summer Storm</td>
<td align="right">2004</td>
<td align="left">Germany</td>
<td align="right">98</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">95016</td>
<td align="right">2700000</td>
</tr>
<tr class="even">
<td align="right">2709</td>
<td align="left">The Lives of Others</td>
<td align="right">2006</td>
<td align="left">Germany</td>
<td align="right">137</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">11284657</td>
<td align="right">2000000</td>
</tr>
<tr class="odd">
<td align="right">3100</td>
<td align="left">The Baader Meinhof Complex</td>
<td align="right">2008</td>
<td align="left">Germany</td>
<td align="right">184</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">476270</td>
<td align="right">20000000</td>
</tr>
<tr class="even">
<td align="right">3143</td>
<td align="left">The Wave</td>
<td align="right">2008</td>
<td align="left">Germany</td>
<td align="right">107</td>
<td align="left">German</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">5000000</td>
</tr>
<tr class="odd">
<td align="right">3220</td>
<td align="left">Cargo</td>
<td align="right">2009</td>
<td align="left">Switzerland</td>
<td align="right">112</td>
<td align="left">German</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">4500000</td>
</tr>
<tr class="even">
<td align="right">3346</td>
<td align="left">Soul Kitchen</td>
<td align="right">2009</td>
<td align="left">Germany</td>
<td align="right">99</td>
<td align="left">German</td>
<td align="left">NA</td>
<td align="right">274385</td>
<td align="right">4000000</td>
</tr>
<tr class="odd">
<td align="right">3412</td>
<td align="left">The White Ribbon</td>
<td align="right">2009</td>
<td align="left">Germany</td>
<td align="right">144</td>
<td align="left">German</td>
<td align="left">R</td>
<td align="right">2222647</td>
<td align="right">12000000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="or" class="section level4 hasAnchor" number="24.2.2.2">
<h4><span class="header-section-number">24.2.2.2</span> OR<a href="intermediate-sql.html#or" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This time you’ll write a query to get the <code>title</code> and <code>release_year</code> of <code>films</code> released in 1990 or 1999, which were in English or Spanish and took in more than $2,000,000 <code>gross</code>.</p>
<div class="sourceCode" id="cb3207"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3207-1"><a href="intermediate-sql.html#cb3207-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the title and year of films from the 1990 or 1999</span></span>
<span id="cb3207-2"><a href="intermediate-sql.html#cb3207-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3207-3"><a href="intermediate-sql.html#cb3207-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3207-4"><a href="intermediate-sql.html#cb3207-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (release_year <span class="op">=</span> <span class="dv">1990</span> <span class="kw">OR</span> release_year <span class="op">=</span> <span class="dv">1999</span>)</span>
<span id="cb3207-5"><a href="intermediate-sql.html#cb3207-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Add a filter to see only English or Spanish-language films</span></span>
<span id="cb3207-6"><a href="intermediate-sql.html#cb3207-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="op">=</span> <span class="st">&#39;English&#39;</span> <span class="kw">OR</span> language <span class="op">=</span> <span class="st">&#39;Spanish&#39;</span>)</span>
<span id="cb3207-7"><a href="intermediate-sql.html#cb3207-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Filter films with more than $2,000,000 gross</span></span>
<span id="cb3207-8"><a href="intermediate-sql.html#cb3207-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (gross <span class="op">&gt;</span> <span class="dv">2000000</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1268">Table 24.14: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Arachnophobia</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Back to the Future Part III</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Child’s Play 2</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Dances with Wolves</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Days of Thunder</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Dick Tracy</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Die Hard 2</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Edward Scissorhands</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Flatliners</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Ghost</td>
<td align="right">1990</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="between" class="section level4 hasAnchor" number="24.2.2.3">
<h4><span class="header-section-number">24.2.2.3</span> BETWEEN<a href="intermediate-sql.html#between" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s use <code>BETWEEN</code> with <code>AND</code> on the <code>films</code> database to get the <code>title</code> and <code>release_year</code> of all Spanish-language films released between 1990 and 2000 (inclusive) with <code>budgets</code> over $100 million.</p>
<div class="sourceCode" id="cb3208"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3208-1"><a href="intermediate-sql.html#cb3208-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the title and release_year for films released between 1990 and 2000</span></span>
<span id="cb3208-2"><a href="intermediate-sql.html#cb3208-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3208-3"><a href="intermediate-sql.html#cb3208-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3208-4"><a href="intermediate-sql.html#cb3208-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (release_year <span class="kw">BETWEEN</span> <span class="dv">1990</span> <span class="kw">AND</span> <span class="dv">2000</span>)</span>
<span id="cb3208-5"><a href="intermediate-sql.html#cb3208-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Narrow down your query to films with budgets &gt; $100 million</span></span>
<span id="cb3208-6"><a href="intermediate-sql.html#cb3208-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (budget <span class="op">&gt;</span> <span class="dv">100000000</span>)</span>
<span id="cb3208-7"><a href="intermediate-sql.html#cb3208-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Restrict the query to only Spanish-language films</span></span>
<span id="cb3208-8"><a href="intermediate-sql.html#cb3208-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="op">=</span> <span class="st">&#39;Spanish&#39;</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1269">Table 24.15: </span>1 records</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Tango</td>
<td align="right">1998</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3209"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3209-1"><a href="intermediate-sql.html#cb3209-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3209-2"><a href="intermediate-sql.html#cb3209-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3209-3"><a href="intermediate-sql.html#cb3209-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">BETWEEN</span> <span class="dv">1990</span> <span class="kw">AND</span> <span class="dv">2000</span></span>
<span id="cb3209-4"><a href="intermediate-sql.html#cb3209-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> budget <span class="op">&gt;</span> <span class="dv">100000000</span></span>
<span id="cb3209-5"><a href="intermediate-sql.html#cb3209-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Amend the query to include Spanish or French-language films</span></span>
<span id="cb3209-6"><a href="intermediate-sql.html#cb3209-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="op">=</span> <span class="st">&#39;Spanish&#39;</span> <span class="kw">OR</span> language <span class="op">=</span> <span class="st">&#39;French&#39;</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1270">Table 24.16: </span>2 records</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Les couloirs du temps: Les visiteurs II</td>
<td align="right">1998</td>
</tr>
<tr class="even">
<td align="left">Tango</td>
<td align="right">1998</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="filtering-text" class="section level3 hasAnchor" number="24.2.3">
<h3><span class="header-section-number">24.2.3</span> Filtering text<a href="intermediate-sql.html#filtering-text" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Filter a pattern rather than specific text.</p>
<ul>
<li><p><code>LIKE</code></p>
<p>eg., <code>WHERE name LIKE '%r'</code>, <code>WHERE name LIKE '___t%'</code></p></li>
<li><p><code>NOT LIKE</code></p>
<p>eg., <code>WHERE name NOT LIKE 'A.%'</code></p></li>
<li><p><code>IN</code></p>
<p>eg., <code>WHERE release_year IN (1920, 1930, 1940)</code>,</p>
<p><code>WHERE country IN ('Germany', 'France')</code></p></li>
</ul>
<p>Pattern</p>
<ul>
<li><p><code>%</code> match zero, one, or many characters</p></li>
<li><p><code>_</code> match a single character</p></li>
</ul>
<div id="like-not-like" class="section level4 hasAnchor" number="24.2.3.1">
<h4><span class="header-section-number">24.2.3.1</span> LIKE &amp; NOT LIKE<a href="intermediate-sql.html#like-not-like" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>LIKE</code> and <code>NOT LIKE</code> operators can be used to find records that either match or do not match a specified pattern, respectively. They can be coupled with the wildcards <code>%</code> and <code>_</code>.</p>
<p>This is useful when you want to filter text, but not to an exact word.</p>
<div class="sourceCode" id="cb3210"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3210-1"><a href="intermediate-sql.html#cb3210-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the names that start with B</span></span>
<span id="cb3210-2"><a href="intermediate-sql.html#cb3210-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb3210-3"><a href="intermediate-sql.html#cb3210-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people</span>
<span id="cb3210-4"><a href="intermediate-sql.html#cb3210-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">LIKE</span> <span class="st">&#39;B%&#39;</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1271">Table 24.17: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">B.J. Novak</td>
</tr>
<tr class="even">
<td align="left">Babak Najafi</td>
</tr>
<tr class="odd">
<td align="left">Babar Ahmed</td>
</tr>
<tr class="even">
<td align="left">Bahare Seddiqi</td>
</tr>
<tr class="odd">
<td align="left">Bai Ling</td>
</tr>
<tr class="even">
<td align="left">Bailee Madison</td>
</tr>
<tr class="odd">
<td align="left">Balinese Tari Legong Dancers</td>
</tr>
<tr class="even">
<td align="left">BÃ¡lint PÃ©ntek</td>
</tr>
<tr class="odd">
<td align="left">Baltasar KormÃ¡kur</td>
</tr>
<tr class="even">
<td align="left">Balthazar Getty</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3211"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3211-1"><a href="intermediate-sql.html#cb3211-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb3211-2"><a href="intermediate-sql.html#cb3211-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people</span>
<span id="cb3211-3"><a href="intermediate-sql.html#cb3211-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the names that have r as the second letter</span></span>
<span id="cb3211-4"><a href="intermediate-sql.html#cb3211-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">LIKE</span> <span class="st">&#39;_r%&#39;</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1272">Table 24.18: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Ara Celi</td>
</tr>
<tr class="even">
<td align="left">Aramis Knight</td>
</tr>
<tr class="odd">
<td align="left">Arben Bajraktaraj</td>
</tr>
<tr class="even">
<td align="left">Arcelia RamÃ­rez</td>
</tr>
<tr class="odd">
<td align="left">Archie Kao</td>
</tr>
<tr class="even">
<td align="left">Archie Panjabi</td>
</tr>
<tr class="odd">
<td align="left">Aretha Franklin</td>
</tr>
<tr class="even">
<td align="left">Ari Folman</td>
</tr>
<tr class="odd">
<td align="left">Ari Gold</td>
</tr>
<tr class="even">
<td align="left">Ari Graynor</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3212"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3212-1"><a href="intermediate-sql.html#cb3212-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb3212-2"><a href="intermediate-sql.html#cb3212-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people</span>
<span id="cb3212-3"><a href="intermediate-sql.html#cb3212-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select names that don&#39;t start with A</span></span>
<span id="cb3212-4"><a href="intermediate-sql.html#cb3212-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">NOT</span> <span class="kw">LIKE</span> <span class="st">&#39;A%&#39;</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1273">Table 24.19: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">50 Cent</td>
</tr>
<tr class="even">
<td align="left">Ãlex Angulo</td>
</tr>
<tr class="odd">
<td align="left">Ãlex de la Iglesia</td>
</tr>
<tr class="even">
<td align="left">Ãngela Molina</td>
</tr>
<tr class="odd">
<td align="left">B.J. Novak</td>
</tr>
<tr class="even">
<td align="left">Babak Najafi</td>
</tr>
<tr class="odd">
<td align="left">Babar Ahmed</td>
</tr>
<tr class="even">
<td align="left">Bahare Seddiqi</td>
</tr>
<tr class="odd">
<td align="left">Bai Ling</td>
</tr>
<tr class="even">
<td align="left">Bailee Madison</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3213"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3213-1"><a href="intermediate-sql.html#cb3213-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(name) <span class="kw">AS</span> count_name_beginA</span>
<span id="cb3213-2"><a href="intermediate-sql.html#cb3213-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people</span>
<span id="cb3213-3"><a href="intermediate-sql.html#cb3213-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select names that don&#39;t start with A</span></span>
<span id="cb3213-4"><a href="intermediate-sql.html#cb3213-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">NOT</span> <span class="kw">LIKE</span> <span class="st">&#39;A%&#39;</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1274">Table 24.20: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_name_beginA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">7768</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="where-in" class="section level4 hasAnchor" number="24.2.3.2">
<h4><span class="header-section-number">24.2.3.2</span> WHERE IN<a href="intermediate-sql.html#where-in" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can query multiple conditions using the <code>IN</code> operator and a set of parentheses. It is a valuable piece of code that helps us keep our queries clean and concise.</p>
<div class="sourceCode" id="cb3214"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3214-1"><a href="intermediate-sql.html#cb3214-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the title and release_year for all films over two hours in length released in 1990 and 2000</span></span>
<span id="cb3214-2"><a href="intermediate-sql.html#cb3214-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, release_year</span>
<span id="cb3214-3"><a href="intermediate-sql.html#cb3214-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3214-4"><a href="intermediate-sql.html#cb3214-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (duration <span class="op">&gt;</span> <span class="dv">120</span>)</span>
<span id="cb3214-5"><a href="intermediate-sql.html#cb3214-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (release_year <span class="kw">IN</span> (<span class="dv">1990</span>, <span class="dv">2000</span>));</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1275">Table 24.21: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">release_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Dances with Wolves</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Die Hard 2</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Ghost</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Goodfellas</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">Mo’ Better Blues</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Pretty Woman</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">The Godfather: Part III</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">The Hunt for Red October</td>
<td align="right">1990</td>
</tr>
<tr class="odd">
<td align="left">All the Pretty Horses</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="left">Almost Famous</td>
<td align="right">2000</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3215"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3215-1"><a href="intermediate-sql.html#cb3215-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the title and language of all films in English, Spanish, and French</span></span>
<span id="cb3215-2"><a href="intermediate-sql.html#cb3215-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, language</span>
<span id="cb3215-3"><a href="intermediate-sql.html#cb3215-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3215-4"><a href="intermediate-sql.html#cb3215-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> language <span class="kw">IN</span> (<span class="st">&#39;English&#39;</span>, <span class="st">&#39;Spanish&#39;</span>, <span class="st">&#39;French&#39;</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1276">Table 24.22: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="left">language</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">The Broadway Melody</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">Hell’s Angels</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">A Farewell to Arms</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">42nd Street</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">She Done Him Wrong</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">It Happened One Night</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Top Hat</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">Modern Times</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">The Charge of the Light Brigade</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">Snow White and the Seven Dwarfs</td>
<td align="left">English</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3216"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3216-1"><a href="intermediate-sql.html#cb3216-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the title, certification, and language all films certified NC-17 or R that are in English, Italian, or Greek</span></span>
<span id="cb3216-2"><a href="intermediate-sql.html#cb3216-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, certification, language</span>
<span id="cb3216-3"><a href="intermediate-sql.html#cb3216-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3216-4"><a href="intermediate-sql.html#cb3216-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (certification <span class="kw">IN</span> (<span class="st">&#39;NC-17&#39;</span>, <span class="st">&#39;R&#39;</span>))</span>
<span id="cb3216-5"><a href="intermediate-sql.html#cb3216-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="kw">IN</span> (<span class="st">&#39;English&#39;</span>, <span class="st">&#39;Italian&#39;</span>, <span class="st">&#39;Greek&#39;</span>));</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1277">Table 24.23: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="left">certification</th>
<th align="left">language</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Psycho</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">A Fistful of Dollars</td>
<td align="left">R</td>
<td align="left">Italian</td>
</tr>
<tr class="odd">
<td align="left">Rosemary’s Baby</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">The Wild Bunch</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Catch-22</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">Cotton Comes to Harlem</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">The Ballad of Cable Hogue</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">The Conformist</td>
<td align="left">R</td>
<td align="left">Italian</td>
</tr>
<tr class="odd">
<td align="left">Woodstock</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">Sweet Sweetback’s Baadasssss Song</td>
<td align="left">R</td>
<td align="left">English</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="combine-filtering-selecting" class="section level4 hasAnchor" number="24.2.3.3">
<h4><span class="header-section-number">24.2.3.3</span> Combine filtering &amp; selecting<a href="intermediate-sql.html#combine-filtering-selecting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>How many 90’s films we have in our dataset that would be suitable for English-speaking teens?</p>
<p>(You will be using <code>DISTINCT</code> here too because, surprise, there are two movies named ‘Hamlet’ in this dataset.)</p>
<div class="sourceCode" id="cb3217"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3217-1"><a href="intermediate-sql.html#cb3217-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the unique titles</span></span>
<span id="cb3217-2"><a href="intermediate-sql.html#cb3217-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> title) <span class="kw">AS</span> nineties_english_films_for_teens</span>
<span id="cb3217-3"><a href="intermediate-sql.html#cb3217-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3217-4"><a href="intermediate-sql.html#cb3217-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- Filter to release_years to between 1990 and 1999</span></span>
<span id="cb3217-5"><a href="intermediate-sql.html#cb3217-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (release_year <span class="kw">BETWEEN</span> <span class="dv">1990</span> <span class="kw">AND</span> <span class="dv">1999</span>)</span>
<span id="cb3217-6"><a href="intermediate-sql.html#cb3217-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- Filter to English-language films</span></span>
<span id="cb3217-7"><a href="intermediate-sql.html#cb3217-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (language <span class="op">=</span> <span class="st">&#39;English&#39;</span>)</span>
<span id="cb3217-8"><a href="intermediate-sql.html#cb3217-8" aria-hidden="true" tabindex="-1"></a><span class="co">-- Narrow it down to G, PG, and PG-13 certifications</span></span>
<span id="cb3217-9"><a href="intermediate-sql.html#cb3217-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AND</span> (certification <span class="kw">IN</span> (<span class="st">&#39;G&#39;</span>, <span class="st">&#39;PG&#39;</span>, <span class="st">&#39;PG-13&#39;</span>));</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1278">Table 24.24: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">nineties_english_films_for_teens</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">310</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="null-values" class="section level3 hasAnchor" number="24.2.4">
<h3><span class="header-section-number">24.2.4</span> NULL values<a href="intermediate-sql.html#null-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>null</code> : Missing values</p>
<ul>
<li><p><code>COUNT(field_name)</code> includes only non-missing values</p></li>
<li><p><code>COUNT(*)</code> includes missing values</p></li>
</ul>
<p>Use <code>IS NULL</code> or <code>IS NOT NULL</code> to:</p>
<ul>
<li><p>Identify missing values</p></li>
<li><p>Select missing values</p></li>
<li><p>Exclude missing values</p></li>
</ul>
<div class="sourceCode" id="cb3218"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3218-1"><a href="intermediate-sql.html#cb3218-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- List all film titles with missing budgets</span></span>
<span id="cb3218-2"><a href="intermediate-sql.html#cb3218-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title <span class="kw">AS</span> no_budget_info</span>
<span id="cb3218-3"><a href="intermediate-sql.html#cb3218-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3218-4"><a href="intermediate-sql.html#cb3218-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> budget <span class="kw">IS</span> <span class="kw">NULL</span> </span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1279">Table 24.25: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">no_budget_info</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pandora’s Box</td>
</tr>
<tr class="even">
<td align="left">The Prisoner of Zenda</td>
</tr>
<tr class="odd">
<td align="left">The Blue Bird</td>
</tr>
<tr class="even">
<td align="left">Bambi</td>
</tr>
<tr class="odd">
<td align="left">State Fair</td>
</tr>
<tr class="even">
<td align="left">Open Secret</td>
</tr>
<tr class="odd">
<td align="left">Deadline - U.S.A.</td>
</tr>
<tr class="even">
<td align="left">Ordet</td>
</tr>
<tr class="odd">
<td align="left">The Party’s Over</td>
</tr>
<tr class="even">
<td align="left">The Torture Chamber of Dr. Sadism</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3219"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3219-1"><a href="intermediate-sql.html#cb3219-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Count the number of films we have language data for</span></span>
<span id="cb3219-2"><a href="intermediate-sql.html#cb3219-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(title) <span class="kw">AS</span> count_language_known</span>
<span id="cb3219-3"><a href="intermediate-sql.html#cb3219-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3219-4"><a href="intermediate-sql.html#cb3219-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> language <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1280">Table 24.26: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">count_language_known</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4957</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="aggregate-functions" class="section level2 hasAnchor" number="24.3">
<h2><span class="header-section-number">24.3</span> Aggregate Functions<a href="intermediate-sql.html#aggregate-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="summarizing-data" class="section level3 hasAnchor" number="24.3.1">
<h3><span class="header-section-number">24.3.1</span> Summarizing data<a href="intermediate-sql.html#summarizing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Aggregate functions</strong></p>
<p><code>AVG()</code> , <code>SUM()</code> , <code>MIN()</code> , <code>MAX()</code> , <code>COUNT()</code></p>
<ul>
<li><p>Numerical fields only</p>
<ul>
<li><code>AVG()</code>, <code>SUM()</code></li>
</ul></li>
<li><p>Various data types</p>
<ul>
<li><p><code>MIN()</code> , <code>MAX()</code> , <code>COUNT()</code></p></li>
<li><p>MIN() &lt;-&gt; MAX() in non-numerical data</p>
<ul>
<li><p>A &lt;-&gt; Z</p></li>
<li><p>1715 &lt;-&gt; 2022</p></li>
</ul></li>
</ul></li>
<li><p>Aliasing when summarizing</p></li>
</ul>
<p>Perhaps you’d like to know how old the oldest film in the films table is, what the most expensive film is, or how many films you have listed.</p>
<div class="sourceCode" id="cb3220"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3220-1"><a href="intermediate-sql.html#cb3220-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Query the sum of film durations</span></span>
<span id="cb3220-2"><a href="intermediate-sql.html#cb3220-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(duration) <span class="kw">AS</span> total_duration</span>
<span id="cb3220-3"><a href="intermediate-sql.html#cb3220-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1281">Table 24.27: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">total_duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">534882</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3221"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3221-1"><a href="intermediate-sql.html#cb3221-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the average duration of all films</span></span>
<span id="cb3221-2"><a href="intermediate-sql.html#cb3221-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">AVG</span>(duration) <span class="kw">AS</span> average_duration</span>
<span id="cb3221-3"><a href="intermediate-sql.html#cb3221-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1282">Table 24.28: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">average_duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">108</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3222"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3222-1"><a href="intermediate-sql.html#cb3222-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the latest release_year</span></span>
<span id="cb3222-2"><a href="intermediate-sql.html#cb3222-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MAX</span>(release_year) <span class="kw">AS</span> latest_year</span>
<span id="cb3222-3"><a href="intermediate-sql.html#cb3222-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1283">Table 24.29: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">latest_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2016</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3223"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3223-1"><a href="intermediate-sql.html#cb3223-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the duration of the shortest film</span></span>
<span id="cb3223-2"><a href="intermediate-sql.html#cb3223-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MIN</span>(duration) <span class="kw">AS</span> shortest_film</span>
<span id="cb3223-3"><a href="intermediate-sql.html#cb3223-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1284">Table 24.30: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">shortest_film</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">7</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="summarizing-subsets" class="section level3 hasAnchor" number="24.3.2">
<h3><span class="header-section-number">24.3.2</span> Summarizing subsets<a href="intermediate-sql.html#summarizing-subsets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Using <code>WHERE</code> with aggregate functions</p></li>
<li><p><code>ROUND()</code> : Round a number to a specified decimal</p>
<ul>
<li><p><code>ROUND(number_to_round, decimal_places)</code></p></li>
<li><p>whole number: <code>ROUND(number_to_round, 0)</code></p></li>
<li><p>小數點第二位: <code>ROUND(number_to_round, 2)</code></p></li>
<li><p>to thousands: <code>ROUND(number_to_round, -3)</code></p>
<ul>
<li>123456 ⟶ 12000, negative parameter</li>
</ul></li>
</ul></li>
</ul>
<div id="aggregate-functions-where" class="section level4 hasAnchor" number="24.3.2.1">
<h4><span class="header-section-number">24.3.2.1</span> Aggregate functions &amp; WHERE<a href="intermediate-sql.html#aggregate-functions-where" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In your film-industry role, as an example, you may like to summarize each certification category to compare how they each perform or if one certification has a higher average budget than another.</p>
<div class="sourceCode" id="cb3224"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3224-1"><a href="intermediate-sql.html#cb3224-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the sum of gross from the year 2000 or later</span></span>
<span id="cb3224-2"><a href="intermediate-sql.html#cb3224-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(gross) <span class="kw">AS</span> total_gross</span>
<span id="cb3224-3"><a href="intermediate-sql.html#cb3224-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3224-4"><a href="intermediate-sql.html#cb3224-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="op">&gt;=</span> <span class="dv">2000</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1285">Table 24.31: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">total_gross</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">150900926358</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3225"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3225-1"><a href="intermediate-sql.html#cb3225-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the average gross of films that start with A</span></span>
<span id="cb3225-2"><a href="intermediate-sql.html#cb3225-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">AVG</span>(gross) <span class="kw">AS</span> avg_gross_A</span>
<span id="cb3225-3"><a href="intermediate-sql.html#cb3225-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3225-4"><a href="intermediate-sql.html#cb3225-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> title <span class="kw">LIKE</span> <span class="st">&#39;A%&#39;</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1286">Table 24.32: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">avg_gross_A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">47893236</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3226"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3226-1"><a href="intermediate-sql.html#cb3226-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the lowest gross film in 1994</span></span>
<span id="cb3226-2"><a href="intermediate-sql.html#cb3226-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MIN</span>(gross) <span class="kw">AS</span> lowest_gross</span>
<span id="cb3226-3"><a href="intermediate-sql.html#cb3226-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3226-4"><a href="intermediate-sql.html#cb3226-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="op">=</span> <span class="dv">1994</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1287">Table 24.33: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">lowest_gross</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">125169</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3227"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3227-1"><a href="intermediate-sql.html#cb3227-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the highest gross film released between 2000-2012</span></span>
<span id="cb3227-2"><a href="intermediate-sql.html#cb3227-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MAX</span>(gross) <span class="kw">AS</span> highest_gross</span>
<span id="cb3227-3"><a href="intermediate-sql.html#cb3227-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3227-4"><a href="intermediate-sql.html#cb3227-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">BETWEEN</span> <span class="dv">2000</span> <span class="kw">AND</span> <span class="dv">2012</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1288">Table 24.34: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">highest_gross</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">760505847</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="round" class="section level4 hasAnchor" number="24.3.2.2">
<h4><span class="header-section-number">24.3.2.2</span> ROUND()<a href="intermediate-sql.html#round" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Aggregate functions work great with numerical values; however, these results can sometimes get unwieldy when dealing with long decimal values. SQL provides you with the <code>ROUND()</code> function to tame these long decimals.</p>
<div class="sourceCode" id="cb3228"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3228-1"><a href="intermediate-sql.html#cb3228-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Round the average number of facebook_likes to one decimal place</span></span>
<span id="cb3228-2"><a href="intermediate-sql.html#cb3228-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">ROUND</span>(<span class="fu">AVG</span>(facebook_likes), <span class="dv">1</span>) <span class="kw">AS</span> avg_facebook_likes</span>
<span id="cb3228-3"><a href="intermediate-sql.html#cb3228-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> reviews;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1289">Table 24.35: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">avg_facebook_likes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">7803</td>
</tr>
</tbody>
</table>
</div>
<p>A useful thing you can do with <code>ROUND()</code> is have a negative number as the decimal place parameter. This can come in handy if your manager only needs to know the average number of <code>facebook_likes</code> to the hundreds since granularity below one hundred likes won’t impact decision making.</p>
<div class="sourceCode" id="cb3229"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3229-1"><a href="intermediate-sql.html#cb3229-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the average budget rounded to the thousands, 39902000</span></span>
<span id="cb3229-2"><a href="intermediate-sql.html#cb3229-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">ROUND</span>(<span class="fu">AVG</span>(budget), <span class="op">-</span><span class="dv">3</span>) <span class="kw">AS</span> avg_budget_thousands</span>
<span id="cb3229-3"><a href="intermediate-sql.html#cb3229-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1290">Table 24.36: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">avg_budget_thousands</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">39902826</td>
</tr>
</tbody>
</table>
</div>
<p>The <code>ROUND()</code> function is very handy when making financial calculations to get a top-level view or specify to the penny or cent.</p>
</div>
</div>
<div id="aliasing-and-arithmetic" class="section level3 hasAnchor" number="24.3.3">
<h3><span class="header-section-number">24.3.3</span> Aliasing and arithmetic<a href="intermediate-sql.html#aliasing-and-arithmetic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Arithmetic</strong></p>
<p><code>+</code> , <code>-</code> , <code>*</code> , and <code>/</code></p>
<ul>
<li><p>When dividing, SQL assumes that we want to get an integer back if we divide an integer by an integer.We can add decimal places to our numbers if we want more precision</p>
<ul>
<li><p><code>SELECT (4 / 3);</code> ⟶ 1</p></li>
<li><p><code>SELECT (4.0 / 3.0);</code> ⟶ 1.333…</p></li>
</ul></li>
<li><p>Aliasing with arithmetic &amp; function</p></li>
</ul>
<p><strong>Aggregate functions vs. arithmetic</strong></p>
<ul>
<li><p>aggregate functions: perform their operations on the fields vertically</p></li>
<li><p>arithmetic: adds up the records horizontally</p></li>
</ul>
<div class="sourceCode" id="cb3230"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3230-1"><a href="intermediate-sql.html#cb3230-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- default</span></span>
<span id="cb3230-2"><a href="intermediate-sql.html#cb3230-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> (<span class="dv">2</span> <span class="op">/</span> <span class="dv">10</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1291">Table 24.37: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">(2 / 10)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3231"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3231-1"><a href="intermediate-sql.html#cb3231-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- add decimal</span></span>
<span id="cb3231-2"><a href="intermediate-sql.html#cb3231-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> (<span class="fl">2.0</span> <span class="op">/</span> <span class="fl">10.0</span>);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1292">Table 24.38: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">(2.0 / 10.0)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.2</td>
</tr>
</tbody>
</table>
</div>
<div id="aliasing-with-functions" class="section level4 hasAnchor" number="24.3.3.1">
<h4><span class="header-section-number">24.3.3.1</span> Aliasing with functions<a href="intermediate-sql.html#aliasing-with-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Aliasing can be a lifesaver, especially as we start to do more complex SQL queries with multiple criteria. Aliases help you keep your code clean and readable.</p>
<p>For example, if you want to find the <code>MAX()</code> value of several fields without aliasing, you’ll end up with the result with several columns called <code>max</code> and no idea which is which. You can fix this with aliasing.</p>
<div class="sourceCode" id="cb3232"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3232-1"><a href="intermediate-sql.html#cb3232-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the title and duration_hours from films</span></span>
<span id="cb3232-2"><a href="intermediate-sql.html#cb3232-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, (duration <span class="op">/</span> <span class="fl">60.0</span>) <span class="kw">AS</span> duration_hours</span>
<span id="cb3232-3"><a href="intermediate-sql.html#cb3232-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1293">Table 24.39: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">duration_hours</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Intolerance: Love’s Struggle Throughout the Ages</td>
<td align="right">2.05</td>
</tr>
<tr class="even">
<td align="left">Over the Hill to the Poorhouse</td>
<td align="right">1.83</td>
</tr>
<tr class="odd">
<td align="left">The Big Parade</td>
<td align="right">2.52</td>
</tr>
<tr class="even">
<td align="left">Metropolis</td>
<td align="right">2.42</td>
</tr>
<tr class="odd">
<td align="left">Pandora’s Box</td>
<td align="right">1.83</td>
</tr>
<tr class="even">
<td align="left">The Broadway Melody</td>
<td align="right">1.67</td>
</tr>
<tr class="odd">
<td align="left">Hell’s Angels</td>
<td align="right">1.60</td>
</tr>
<tr class="even">
<td align="left">A Farewell to Arms</td>
<td align="right">1.32</td>
</tr>
<tr class="odd">
<td align="left">42nd Street</td>
<td align="right">1.48</td>
</tr>
<tr class="even">
<td align="left">She Done Him Wrong</td>
<td align="right">1.10</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3233"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3233-1"><a href="intermediate-sql.html#cb3233-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Calculate the percentage of people who are no longer alive</span></span>
<span id="cb3233-2"><a href="intermediate-sql.html#cb3233-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(deathdate) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> percentage_dead</span>
<span id="cb3233-3"><a href="intermediate-sql.html#cb3233-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1294">Table 24.40: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">percentage_dead</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">9.37</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3234"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3234-1"><a href="intermediate-sql.html#cb3234-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the number of decades in the films table</span></span>
<span id="cb3234-2"><a href="intermediate-sql.html#cb3234-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> (<span class="fu">MAX</span>(release_year) <span class="op">-</span> <span class="fu">MIN</span>(release_year)) <span class="op">/</span> <span class="fl">10.0</span> <span class="kw">AS</span> number_of_decades</span>
<span id="cb3234-3"><a href="intermediate-sql.html#cb3234-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1295">Table 24.41: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">number_of_decades</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">10</td>
</tr>
</tbody>
</table>
</div>
<p><code>films</code> table covers films released over one hundred years!</p>
</div>
<div id="rounding-results" class="section level4 hasAnchor" number="24.3.3.2">
<h4><span class="header-section-number">24.3.3.2</span> Rounding results<a href="intermediate-sql.html#rounding-results" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the previous exercise, many of the results were inconveniently long. Update the query by adding ROUND()` around the calculation.</p>
<div class="sourceCode" id="cb3235"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3235-1"><a href="intermediate-sql.html#cb3235-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Round duration_hours to two decimal places</span></span>
<span id="cb3235-2"><a href="intermediate-sql.html#cb3235-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, <span class="fu">ROUND</span>((duration <span class="op">/</span> <span class="fl">60.0</span>), <span class="dv">2</span>) <span class="kw">AS</span> duration_hours</span>
<span id="cb3235-3"><a href="intermediate-sql.html#cb3235-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1296">Table 24.42: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">duration_hours</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Intolerance: Love’s Struggle Throughout the Ages</td>
<td align="right">2.05</td>
</tr>
<tr class="even">
<td align="left">Over the Hill to the Poorhouse</td>
<td align="right">1.83</td>
</tr>
<tr class="odd">
<td align="left">The Big Parade</td>
<td align="right">2.52</td>
</tr>
<tr class="even">
<td align="left">Metropolis</td>
<td align="right">2.42</td>
</tr>
<tr class="odd">
<td align="left">Pandora’s Box</td>
<td align="right">1.83</td>
</tr>
<tr class="even">
<td align="left">The Broadway Melody</td>
<td align="right">1.67</td>
</tr>
<tr class="odd">
<td align="left">Hell’s Angels</td>
<td align="right">1.60</td>
</tr>
<tr class="even">
<td align="left">A Farewell to Arms</td>
<td align="right">1.32</td>
</tr>
<tr class="odd">
<td align="left">42nd Street</td>
<td align="right">1.48</td>
</tr>
<tr class="even">
<td align="left">She Done Him Wrong</td>
<td align="right">1.10</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="sorting-and-grouping" class="section level2 hasAnchor" number="24.4">
<h2><span class="header-section-number">24.4</span> Sorting and Grouping<a href="intermediate-sql.html#sorting-and-grouping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="sorting-results" class="section level3 hasAnchor" number="24.4.1">
<h3><span class="header-section-number">24.4.1</span> Sorting results<a href="intermediate-sql.html#sorting-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ORDER BY</code> : <code>ASC</code>, <code>DESC</code></p>
<ul>
<li><p>Text <code>ASC</code> : Alphabetically (A-Z)</p></li>
<li><p>ORDER BY multiple fields: <code>ORDER BY field_one, field_two</code></p></li>
<li><p>Different orders: <code>ORDER BY birthdate, name DESC;</code></p></li>
</ul>
<div id="order-by" class="section level4 hasAnchor" number="24.4.1.1">
<h4><span class="header-section-number">24.4.1.1</span> ORDER BY<a href="intermediate-sql.html#order-by" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Sorting single fields</strong></p>
<div class="sourceCode" id="cb3236"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3236-1"><a href="intermediate-sql.html#cb3236-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select name from people and sort alphabetically</span></span>
<span id="cb3236-2"><a href="intermediate-sql.html#cb3236-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb3236-3"><a href="intermediate-sql.html#cb3236-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> people</span>
<span id="cb3236-4"><a href="intermediate-sql.html#cb3236-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> name <span class="kw">ASC</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1297">Table 24.43: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">50 Cent</td>
</tr>
<tr class="even">
<td align="left">A. Michael Baldwin</td>
</tr>
<tr class="odd">
<td align="left">A. Raven Cruz</td>
</tr>
<tr class="even">
<td align="left">A.J. Buckley</td>
</tr>
<tr class="odd">
<td align="left">A.J. DeLucia</td>
</tr>
<tr class="even">
<td align="left">A.J. Langer</td>
</tr>
<tr class="odd">
<td align="left">AJ Michalka</td>
</tr>
<tr class="even">
<td align="left">Aaliyah</td>
</tr>
<tr class="odd">
<td align="left">Aaron Ashmore</td>
</tr>
<tr class="even">
<td align="left">Aaron Hann</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3237"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3237-1"><a href="intermediate-sql.html#cb3237-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the title and duration from longest to shortest film</span></span>
<span id="cb3237-2"><a href="intermediate-sql.html#cb3237-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title, duration</span>
<span id="cb3237-3"><a href="intermediate-sql.html#cb3237-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3237-4"><a href="intermediate-sql.html#cb3237-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> duration <span class="kw">DESC</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1298">Table 24.44: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="right">duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Carlos</td>
<td align="right">334</td>
</tr>
<tr class="even">
<td align="left">Blood In, Blood Out</td>
<td align="right">330</td>
</tr>
<tr class="odd">
<td align="left">Heaven’s Gate</td>
<td align="right">325</td>
</tr>
<tr class="even">
<td align="left">The Legend of Suriyothai</td>
<td align="right">300</td>
</tr>
<tr class="odd">
<td align="left">Das Boot</td>
<td align="right">293</td>
</tr>
<tr class="even">
<td align="left">Apocalypse Now</td>
<td align="right">289</td>
</tr>
<tr class="odd">
<td align="left">The Company</td>
<td align="right">286</td>
</tr>
<tr class="even">
<td align="left">Gods and Generals</td>
<td align="right">280</td>
</tr>
<tr class="odd">
<td align="left">Gettysburg</td>
<td align="right">271</td>
</tr>
<tr class="even">
<td align="left">Arn: The Knight Templar</td>
<td align="right">270</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Sorting multiple fields</strong></p>
<p>It will sort by the first field specified, then sort by the next, and so on.</p>
<div class="sourceCode" id="cb3238"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3238-1"><a href="intermediate-sql.html#cb3238-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the release year, duration, and title sorted by release year and duration</span></span>
<span id="cb3238-2"><a href="intermediate-sql.html#cb3238-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, duration, title</span>
<span id="cb3238-3"><a href="intermediate-sql.html#cb3238-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3238-4"><a href="intermediate-sql.html#cb3238-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb3238-5"><a href="intermediate-sql.html#cb3238-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> release_year, duration;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1299">Table 24.45: </span>Displaying records 1 - 10</caption>
<colgroup>
<col width="18%" />
<col width="12%" />
<col width="69%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="right">duration</th>
<th align="left">title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1916</td>
<td align="right">123</td>
<td align="left">Intolerance: Love’s Struggle Throughout the Ages</td>
</tr>
<tr class="even">
<td align="right">1920</td>
<td align="right">110</td>
<td align="left">Over the Hill to the Poorhouse</td>
</tr>
<tr class="odd">
<td align="right">1925</td>
<td align="right">151</td>
<td align="left">The Big Parade</td>
</tr>
<tr class="even">
<td align="right">1927</td>
<td align="right">145</td>
<td align="left">Metropolis</td>
</tr>
<tr class="odd">
<td align="right">1929</td>
<td align="right">100</td>
<td align="left">The Broadway Melody</td>
</tr>
<tr class="even">
<td align="right">1929</td>
<td align="right">110</td>
<td align="left">Pandora’s Box</td>
</tr>
<tr class="odd">
<td align="right">1930</td>
<td align="right">96</td>
<td align="left">Hell’s Angels</td>
</tr>
<tr class="even">
<td align="right">1932</td>
<td align="right">79</td>
<td align="left">A Farewell to Arms</td>
</tr>
<tr class="odd">
<td align="right">1933</td>
<td align="right">66</td>
<td align="left">She Done Him Wrong</td>
</tr>
<tr class="even">
<td align="right">1933</td>
<td align="right">89</td>
<td align="left">42nd Street</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3239"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3239-1"><a href="intermediate-sql.html#cb3239-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the certification, release year, and title sorted by certification and release year</span></span>
<span id="cb3239-2"><a href="intermediate-sql.html#cb3239-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- Ordered first by certification (alphabetically) and second by release year, starting with the most recent year</span></span>
<span id="cb3239-3"><a href="intermediate-sql.html#cb3239-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> certification, release_year, title</span>
<span id="cb3239-4"><a href="intermediate-sql.html#cb3239-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3239-5"><a href="intermediate-sql.html#cb3239-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> certification <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb3239-6"><a href="intermediate-sql.html#cb3239-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> certification <span class="kw">ASC</span>, release_year <span class="kw">DESC</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1300">Table 24.46: </span>Displaying records 1 - 10</caption>
<colgroup>
<col width="18%" />
<col width="17%" />
<col width="63%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">certification</th>
<th align="right">release_year</th>
<th align="left">title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Approved</td>
<td align="right">1967</td>
<td align="left">In Cold Blood</td>
</tr>
<tr class="even">
<td align="left">Approved</td>
<td align="right">1967</td>
<td align="left">Point Blank</td>
</tr>
<tr class="odd">
<td align="left">Approved</td>
<td align="right">1967</td>
<td align="left">You Only Live Twice</td>
</tr>
<tr class="even">
<td align="left">Approved</td>
<td align="right">1966</td>
<td align="left">A Funny Thing Happened on the Way to the Forum</td>
</tr>
<tr class="odd">
<td align="left">Approved</td>
<td align="right">1966</td>
<td align="left">A Man for All Seasons</td>
</tr>
<tr class="even">
<td align="left">Approved</td>
<td align="right">1966</td>
<td align="left">Batman: The Movie</td>
</tr>
<tr class="odd">
<td align="left">Approved</td>
<td align="right">1966</td>
<td align="left">The Good, the Bad and the Ugly</td>
</tr>
<tr class="even">
<td align="left">Approved</td>
<td align="right">1966</td>
<td align="left">Torn Curtain</td>
</tr>
<tr class="odd">
<td align="left">Approved</td>
<td align="right">1965</td>
<td align="left">Major Dundee</td>
</tr>
<tr class="even">
<td align="left">Approved</td>
<td align="right">1965</td>
<td align="left">Thunderball</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="grouping-data" class="section level3 hasAnchor" number="24.4.2">
<h3><span class="header-section-number">24.4.2</span> Grouping data<a href="intermediate-sql.html#grouping-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="group-by-1" class="section level4 hasAnchor" number="24.4.2.1">
<h4><span class="header-section-number">24.4.2.1</span> GROUP BY<a href="intermediate-sql.html#group-by-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>GROUP BY</code> multiple fields: <code>GROUP BY certification, language</code></li>
</ul>
<p><strong>GROUP BY single fields</strong></p>
<div class="sourceCode" id="cb3240"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3240-1"><a href="intermediate-sql.html#cb3240-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the release_year and film_count of each year</span></span>
<span id="cb3240-2"><a href="intermediate-sql.html#cb3240-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> film_count</span>
<span id="cb3240-3"><a href="intermediate-sql.html#cb3240-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3240-4"><a href="intermediate-sql.html#cb3240-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb3240-5"><a href="intermediate-sql.html#cb3240-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1301">Table 24.47: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="right">film_count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1916</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1920</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1925</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1927</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1929</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">1930</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1932</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1933</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">1934</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1935</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3241"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3241-1"><a href="intermediate-sql.html#cb3241-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the release_year and average duration of films for each year</span></span>
<span id="cb3241-2"><a href="intermediate-sql.html#cb3241-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, <span class="fu">AVG</span>(duration) <span class="kw">AS</span> avg_duration</span>
<span id="cb3241-3"><a href="intermediate-sql.html#cb3241-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3241-4"><a href="intermediate-sql.html#cb3241-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb3241-5"><a href="intermediate-sql.html#cb3241-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1302">Table 24.48: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="right">avg_duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1916</td>
<td align="right">123.0</td>
</tr>
<tr class="even">
<td align="right">1920</td>
<td align="right">110.0</td>
</tr>
<tr class="odd">
<td align="right">1925</td>
<td align="right">151.0</td>
</tr>
<tr class="even">
<td align="right">1927</td>
<td align="right">145.0</td>
</tr>
<tr class="odd">
<td align="right">1929</td>
<td align="right">105.0</td>
</tr>
<tr class="even">
<td align="right">1930</td>
<td align="right">96.0</td>
</tr>
<tr class="odd">
<td align="right">1932</td>
<td align="right">79.0</td>
</tr>
<tr class="even">
<td align="right">1933</td>
<td align="right">77.5</td>
</tr>
<tr class="odd">
<td align="right">1934</td>
<td align="right">65.0</td>
</tr>
<tr class="even">
<td align="right">1935</td>
<td align="right">81.0</td>
</tr>
</tbody>
</table>
</div>
<p>Using GROUP BY with a time or date field such as <code>release_year</code> can help us identify trends such as a period of time where movies were really short!</p>
<p><strong>GROUP BY multiple fields</strong></p>
<p>Look at the maximum budget for each country in each year</p>
<div class="sourceCode" id="cb3242"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3242-1"><a href="intermediate-sql.html#cb3242-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Find the release_year, country, and max_budget, then group and order by release_year and country</span></span>
<span id="cb3242-2"><a href="intermediate-sql.html#cb3242-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, country, <span class="fu">MAX</span>(budget) <span class="kw">AS</span> max_budget</span>
<span id="cb3242-3"><a href="intermediate-sql.html#cb3242-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3242-4"><a href="intermediate-sql.html#cb3242-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb3242-5"><a href="intermediate-sql.html#cb3242-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year, country</span>
<span id="cb3242-6"><a href="intermediate-sql.html#cb3242-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> release_year, country;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1303">Table 24.49: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="left">country</th>
<th align="right">max_budget</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1916</td>
<td align="left">USA</td>
<td align="right">385907</td>
</tr>
<tr class="even">
<td align="right">1920</td>
<td align="left">USA</td>
<td align="right">100000</td>
</tr>
<tr class="odd">
<td align="right">1925</td>
<td align="left">USA</td>
<td align="right">245000</td>
</tr>
<tr class="even">
<td align="right">1927</td>
<td align="left">Germany</td>
<td align="right">6000000</td>
</tr>
<tr class="odd">
<td align="right">1929</td>
<td align="left">Germany</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1929</td>
<td align="left">USA</td>
<td align="right">379000</td>
</tr>
<tr class="odd">
<td align="right">1930</td>
<td align="left">USA</td>
<td align="right">3950000</td>
</tr>
<tr class="even">
<td align="right">1932</td>
<td align="left">USA</td>
<td align="right">800000</td>
</tr>
<tr class="odd">
<td align="right">1933</td>
<td align="left">USA</td>
<td align="right">439000</td>
</tr>
<tr class="even">
<td align="right">1934</td>
<td align="left">USA</td>
<td align="right">325000</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Answering business questions</strong></p>
<p>Which <code>release_year</code> had the most language diversity?</p>
<div class="sourceCode" id="cb3243"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3243-1"><a href="intermediate-sql.html#cb3243-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> language) <span class="kw">AS</span> num_language</span>
<span id="cb3243-2"><a href="intermediate-sql.html#cb3243-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3243-3"><a href="intermediate-sql.html#cb3243-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year</span>
<span id="cb3243-4"><a href="intermediate-sql.html#cb3243-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> num_language <span class="kw">DESC</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1304">Table 24.50: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="right">num_language</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2006</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">2015</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="right">2005</td>
<td align="right">14</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="right">2008</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="right">2009</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="right">2004</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="right">2007</td>
<td align="right">11</td>
</tr>
<tr class="odd">
<td align="right">2011</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="right">2010</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="filtering-grouped-data" class="section level3 hasAnchor" number="24.4.3">
<h3><span class="header-section-number">24.4.3</span> Filtering grouped data<a href="intermediate-sql.html#filtering-grouped-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>HAVING vs WHERE</strong></p>
<table>
<colgroup>
<col width="57%" />
<col width="42%" />
</colgroup>
<thead>
<tr class="header">
<th>HAVING</th>
<th>WHERE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HAVING filters <em>grouped</em> records</td>
<td>WHERE filters <em>individual</em> records</td>
</tr>
<tr class="even">
<td>In what years was the average film duration over two hours?</td>
<td>What films were released in the year 2000?</td>
</tr>
<tr class="odd">
<td><div class="sourceCode" id="cb3244"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3244-1"><a href="intermediate-sql.html#cb3244-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year</span>
<span id="cb3244-2"><a href="intermediate-sql.html#cb3244-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3244-3"><a href="intermediate-sql.html#cb3244-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year</span>
<span id="cb3244-4"><a href="intermediate-sql.html#cb3244-4" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">AVG</span>(duration) <span class="op">&gt;</span> <span class="dv">120</span>;</span></code></pre></div></td>
<td><div class="sourceCode" id="cb3245"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3245-1"><a href="intermediate-sql.html#cb3245-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> title</span>
<span id="cb3245-2"><a href="intermediate-sql.html#cb3245-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3245-3"><a href="intermediate-sql.html#cb3245-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="op">=</span> <span class="dv">2000</span>;</span></code></pre></div></td>
</tr>
</tbody>
</table>
<div id="having" class="section level4 hasAnchor" number="24.4.3.1">
<h4><span class="header-section-number">24.4.3.1</span> HAVING<a href="intermediate-sql.html#having" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Filtering grouped data can be especially handy when working with a large dataset. When working with thousands or even millions of rows, <code>HAVING</code> will allow you to filter for just the group of data you want</p>
<p>Find out which countries (or country) have the most varied film certifications.</p>
<div class="sourceCode" id="cb3246"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3246-1"><a href="intermediate-sql.html#cb3246-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the country and distinct count of certification as certification_count</span></span>
<span id="cb3246-2"><a href="intermediate-sql.html#cb3246-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> country, <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> certification) <span class="kw">AS</span> certification_count</span>
<span id="cb3246-3"><a href="intermediate-sql.html#cb3246-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3246-4"><a href="intermediate-sql.html#cb3246-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- Group by country</span></span>
<span id="cb3246-5"><a href="intermediate-sql.html#cb3246-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> country</span>
<span id="cb3246-6"><a href="intermediate-sql.html#cb3246-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- Filter results to countries with more than 10 different certifications</span></span>
<span id="cb3246-7"><a href="intermediate-sql.html#cb3246-7" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> certification) <span class="op">&gt;</span> <span class="dv">10</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1305">Table 24.51: </span>1 records</caption>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">certification_count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">USA</td>
<td align="right">12</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="having-and-sorting" class="section level4 hasAnchor" number="24.4.3.2">
<h4><span class="header-section-number">24.4.3.2</span> HAVING and sorting<a href="intermediate-sql.html#having-and-sorting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Writing a query showing what countries have the highest average film budgets.</p>
<div class="sourceCode" id="cb3247"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3247-1"><a href="intermediate-sql.html#cb3247-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the country and average_budget from films</span></span>
<span id="cb3247-2"><a href="intermediate-sql.html#cb3247-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> country, <span class="fu">AVG</span>(budget) <span class="kw">AS</span> average_budget</span>
<span id="cb3247-3"><a href="intermediate-sql.html#cb3247-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3247-4"><a href="intermediate-sql.html#cb3247-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- Group by country</span></span>
<span id="cb3247-5"><a href="intermediate-sql.html#cb3247-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> country</span>
<span id="cb3247-6"><a href="intermediate-sql.html#cb3247-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- Filter to countries with an average_budget of more than one billion</span></span>
<span id="cb3247-7"><a href="intermediate-sql.html#cb3247-7" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">AVG</span>(budget) <span class="op">&gt;</span> <span class="dv">1000000000</span></span>
<span id="cb3247-8"><a href="intermediate-sql.html#cb3247-8" aria-hidden="true" tabindex="-1"></a><span class="co">-- Order by descending order of the aggregated budget</span></span>
<span id="cb3247-9"><a href="intermediate-sql.html#cb3247-9" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> average_budget <span class="kw">DESC</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1306">Table 24.52: </span>2 records</caption>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">average_budget</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">South Korea</td>
<td align="right">1383960000</td>
</tr>
<tr class="even">
<td align="left">Hungary</td>
<td align="right">1260000000</td>
</tr>
</tbody>
</table>
</div>
<p>South Korea and Hungary seem to have pricey films… or do they? Actually, these budgets are pretty standard for their local currency.</p>
</div>
<div id="all-together" class="section level4 hasAnchor" number="24.4.3.3">
<h4><span class="header-section-number">24.4.3.3</span> All together<a href="intermediate-sql.html#all-together" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You’ll write a query that returns the average budget and gross earnings for films each year after 1990 if the average budget is greater than 60 million.</p>
<div class="sourceCode" id="cb3248"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3248-1"><a href="intermediate-sql.html#cb3248-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select the release_year, average budget and average gross</span></span>
<span id="cb3248-2"><a href="intermediate-sql.html#cb3248-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- for films released after 1990 grouped by year</span></span>
<span id="cb3248-3"><a href="intermediate-sql.html#cb3248-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> release_year, <span class="fu">AVG</span>(budget) <span class="kw">AS</span> avg_budget, <span class="fu">AVG</span>(gross) <span class="kw">AS</span> avg_gross</span>
<span id="cb3248-4"><a href="intermediate-sql.html#cb3248-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> films</span>
<span id="cb3248-5"><a href="intermediate-sql.html#cb3248-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> release_year <span class="op">&gt;</span> <span class="dv">1990</span></span>
<span id="cb3248-6"><a href="intermediate-sql.html#cb3248-6" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> release_year</span>
<span id="cb3248-7"><a href="intermediate-sql.html#cb3248-7" aria-hidden="true" tabindex="-1"></a><span class="co">-- Only years with an avg_budget of more than 60 million</span></span>
<span id="cb3248-8"><a href="intermediate-sql.html#cb3248-8" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">AVG</span>(budget) <span class="op">&gt;</span> <span class="dv">60000000</span></span>
<span id="cb3248-9"><a href="intermediate-sql.html#cb3248-9" aria-hidden="true" tabindex="-1"></a><span class="co">-- Order the results from highest to lowest average gross and limit to one</span></span>
<span id="cb3248-10"><a href="intermediate-sql.html#cb3248-10" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> avg_gross <span class="kw">DESC</span></span>
<span id="cb3248-11"><a href="intermediate-sql.html#cb3248-11" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">1</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-1307">Table 24.53: </span>1 records</caption>
<thead>
<tr class="header">
<th align="right">release_year</th>
<th align="right">avg_budget</th>
<th align="right">avg_gross</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2005</td>
<td align="right">70323938</td>
<td align="right">41159143</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb3249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3249-1"><a href="intermediate-sql.html#cb3249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># disconnect the sql connection</span></span>
<span id="cb3249-2"><a href="intermediate-sql.html#cb3249-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-sql.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="joining-data-in-sql.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/24-Intermediate-SQL.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
