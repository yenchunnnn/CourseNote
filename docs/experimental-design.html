<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Experimental Design | Data Scientist with R</title>
  <meta name="description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Experimental Design | Data Scientist with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a notebook about the data science courses took from the datacamp." />
  <meta name="github-repo" content="yenchunnnn/CourseNote" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Experimental Design | Data Scientist with R" />
  
  <meta name="twitter:description" content="This is a notebook about the data science courses took from the datacamp." />
  

<meta name="author" content="Yen Chun Chen" />


<meta name="date" content="2024-01-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hypothesis-testing.html"/>
<link rel="next" href="supervised-learning-classification.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Scientist with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic data types</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vector"><i class="fa fa-check"></i><b>1.3</b> Vector</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function"><i class="fa fa-check"></i><b>1.3.1</b> Useful function</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-brackets-or-names"><i class="fa fa-check"></i><b>1.3.2</b> Selection - by brackets or names</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---operators"><i class="fa fa-check"></i><b>1.3.3</b> Selection - by comparison - operators</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---by-comparison---values"><i class="fa fa-check"></i><b>1.3.4</b> Selection - by comparison - values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrix"><i class="fa fa-check"></i><b>1.4</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-function"><i class="fa fa-check"></i><b>1.4.1</b> Construct function</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#construct-by-vector"><i class="fa fa-check"></i><b>1.4.2</b> Construct by vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.4.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---sum-of-each-row-column"><i class="fa fa-check"></i><b>1.4.4</b> Manipulating - sum of each row &amp; column</a></li>
<li class="chapter" data-level="1.4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-columns"><i class="fa fa-check"></i><b>1.4.5</b> Manipulating - add columns</a></li>
<li class="chapter" data-level="1.4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#manipulating---add-rows"><i class="fa fa-check"></i><b>1.4.6</b> Manipulating - add rows</a></li>
<li class="chapter" data-level="1.4.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.4.7</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.4.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---1"><i class="fa fa-check"></i><b>1.4.8</b> Arithmetic - 1</a></li>
<li class="chapter" data-level="1.4.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic---2"><i class="fa fa-check"></i><b>1.4.9</b> Arithmetic - 2</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor"><i class="fa fa-check"></i><b>1.5</b> Factor</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#useful-function-1"><i class="fa fa-check"></i><b>1.5.1</b> Useful function</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-ordinal-categorical-variable"><i class="fa fa-check"></i><b>1.5.2</b> Nominal &amp; Ordinal categorical variable</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factor-levels"><i class="fa fa-check"></i><b>1.5.3</b> Factor levels</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.5.4</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordered-factors"><i class="fa fa-check"></i><b>1.5.5</b> Ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frame"><i class="fa fa-check"></i><b>1.6</b> Data Frame</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#quick-look-at-dataset"><i class="fa fa-check"></i><b>1.6.1</b> Quick look at dataset</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---brackets"><i class="fa fa-check"></i><b>1.6.3</b> Selection - brackets</a></li>
<li class="chapter" data-level="1.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---names"><i class="fa fa-check"></i><b>1.6.4</b> Selection - names</a></li>
<li class="chapter" data-level="1.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection--"><i class="fa fa-check"></i><b>1.6.5</b> Selection - $</a></li>
<li class="chapter" data-level="1.6.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection---subset"><i class="fa fa-check"></i><b>1.6.6</b> Selection - subset</a></li>
<li class="chapter" data-level="1.6.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sorting"><i class="fa fa-check"></i><b>1.6.7</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#list"><i class="fa fa-check"></i><b>1.7</b> List</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-list"><i class="fa fa-check"></i><b>1.7.1</b> Creating a list</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.7.2</b> Creating a named list</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selection"><i class="fa fa-check"></i><b>1.7.3</b> Selection</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bring-it-all-together"><i class="fa fa-check"></i><b>1.8</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Relational operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#conditional-statements"><i class="fa fa-check"></i><b>2.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#while-loop"><i class="fa fa-check"></i><b>2.2.1</b> While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loop"><i class="fa fa-check"></i><b>2.2.2</b> For loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#bring-it-all-together-1"><i class="fa fa-check"></i><b>2.2.3</b> Bring it all together</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#function"><i class="fa fa-check"></i><b>2.3</b> Function</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#introduction-to-function"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to function</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#writing-functions"><i class="fa fa-check"></i><b>2.3.2</b> Writing functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#packages"><i class="fa fa-check"></i><b>2.3.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply"><i class="fa fa-check"></i><b>2.4.1</b> lapply</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply"><i class="fa fa-check"></i><b>2.4.2</b> sapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#vapply"><i class="fa fa-check"></i><b>2.4.3</b> vapply</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-vs-sapply-vs-vapply"><i class="fa fa-check"></i><b>2.4.4</b> lapply vs sapply vs vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#data-structures-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Data structures utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#regular-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Regular Expressions</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#dates-times"><i class="fa fa-check"></i><b>2.5.4</b> Dates &amp; Times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#load-dataset"><i class="fa fa-check"></i><b>3.1.1</b> Load dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filtering"><i class="fa fa-check"></i><b>3.1.2</b> Filtering</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange"><i class="fa fa-check"></i><b>3.1.3</b> Arrange</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.4</b> Mutate</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#subset-df-variable"><i class="fa fa-check"></i><b>3.2.1</b> Subset df variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> ggplot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#faceting"><i class="fa fa-check"></i><b>3.2.3</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#grouping-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping &amp; summarizing</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize"><i class="fa fa-check"></i><b>3.3.1</b> Summarize</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group-by"><i class="fa fa-check"></i><b>3.3.2</b> Group by</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-summarized-data"><i class="fa fa-check"></i><b>3.3.3</b> Visualizing summarized data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#line-plots"><i class="fa fa-check"></i><b>3.4.1</b> Line plots</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#bar-plots"><i class="fa fa-check"></i><b>3.4.2</b> Bar plots</a></li>
<li class="chapter" data-level="3.4.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#histograms"><i class="fa fa-check"></i><b>3.4.3</b> Histograms</a></li>
<li class="chapter" data-level="3.4.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#box-plots"><i class="fa fa-check"></i><b>3.4.4</b> Box plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#transforming-data"><i class="fa fa-check"></i><b>4.1</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data"><i class="fa fa-check"></i><b>4.1.1</b> Exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>4.2.1</b> Count</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-summarize-ungroup"><i class="fa fa-check"></i><b>4.2.2</b> group_by, summarize, ungroup</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#slice_min-slice_max"><i class="fa fa-check"></i><b>4.2.3</b> slice_min, slice_max</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.3.1</b> Select</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>4.3.2</b> Rename</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#transmute"><i class="fa fa-check"></i><b>4.3.3</b> Transmute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#load-dataset-1"><i class="fa fa-check"></i><b>4.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#exploring-data-1"><i class="fa fa-check"></i><b>4.4.2</b> Exploring data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>5</b> Joining Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joining-data.html"><a href="joining-data.html#inner-join"><i class="fa fa-check"></i><b>5.1</b> Inner join</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joining-data.html"><a href="joining-data.html#join-by-keys"><i class="fa fa-check"></i><b>5.1.1</b> Join by keys</a></li>
<li class="chapter" data-level="5.1.2" data-path="joining-data.html"><a href="joining-data.html#join-with-a-one-to-many-relationship"><i class="fa fa-check"></i><b>5.1.2</b> Join with a one-to-many relationship</a></li>
<li class="chapter" data-level="5.1.3" data-path="joining-data.html"><a href="joining-data.html#join-in-either-direction"><i class="fa fa-check"></i><b>5.1.3</b> Join in either direction</a></li>
<li class="chapter" data-level="5.1.4" data-path="joining-data.html"><a href="joining-data.html#join-three-or-more-tables"><i class="fa fa-check"></i><b>5.1.4</b> Join three or more tables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="joining-data.html"><a href="joining-data.html#left-right-joins"><i class="fa fa-check"></i><b>5.2</b> Left &amp; Right Joins</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i><b>5.2.1</b> Left join</a></li>
<li class="chapter" data-level="5.2.2" data-path="joining-data.html"><a href="joining-data.html#right-join"><i class="fa fa-check"></i><b>5.2.2</b> Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="joining-data.html"><a href="joining-data.html#full-semi-anti-joins"><i class="fa fa-check"></i><b>5.3</b> Full, Semi &amp; Anti Joins</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="joining-data.html"><a href="joining-data.html#full-join"><i class="fa fa-check"></i><b>5.3.1</b> Full join</a></li>
<li class="chapter" data-level="5.3.2" data-path="joining-data.html"><a href="joining-data.html#semi-anti-joins"><i class="fa fa-check"></i><b>5.3.2</b> Semi &amp; Anti joins</a></li>
<li class="chapter" data-level="5.3.3" data-path="joining-data.html"><a href="joining-data.html#visualizing-set-differences"><i class="fa fa-check"></i><b>5.3.3</b> Visualizing set differences</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="joining-data.html"><a href="joining-data.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>5.4</b> Case study: Joins on Stack Overflow Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="joining-data.html"><a href="joining-data.html#load-dataset-2"><i class="fa fa-check"></i><b>5.4.1</b> Load dataset</a></li>
<li class="chapter" data-level="5.4.2" data-path="joining-data.html"><a href="joining-data.html#stack-overflow-questions"><i class="fa fa-check"></i><b>5.4.2</b> Stack Overflow questions</a></li>
<li class="chapter" data-level="5.4.3" data-path="joining-data.html"><a href="joining-data.html#joining-questions-and-answers"><i class="fa fa-check"></i><b>5.4.3</b> Joining questions and answers</a></li>
<li class="chapter" data-level="5.4.4" data-path="joining-data.html"><a href="joining-data.html#the-bind_rows-verb"><i class="fa fa-check"></i><b>5.4.4</b> The bind_rows verb</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>6</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#summary-statistics"><i class="fa fa-check"></i><b>6.1</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-center"><i class="fa fa-check"></i><b>6.1.1</b> Measures of center</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#measures-of-spread"><i class="fa fa-check"></i><b>6.1.2</b> Measures of spread</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#random-numbers-and-probability"><i class="fa fa-check"></i><b>6.2</b> Random Numbers and Probability</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chances"><i class="fa fa-check"></i><b>6.2.1</b> Chances</a></li>
<li class="chapter" data-level="6.2.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2.2</b> Discrete distributions</a></li>
<li class="chapter" data-level="6.2.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#continuous-distributions"><i class="fa fa-check"></i><b>6.2.3</b> Continuous distributions</a></li>
<li class="chapter" data-level="6.2.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#binomial-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#more-distributions-central-limit-theorem"><i class="fa fa-check"></i><b>6.3</b> More Distributions &amp; Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.3.2</b> Central limit theorem</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#poisson-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Poisson distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exponential-distribution"><i class="fa fa-check"></i><b>6.3.4</b> Exponential distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#students-t-distribution"><i class="fa fa-check"></i><b>6.3.5</b> (Student’s) t-distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#log-normal-distribution"><i class="fa fa-check"></i><b>6.3.6</b> Log-normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-and-experimental-design"><i class="fa fa-check"></i><b>6.4</b> Correlation and Experimental Design</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation"><i class="fa fa-check"></i><b>6.4.1</b> Correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation-caveats"><i class="fa fa-check"></i><b>6.4.2</b> Correlation caveats</a></li>
<li class="chapter" data-level="6.4.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#design-of-experiments"><i class="fa fa-check"></i><b>6.4.3</b> Design of experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Introduction to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#data-columns-types-affect-plot-types"><i class="fa fa-check"></i><b>7.1.1</b> Data columns types affect plot types</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#ggplot2-layers"><i class="fa fa-check"></i><b>7.1.3</b> ggplot2 layers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>7.2</b> Aesthetics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#visible-aesthetics"><i class="fa fa-check"></i><b>7.2.1</b> Visible aesthetics</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#using-attributes"><i class="fa fa-check"></i><b>7.2.2</b> Using attributes</a></li>
<li class="chapter" data-level="7.2.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#modifying-aesthetics"><i class="fa fa-check"></i><b>7.2.3</b> Modifying aesthetics</a></li>
<li class="chapter" data-level="7.2.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#aesthetics-best-practices"><i class="fa fa-check"></i><b>7.2.4</b> Aesthetics best practices</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>7.3</b> Geometries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>7.3.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#bar-plots-1"><i class="fa fa-check"></i><b>7.3.3</b> Bar plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#line-plots-1"><i class="fa fa-check"></i><b>7.3.4</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.4</b> Themes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#themes-from-scratch"><i class="fa fa-check"></i><b>7.4.1</b> Themes from scratch</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#theme-flexibility"><i class="fa fa-check"></i><b>7.4.2</b> Theme flexibility</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html#effective-explanatory-plots"><i class="fa fa-check"></i><b>7.4.3</b> Effective explanatory plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>8.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-with-geoms"><i class="fa fa-check"></i><b>8.1.1</b> Stats with geoms</a></li>
<li class="chapter" data-level="8.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-sum-quantile"><i class="fa fa-check"></i><b>8.1.2</b> Stats: sum &amp; quantile</a></li>
<li class="chapter" data-level="8.1.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#stats-outside-geoms"><i class="fa fa-check"></i><b>8.1.3</b> Stats outside geoms</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates"><i class="fa fa-check"></i><b>8.2</b> Coordinates</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>8.2.1</b> Coordinates layer</a></li>
<li class="chapter" data-level="8.2.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#coordinates-vs.-scales"><i class="fa fa-check"></i><b>8.2.2</b> Coordinates vs. scales</a></li>
<li class="chapter" data-level="8.2.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#double-flipped-axes"><i class="fa fa-check"></i><b>8.2.3</b> Double &amp; flipped axes</a></li>
<li class="chapter" data-level="8.2.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#polar-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Polar coordinates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.3</b> Facets</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#the-facets-layer"><i class="fa fa-check"></i><b>8.3.1</b> The facets layer</a></li>
<li class="chapter" data-level="8.3.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-labels-order"><i class="fa fa-check"></i><b>8.3.2</b> Facet labels &amp; order</a></li>
<li class="chapter" data-level="8.3.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-plotting-spaces"><i class="fa fa-check"></i><b>8.3.3</b> Facet plotting spaces</a></li>
<li class="chapter" data-level="8.3.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#facet-wrap-margins"><i class="fa fa-check"></i><b>8.3.4</b> Facet wrap &amp; margins</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#best-practices"><i class="fa fa-check"></i><b>8.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#bar-plots-2"><i class="fa fa-check"></i><b>8.4.1</b> Bar plots</a></li>
<li class="chapter" data-level="8.4.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#heatmaps-use-case-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Heatmaps use case scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#when-good-data-makes-bad-plots"><i class="fa fa-check"></i><b>8.4.3</b> When good data makes bad plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Introduction to Importing Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#flat-files-with-utils"><i class="fa fa-check"></i><b>9.1</b> Flat files with utils</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.csv"><i class="fa fa-check"></i><b>9.1.1</b> read.csv</a></li>
<li class="chapter" data-level="9.1.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.delim"><i class="fa fa-check"></i><b>9.1.2</b> read.delim</a></li>
<li class="chapter" data-level="9.1.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#read.table"><i class="fa fa-check"></i><b>9.1.3</b> read.table</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr-data.table"><i class="fa fa-check"></i><b>9.2</b> readr &amp; data.table</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#readr"><i class="fa fa-check"></i><b>9.2.1</b> readr</a></li>
<li class="chapter" data-level="9.2.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#data.table"><i class="fa fa-check"></i><b>9.2.2</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#excel-data"><i class="fa fa-check"></i><b>9.3</b> Excel data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#list-the-sheets-of-xls-file"><i class="fa fa-check"></i><b>9.3.1</b> List the sheets of xls file</a></li>
<li class="chapter" data-level="9.3.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#import-an-excel-sheet"><i class="fa fa-check"></i><b>9.3.2</b> Import an Excel sheet</a></li>
<li class="chapter" data-level="9.3.3" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#col_names-skip-argument"><i class="fa fa-check"></i><b>9.3.3</b> col_names &amp; skip argument</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#reproducible-excel-work---xlconnect"><i class="fa fa-check"></i><b>9.4</b> Reproducible Excel work - XLConnect</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets"><i class="fa fa-check"></i><b>9.4.1</b> Adapting sheets</a></li>
<li class="chapter" data-level="9.4.2" data-path="introduction-to-importing-data-in-r.html"><a href="introduction-to-importing-data-in-r.html#adapting-sheets-1"><i class="fa fa-check"></i><b>9.4.2</b> Adapting sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>10.1</b> Common Data Problems</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#data-type-constraints"><i class="fa fa-check"></i><b>10.1.1</b> Data type constraints</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#range-constraints"><i class="fa fa-check"></i><b>10.1.2</b> Range constraints</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniqueness-constraints"><i class="fa fa-check"></i><b>10.1.3</b> Uniqueness constraints</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>10.2</b> Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#checking-membership"><i class="fa fa-check"></i><b>10.2.1</b> Checking membership</a></li>
<li class="chapter" data-level="10.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-data-problems"><i class="fa fa-check"></i><b>10.2.2</b> Categorical data problems</a></li>
<li class="chapter" data-level="10.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cleaning-text-data"><i class="fa fa-check"></i><b>10.2.3</b> Cleaning text data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>10.3</b> Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#uniformity"><i class="fa fa-check"></i><b>10.3.1</b> Uniformity</a></li>
<li class="chapter" data-level="10.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#cross-field-validation"><i class="fa fa-check"></i><b>10.3.2</b> Cross field validation</a></li>
<li class="chapter" data-level="10.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#completeness"><i class="fa fa-check"></i><b>10.3.3</b> Completeness</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>10.4</b> Record Linkage</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-strings"><i class="fa fa-check"></i><b>10.4.1</b> Comparing strings</a></li>
<li class="chapter" data-level="10.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#generating-and-comparing-pairs"><i class="fa fa-check"></i><b>10.4.2</b> Generating and comparing pairs</a></li>
<li class="chapter" data-level="10.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#scoring-and-linking"><i class="fa fa-check"></i><b>10.4.3</b> Scoring and linking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html"><i class="fa fa-check"></i><b>11</b> Working with Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#dates-and-times-in-r"><i class="fa fa-check"></i><b>11.1</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#introduction-to-dates"><i class="fa fa-check"></i><b>11.1.1</b> Introduction to dates</a></li>
<li class="chapter" data-level="11.1.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#why-use-dates"><i class="fa fa-check"></i><b>11.1.2</b> Why use dates?</a></li>
<li class="chapter" data-level="11.1.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#what-about-times"><i class="fa fa-check"></i><b>11.1.3</b> What about times?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-manipulating-with-lubridate"><i class="fa fa-check"></i><b>11.2</b> Parsing &amp; Manipulating with lubridate</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#parsing-dates"><i class="fa fa-check"></i><b>11.2.1</b> Parsing dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#manipulating-dates"><i class="fa fa-check"></i><b>11.2.2</b> Manipulating dates</a></li>
<li class="chapter" data-level="11.2.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#extracting-parts-of-a-datetime"><i class="fa fa-check"></i><b>11.2.3</b> Extracting parts of a datetime</a></li>
<li class="chapter" data-level="11.2.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#rounding-datetimes"><i class="fa fa-check"></i><b>11.2.4</b> Rounding datetimes</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#arithmetic-with-dates-and-times"><i class="fa fa-check"></i><b>11.3</b> Arithmetic with Dates and Times</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#taking-differences-of-datetimes"><i class="fa fa-check"></i><b>11.3.1</b> Taking differences of datetimes</a></li>
<li class="chapter" data-level="11.3.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-spans"><i class="fa fa-check"></i><b>11.3.2</b> Time spans</a></li>
<li class="chapter" data-level="11.3.3" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#intervals"><i class="fa fa-check"></i><b>11.3.3</b> Intervals</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#problems-in-practice"><i class="fa fa-check"></i><b>11.4</b> Problems in practice</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#time-zones"><i class="fa fa-check"></i><b>11.4.1</b> Time zones</a></li>
<li class="chapter" data-level="11.4.2" data-path="working-with-dates-and-times-in-r.html"><a href="working-with-dates-and-times-in-r.html#more-on-import-and-export-datetimes"><i class="fa fa-check"></i><b>11.4.2</b> More on import and export datetimes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html"><i class="fa fa-check"></i><b>12</b> Introduction to Writing Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#write-a-function"><i class="fa fa-check"></i><b>12.1</b> Write a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#why-write-function"><i class="fa fa-check"></i><b>12.1.1</b> Why write function?</a></li>
<li class="chapter" data-level="12.1.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#convert-scripts-into-functions"><i class="fa fa-check"></i><b>12.1.2</b> Convert scripts into functions</a></li>
<li class="chapter" data-level="12.1.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#readable-code"><i class="fa fa-check"></i><b>12.1.3</b> Readable code</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#all-about-arguments"><i class="fa fa-check"></i><b>12.2</b> All About Arguments</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#default-arguments"><i class="fa fa-check"></i><b>12.2.1</b> Default arguments</a></li>
<li class="chapter" data-level="12.2.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#pass-arguments-between-functions"><i class="fa fa-check"></i><b>12.2.2</b> Pass arguments between functions</a></li>
<li class="chapter" data-level="12.2.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#checking-arguments"><i class="fa fa-check"></i><b>12.2.3</b> Checking arguments</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-values-and-scope"><i class="fa fa-check"></i><b>12.3</b> Return Values and Scope</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#returning-values"><i class="fa fa-check"></i><b>12.3.1</b> Returning values</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#return-multiple-values"><i class="fa fa-check"></i><b>12.3.2</b> Return multiple values</a></li>
<li class="chapter" data-level="12.3.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#environments"><i class="fa fa-check"></i><b>12.3.3</b> Environments</a></li>
<li class="chapter" data-level="12.3.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#scope-and-precedence"><i class="fa fa-check"></i><b>12.3.4</b> Scope and precedence</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#case-study-on-grain-yields"><i class="fa fa-check"></i><b>12.4</b> Case Study on Grain Yields</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#grain-yields-unit-conversion"><i class="fa fa-check"></i><b>12.4.1</b> Grain yields &amp; unit conversion</a></li>
<li class="chapter" data-level="12.4.2" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#visualizing-grain-yields"><i class="fa fa-check"></i><b>12.4.2</b> Visualizing grain yields</a></li>
<li class="chapter" data-level="12.4.3" data-path="introduction-to-writing-functions.html"><a href="introduction-to-writing-functions.html#modeling-grain-yields"><i class="fa fa-check"></i><b>12.4.3</b> Modeling grain yields</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-categorical-data"><i class="fa fa-check"></i><b>13.1</b> Exploring Categorical Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#categorical-data"><i class="fa fa-check"></i><b>13.1.1</b> Categorical data</a></li>
<li class="chapter" data-level="13.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions"><i class="fa fa-check"></i><b>13.1.2</b> Counts vs. proportions</a></li>
<li class="chapter" data-level="13.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable"><i class="fa fa-check"></i><b>13.1.3</b> Distribution of one variable</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#exploring-numerical-data"><i class="fa fa-check"></i><b>13.2</b> Exploring numerical data</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-data"><i class="fa fa-check"></i><b>13.2.1</b> Numerical Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#distribution-of-one-variable-1"><i class="fa fa-check"></i><b>13.2.2</b> Distribution of one variable</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-1"><i class="fa fa-check"></i><b>13.2.3</b> Box plots</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#visual-in-higher-dimensions"><i class="fa fa-check"></i><b>13.2.4</b> Visual in higher dimensions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>13.3</b> Numerical Summaries</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-center-1"><i class="fa fa-check"></i><b>13.3.1</b> Measures of center</a></li>
<li class="chapter" data-level="13.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#measures-of-variability"><i class="fa fa-check"></i><b>13.3.2</b> Measures of variability</a></li>
<li class="chapter" data-level="13.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#shape-transformations"><i class="fa fa-check"></i><b>13.3.3</b> Shape &amp; transformations</a></li>
<li class="chapter" data-level="13.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#outliers"><i class="fa fa-check"></i><b>13.3.4</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#case-study"><i class="fa fa-check"></i><b>13.4</b> Case Study</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#new-data"><i class="fa fa-check"></i><b>13.4.1</b> New data</a></li>
<li class="chapter" data-level="13.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-1"><i class="fa fa-check"></i><b>13.4.2</b> Check-in 1</a></li>
<li class="chapter" data-level="13.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#check-in-2"><i class="fa fa-check"></i><b>13.4.3</b> Check-in 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html"><i class="fa fa-check"></i><b>14</b> Introduction to Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>14.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#tale-of-two-variables"><i class="fa fa-check"></i><b>14.1.1</b> Tale of two variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#fitting-a-linear-regression"><i class="fa fa-check"></i><b>14.1.2</b> Fitting a linear regression</a></li>
<li class="chapter" data-level="14.1.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#categorical-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Categorical explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-model-objects"><i class="fa fa-check"></i><b>14.2</b> Predictions &amp; model objects</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#making-predictions"><i class="fa fa-check"></i><b>14.2.1</b> Making predictions</a></li>
<li class="chapter" data-level="14.2.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#working-with-model-objects"><i class="fa fa-check"></i><b>14.2.2</b> Working with model objects</a></li>
<li class="chapter" data-level="14.2.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>14.2.3</b> Regression to the mean</a></li>
<li class="chapter" data-level="14.2.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#transforming-variables"><i class="fa fa-check"></i><b>14.2.4</b> Transforming variables</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#assessing-model-fit"><i class="fa fa-check"></i><b>14.3</b> Assessing model fit</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantifying-model-fit"><i class="fa fa-check"></i><b>14.3.1</b> Quantifying model fit</a></li>
<li class="chapter" data-level="14.3.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#visualizing-model-fit"><i class="fa fa-check"></i><b>14.3.2</b> Visualizing model fit</a></li>
<li class="chapter" data-level="14.3.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#outliers-leverage-influence"><i class="fa fa-check"></i><b>14.3.3</b> Outliers, leverage, influence</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#simple-logistic-regression"><i class="fa fa-check"></i><b>14.4</b> Simple logistic regression</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#why-need-logistic-regression"><i class="fa fa-check"></i><b>14.4.1</b> Why need logistic regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#predictions-odds-ratios"><i class="fa fa-check"></i><b>14.4.2</b> Predictions &amp; odds ratios</a></li>
<li class="chapter" data-level="14.4.3" data-path="introduction-to-regression.html"><a href="introduction-to-regression.html#quantify-logistic-regression-fit"><i class="fa fa-check"></i><b>14.4.3</b> Quantify logistic regression fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>15</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>15.1</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#parallel-slopes-linear-regression"><i class="fa fa-check"></i><b>15.1.1</b> Parallel slopes linear regression</a></li>
<li class="chapter" data-level="15.1.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predicting-parallel-slopes"><i class="fa fa-check"></i><b>15.1.2</b> Predicting parallel slopes</a></li>
<li class="chapter" data-level="15.1.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#assessing-model-performance"><i class="fa fa-check"></i><b>15.1.3</b> Assessing model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#interactions"><i class="fa fa-check"></i><b>15.2</b> Interactions</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#models-for-each-category"><i class="fa fa-check"></i><b>15.2.1</b> Models for each category</a></li>
<li class="chapter" data-level="15.2.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#one-model-with-an-interaction"><i class="fa fa-check"></i><b>15.2.2</b> One model with an interaction</a></li>
<li class="chapter" data-level="15.2.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#predict-with-interactions"><i class="fa fa-check"></i><b>15.2.3</b> Predict with interactions</a></li>
<li class="chapter" data-level="15.2.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>15.2.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>15.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#two-numeric-ivs"><i class="fa fa-check"></i><b>15.3.1</b> Two numeric IVs</a></li>
<li class="chapter" data-level="15.3.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#more-than-2-ivs"><i class="fa fa-check"></i><b>15.3.2</b> More than 2 IVs</a></li>
<li class="chapter" data-level="15.3.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance"><i class="fa fa-check"></i><b>15.3.3</b> Model performance</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>15.4</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-logistic-regression-1"><i class="fa fa-check"></i><b>15.4.1</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#logistic-distribution"><i class="fa fa-check"></i><b>15.4.2</b> Logistic distribution</a></li>
<li class="chapter" data-level="15.4.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#model-performance-1"><i class="fa fa-check"></i><b>15.4.3</b> Model performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sampling-in-r.html"><a href="sampling-in-r.html"><i class="fa fa-check"></i><b>16</b> Sampling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-sampling"><i class="fa fa-check"></i><b>16.1</b> Introduction to Sampling</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-point-estimates"><i class="fa fa-check"></i><b>16.1.1</b> Sampling &amp; point estimates</a></li>
<li class="chapter" data-level="16.1.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#convenience-sampling"><i class="fa fa-check"></i><b>16.1.2</b> Convenience sampling</a></li>
<li class="chapter" data-level="16.1.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#pseudo-random-number-generation"><i class="fa fa-check"></i><b>16.1.3</b> Pseudo-random number generation</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-methods"><i class="fa fa-check"></i><b>16.2</b> Sampling Methods</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#simple-random-systematic-sampling"><i class="fa fa-check"></i><b>16.2.1</b> Simple random &amp; systematic sampling</a></li>
<li class="chapter" data-level="16.2.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#stratified-weighted-random-sampling"><i class="fa fa-check"></i><b>16.2.2</b> Stratified &amp; weighted random sampling</a></li>
<li class="chapter" data-level="16.2.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>16.2.3</b> Cluster sampling</a></li>
<li class="chapter" data-level="16.2.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-methods"><i class="fa fa-check"></i><b>16.2.4</b> Comparing sampling methods</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#sampling-distributions"><i class="fa fa-check"></i><b>16.3</b> Sampling Distributions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#relative-error-of-point-estimates"><i class="fa fa-check"></i><b>16.3.1</b> Relative error of point estimates</a></li>
<li class="chapter" data-level="16.3.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#creating-a-sampling-distribution"><i class="fa fa-check"></i><b>16.3.2</b> Creating a sampling distribution</a></li>
<li class="chapter" data-level="16.3.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#approximate-sampling-distributions"><i class="fa fa-check"></i><b>16.3.3</b> Approximate sampling distributions</a></li>
<li class="chapter" data-level="16.3.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#standard-errors-clt"><i class="fa fa-check"></i><b>16.3.4</b> Standard errors &amp; CLT</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sampling-in-r.html"><a href="sampling-in-r.html#bootstrap-distributions"><i class="fa fa-check"></i><b>16.4</b> Bootstrap Distributions</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="sampling-in-r.html"><a href="sampling-in-r.html#introduction-to-bootstrapping"><i class="fa fa-check"></i><b>16.4.1</b> Introduction to bootstrapping</a></li>
<li class="chapter" data-level="16.4.2" data-path="sampling-in-r.html"><a href="sampling-in-r.html#comparing-sampling-bootstrap-distributions"><i class="fa fa-check"></i><b>16.4.2</b> Comparing sampling &amp; bootstrap distributions</a></li>
<li class="chapter" data-level="16.4.3" data-path="sampling-in-r.html"><a href="sampling-in-r.html#confidence-intervals"><i class="fa fa-check"></i><b>16.4.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>17</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>17.1</b> Introduction to Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-tests-z-scores"><i class="fa fa-check"></i><b>17.1.1</b> Hypothesis tests &amp; z-scores</a></li>
<li class="chapter" data-level="17.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>17.1.2</b> p-values</a></li>
<li class="chapter" data-level="17.1.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>17.1.3</b> Statistical significance</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-anova-tests"><i class="fa fa-check"></i><b>17.2</b> Two-Sample &amp; ANOVA Tests</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#performing-t-tests"><i class="fa fa-check"></i><b>17.2.1</b> Performing t-tests</a></li>
<li class="chapter" data-level="17.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#calculating-p-values-from-t-statistics"><i class="fa fa-check"></i><b>17.2.2</b> Calculating p-values from t-statistics</a></li>
<li class="chapter" data-level="17.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-t-tests"><i class="fa fa-check"></i><b>17.2.3</b> Paired t-tests</a></li>
<li class="chapter" data-level="17.2.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#anova-tests"><i class="fa fa-check"></i><b>17.2.4</b> ANOVA tests</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#proportion-tests"><i class="fa fa-check"></i><b>17.3</b> Proportion Tests</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.1</b> One-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-sample-proportion-tests"><i class="fa fa-check"></i><b>17.3.2</b> Two-sample proportion tests</a></li>
<li class="chapter" data-level="17.3.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>17.3.3</b> Chi-square test of independence</a></li>
<li class="chapter" data-level="17.3.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-goodness-of-fit-tests"><i class="fa fa-check"></i><b>17.3.4</b> Chi-square goodness of fit tests</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>17.4</b> Non-Parametric Tests</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#assumptions-in-hypothesis-testing"><i class="fa fa-check"></i><b>17.4.1</b> Assumptions in hypothesis testing</a></li>
<li class="chapter" data-level="17.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#simulation-based-infer-pipeline"><i class="fa fa-check"></i><b>17.4.2</b> Simulation-based infer pipeline</a></li>
<li class="chapter" data-level="17.4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-anova-unpaired-t-tests"><i class="fa fa-check"></i><b>17.4.3</b> Non-parametric ANOVA &amp; unpaired t-tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>18</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="18.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-to-experimental-design"><i class="fa fa-check"></i><b>18.1</b> Introduction to experimental design</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="experimental-design.html"><a href="experimental-design.html#introduction-1"><i class="fa fa-check"></i><b>18.1.1</b> Introduction</a></li>
<li class="chapter" data-level="18.1.2" data-path="experimental-design.html"><a href="experimental-design.html#replication-blocking"><i class="fa fa-check"></i><b>18.1.2</b> Replication &amp; blocking</a></li>
<li class="chapter" data-level="18.1.3" data-path="experimental-design.html"><a href="experimental-design.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>18.1.3</b> Hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="experimental-design.html"><a href="experimental-design.html#basic-experiments"><i class="fa fa-check"></i><b>18.2</b> Basic Experiments</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="experimental-design.html"><a href="experimental-design.html#anova-factor-experiments"><i class="fa fa-check"></i><b>18.2.1</b> ANOVA &amp; factor experiments</a></li>
<li class="chapter" data-level="18.2.2" data-path="experimental-design.html"><a href="experimental-design.html#model-validation"><i class="fa fa-check"></i><b>18.2.2</b> Model validation</a></li>
<li class="chapter" data-level="18.2.3" data-path="experimental-design.html"><a href="experimental-design.html#ab-testing"><i class="fa fa-check"></i><b>18.2.3</b> A/B testing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="experimental-design.html"><a href="experimental-design.html#block-designs"><i class="fa fa-check"></i><b>18.3</b> Block Designs</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="experimental-design.html"><a href="experimental-design.html#intro-to-sampling"><i class="fa fa-check"></i><b>18.3.1</b> Intro to sampling</a></li>
<li class="chapter" data-level="18.3.2" data-path="experimental-design.html"><a href="experimental-design.html#randomized-complete-block-designs-rcbd"><i class="fa fa-check"></i><b>18.3.2</b> Randomized Complete Block Designs (RCBD)</a></li>
<li class="chapter" data-level="18.3.3" data-path="experimental-design.html"><a href="experimental-design.html#balanced-incomplete-block-designs-bibd"><i class="fa fa-check"></i><b>18.3.3</b> Balanced Incomplete Block Designs (BIBD)</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="experimental-design.html"><a href="experimental-design.html#squares-factorial-experiments"><i class="fa fa-check"></i><b>18.4</b> Squares &amp; Factorial Experiments</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="experimental-design.html"><a href="experimental-design.html#latin-squares"><i class="fa fa-check"></i><b>18.4.1</b> Latin squares</a></li>
<li class="chapter" data-level="18.4.2" data-path="experimental-design.html"><a href="experimental-design.html#graeco-latin-squares"><i class="fa fa-check"></i><b>18.4.2</b> Graeco-Latin squares</a></li>
<li class="chapter" data-level="18.4.3" data-path="experimental-design.html"><a href="experimental-design.html#factorial-experiments"><i class="fa fa-check"></i><b>18.4.3</b> Factorial experiments</a></li>
<li class="chapter" data-level="18.4.4" data-path="experimental-design.html"><a href="experimental-design.html#other-experimental-designs"><i class="fa fa-check"></i><b>18.4.4</b> Other experimental designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html"><i class="fa fa-check"></i><b>19</b> Supervised Learning: Classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-nearest-neighbors-knn"><i class="fa fa-check"></i><b>19.1</b> k-Nearest Neighbors (kNN)</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-with-nearest-neighbors"><i class="fa fa-check"></i><b>19.1.1</b> Classification with Nearest Neighbors</a></li>
<li class="chapter" data-level="19.1.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#k-in-knn"><i class="fa fa-check"></i><b>19.1.2</b> ‘k’ in kNN</a></li>
<li class="chapter" data-level="19.1.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#data-preparation-for-knn"><i class="fa fa-check"></i><b>19.1.3</b> 1-3.Data preparation for kNN</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#naive-bayes"><i class="fa fa-check"></i><b>19.2</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-bayesian-methods"><i class="fa fa-check"></i><b>19.2.1</b> Understanding Bayesian methods</a></li>
<li class="chapter" data-level="19.2.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#understanding-nbs-naivety"><i class="fa fa-check"></i><b>19.2.2</b> Understanding NB’s “naivety”</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#logistic-regression"><i class="fa fa-check"></i><b>19.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-binary-predictions-with-regression"><i class="fa fa-check"></i><b>19.3.1</b> Making binary predictions with regression</a></li>
<li class="chapter" data-level="19.3.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#model-performance-tradeoffs"><i class="fa fa-check"></i><b>19.3.2</b> Model performance tradeoffs</a></li>
<li class="chapter" data-level="19.3.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#dummy-variables-missing-data-and-interactions"><i class="fa fa-check"></i><b>19.3.3</b> Dummy variables, missing data, and interactions</a></li>
<li class="chapter" data-level="19.3.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#automatic-feature-selection"><i class="fa fa-check"></i><b>19.3.4</b> Automatic feature selection</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#classification-trees"><i class="fa fa-check"></i><b>19.4</b> Classification Trees</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#making-decisions-with-trees"><i class="fa fa-check"></i><b>19.4.1</b> Making decisions with trees</a></li>
<li class="chapter" data-level="19.4.2" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#growing-larger-classification-trees"><i class="fa fa-check"></i><b>19.4.2</b> Growing larger classification trees</a></li>
<li class="chapter" data-level="19.4.3" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#tending-to-classification-trees"><i class="fa fa-check"></i><b>19.4.3</b> Tending to classification trees</a></li>
<li class="chapter" data-level="19.4.4" data-path="supervised-learning-classification.html"><a href="supervised-learning-classification.html#seeing-the-forest-from-the-trees"><i class="fa fa-check"></i><b>19.4.4</b> Seeing the forest from the trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning: Regression</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#what-is-regression"><i class="fa fa-check"></i><b>20.1</b> What is Regression?</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#introduction-2"><i class="fa fa-check"></i><b>20.1.1</b> Introduction</a></li>
<li class="chapter" data-level="20.1.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#linear-regression"><i class="fa fa-check"></i><b>20.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="20.1.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#predicting-model"><i class="fa fa-check"></i><b>20.1.3</b> Predicting model</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-and-evaluating-models"><i class="fa fa-check"></i><b>20.2</b> Training and Evaluating Models</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#graphically"><i class="fa fa-check"></i><b>20.2.1</b> Graphically</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#root-mean-squared-error"><i class="fa fa-check"></i><b>20.2.2</b> Root Mean Squared Error</a></li>
<li class="chapter" data-level="20.2.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#r-squared"><i class="fa fa-check"></i><b>20.2.3</b> R-squared</a></li>
<li class="chapter" data-level="20.2.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#training-a-model"><i class="fa fa-check"></i><b>20.2.4</b> Training a Model</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#issues-to-consider"><i class="fa fa-check"></i><b>20.3</b> Issues to Consider</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#categorical-iv"><i class="fa fa-check"></i><b>20.3.1</b> Categorical IV</a></li>
<li class="chapter" data-level="20.3.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#interactions-1"><i class="fa fa-check"></i><b>20.3.2</b> Interactions</a></li>
<li class="chapter" data-level="20.3.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-dv-before-modeling"><i class="fa fa-check"></i><b>20.3.3</b> Transforming DV before modeling</a></li>
<li class="chapter" data-level="20.3.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#transforming-iv-before-modeling"><i class="fa fa-check"></i><b>20.3.4</b> Transforming IV before modeling</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#dealing-with-non-linear-responses"><i class="fa fa-check"></i><b>20.4</b> Dealing with Non-Linear Responses</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#logistic-regression-to-predict-probabilities"><i class="fa fa-check"></i><b>20.4.1</b> Logistic regression to predict probabilities</a></li>
<li class="chapter" data-level="20.4.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#poisson-and-quasipoisson-regression-to-predict-counts"><i class="fa fa-check"></i><b>20.4.2</b> Poisson and quasipoisson regression to predict counts</a></li>
<li class="chapter" data-level="20.4.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gam-to-learn-non-linear-transforms"><i class="fa fa-check"></i><b>20.4.3</b> GAM to learn non-linear transforms</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#tree-based-methods"><i class="fa fa-check"></i><b>20.5</b> Tree-Based Methods</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#random-forests"><i class="fa fa-check"></i><b>20.5.1</b> Random forests</a></li>
<li class="chapter" data-level="20.5.2" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#one-hot-encoding"><i class="fa fa-check"></i><b>20.5.2</b> One-Hot-Encoding</a></li>
<li class="chapter" data-level="20.5.3" data-path="supervised-learning-regression.html"><a href="supervised-learning-regression.html#gradient-boosting"><i class="fa fa-check"></i><b>20.5.3</b> Gradient boosting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>21</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="21.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>21.1</b> k-means clustering</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#types-of-machine-learning"><i class="fa fa-check"></i><b>21.1.1</b> Types of machine learning</a></li>
<li class="chapter" data-level="21.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-to-k-means"><i class="fa fa-check"></i><b>21.1.2</b> Introduction to k-means</a></li>
<li class="chapter" data-level="21.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#model-selection"><i class="fa fa-check"></i><b>21.1.3</b> Model selection</a></li>
<li class="chapter" data-level="21.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#pokemon-data"><i class="fa fa-check"></i><b>21.1.4</b> Pokemon data</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>21.2</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>21.2.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#selecting-number-of-clusters-1"><i class="fa fa-check"></i><b>21.2.2</b> Selecting number of clusters</a></li>
<li class="chapter" data-level="21.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-linkage"><i class="fa fa-check"></i><b>21.2.3</b> Clustering linkage</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction---pca"><i class="fa fa-check"></i><b>21.3</b> Dimensionality reduction - PCA</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-4"><i class="fa fa-check"></i><b>21.3.1</b> Introduction</a></li>
<li class="chapter" data-level="21.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#visualizing-and-interpreting-1"><i class="fa fa-check"></i><b>21.3.2</b> Visualizing and interpreting</a></li>
<li class="chapter" data-level="21.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#practical-issues"><i class="fa fa-check"></i><b>21.3.3</b> Practical issues</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#case-study-1"><i class="fa fa-check"></i><b>21.4</b> Case study</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-5"><i class="fa fa-check"></i><b>21.4.1</b> Introduction</a></li>
<li class="chapter" data-level="21.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#next-steps"><i class="fa fa-check"></i><b>21.4.2</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html"><i class="fa fa-check"></i><b>22</b> Intermediate Importing Data in R</a>
<ul>
<li class="chapter" data-level="22.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-1"><i class="fa fa-check"></i><b>22.1</b> Import from databases-1</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#connect-to-a-database"><i class="fa fa-check"></i><b>22.1.1</b> Connect to a database</a></li>
<li class="chapter" data-level="22.1.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-table-data"><i class="fa fa-check"></i><b>22.1.2</b> Import table data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-databases-2"><i class="fa fa-check"></i><b>22.2</b> Import from databases-2</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#sql-queries-from-inside-r"><i class="fa fa-check"></i><b>22.2.1</b> SQL Queries from inside R</a></li>
<li class="chapter" data-level="22.2.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#dbi-internals"><i class="fa fa-check"></i><b>22.2.2</b> DBI internals</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-1"><i class="fa fa-check"></i><b>22.3</b> Import from the web-1</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#http"><i class="fa fa-check"></i><b>22.3.1</b> HTTP</a></li>
<li class="chapter" data-level="22.3.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#downloading-files"><i class="fa fa-check"></i><b>22.3.2</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-the-web-2"><i class="fa fa-check"></i><b>22.4</b> Import from the web-2</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#apis-json"><i class="fa fa-check"></i><b>22.4.1</b> APIs &amp; JSON</a></li>
<li class="chapter" data-level="22.4.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#json-jsonlite"><i class="fa fa-check"></i><b>22.4.2</b> JSON &amp; jsonlite</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#import-from-statistical-software"><i class="fa fa-check"></i><b>22.5</b> Import from statistical software</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#haven-package"><i class="fa fa-check"></i><b>22.5.1</b> haven package</a></li>
<li class="chapter" data-level="22.5.2" data-path="intermediate-importing-data-in-r.html"><a href="intermediate-importing-data-in-r.html#foreign-package"><i class="fa fa-check"></i><b>22.5.2</b> foreign package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>23</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#relational-databases"><i class="fa fa-check"></i><b>23.1</b> Relational Databases</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#databases"><i class="fa fa-check"></i><b>23.1.1</b> Databases</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#tables"><i class="fa fa-check"></i><b>23.1.2</b> Tables</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#data"><i class="fa fa-check"></i><b>23.1.3</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#querying"><i class="fa fa-check"></i><b>23.2</b> Querying</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#introducing"><i class="fa fa-check"></i><b>23.2.1</b> Introducing</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#writing-queries"><i class="fa fa-check"></i><b>23.2.2</b> Writing queries</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sql-flavors"><i class="fa fa-check"></i><b>23.2.3</b> SQL flavors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="intermediate-sql.html"><a href="intermediate-sql.html"><i class="fa fa-check"></i><b>24</b> Intermediate SQL</a>
<ul>
<li class="chapter" data-level="24.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#selecting-data"><i class="fa fa-check"></i><b>24.1</b> Selecting Data</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#querying-a-database"><i class="fa fa-check"></i><b>24.1.1</b> Querying a database</a></li>
<li class="chapter" data-level="24.1.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#query-execution"><i class="fa fa-check"></i><b>24.1.2</b> Query execution</a></li>
<li class="chapter" data-level="24.1.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sql-style"><i class="fa fa-check"></i><b>24.1.3</b> SQL style</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-records"><i class="fa fa-check"></i><b>24.2</b> Filtering Records</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-numbers"><i class="fa fa-check"></i><b>24.2.1</b> Filtering numbers</a></li>
<li class="chapter" data-level="24.2.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#multiple-criteria"><i class="fa fa-check"></i><b>24.2.2</b> Multiple criteria</a></li>
<li class="chapter" data-level="24.2.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-text"><i class="fa fa-check"></i><b>24.2.3</b> Filtering text</a></li>
<li class="chapter" data-level="24.2.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#null-values"><i class="fa fa-check"></i><b>24.2.4</b> NULL values</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>24.3</b> Aggregate Functions</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-data"><i class="fa fa-check"></i><b>24.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="24.3.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#summarizing-subsets"><i class="fa fa-check"></i><b>24.3.2</b> Summarizing subsets</a></li>
<li class="chapter" data-level="24.3.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#aliasing-and-arithmetic"><i class="fa fa-check"></i><b>24.3.3</b> Aliasing and arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>24.4</b> Sorting and Grouping</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="intermediate-sql.html"><a href="intermediate-sql.html#sorting-results"><i class="fa fa-check"></i><b>24.4.1</b> Sorting results</a></li>
<li class="chapter" data-level="24.4.2" data-path="intermediate-sql.html"><a href="intermediate-sql.html#grouping-data"><i class="fa fa-check"></i><b>24.4.2</b> Grouping data</a></li>
<li class="chapter" data-level="24.4.3" data-path="intermediate-sql.html"><a href="intermediate-sql.html#filtering-grouped-data"><i class="fa fa-check"></i><b>24.4.3</b> Filtering grouped data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>25</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="25.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inner-joins"><i class="fa fa-check"></i><b>25.1</b> Inner Joins</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#ins-outs-of-inner-join"><i class="fa fa-check"></i><b>25.1.1</b> ins &amp; outs of INNER JOIN</a></li>
<li class="chapter" data-level="25.1.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#defining-relationships"><i class="fa fa-check"></i><b>25.1.2</b> Defining relationships</a></li>
<li class="chapter" data-level="25.1.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#multiple-joins"><i class="fa fa-check"></i><b>25.1.3</b> Multiple joins</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-cross-self-joins"><i class="fa fa-check"></i><b>25.2</b> Outer, Cross &amp; Self Joins</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#left-right-joins-1"><i class="fa fa-check"></i><b>25.2.1</b> LEFT &amp; RIGHT JOINs</a></li>
<li class="chapter" data-level="25.2.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#full-join-1"><i class="fa fa-check"></i><b>25.2.2</b> FULL JOIN</a></li>
<li class="chapter" data-level="25.2.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#cross-join"><i class="fa fa-check"></i><b>25.2.3</b> CROSS JOIN</a></li>
<li class="chapter" data-level="25.2.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#self-joins"><i class="fa fa-check"></i><b>25.2.4</b> Self joins</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-for-sql-joins"><i class="fa fa-check"></i><b>25.3</b> Set Theory for SQL Joins</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#union-vs.-union-all"><i class="fa fa-check"></i><b>25.3.1</b> UNION vs. UNION ALL</a></li>
<li class="chapter" data-level="25.3.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#intersect"><i class="fa fa-check"></i><b>25.3.2</b> INTERSECT</a></li>
<li class="chapter" data-level="25.3.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#except"><i class="fa fa-check"></i><b>25.3.3</b> EXCEPT</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>25.4</b> Subqueries</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#with-semi-joins-anti-joins"><i class="fa fa-check"></i><b>25.4.1</b> With semi joins &amp; anti joins</a></li>
<li class="chapter" data-level="25.4.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-where-select"><i class="fa fa-check"></i><b>25.4.2</b> Inside WHERE &amp; SELECT</a></li>
<li class="chapter" data-level="25.4.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#inside-from"><i class="fa fa-check"></i><b>25.4.3</b> Inside FROM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="introduction-to-git.html"><a href="introduction-to-git.html"><i class="fa fa-check"></i><b>26</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="26.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#introduction-6"><i class="fa fa-check"></i><b>26.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#useful-shell-commands"><i class="fa fa-check"></i><b>26.1.1</b> Useful shell commands</a></li>
<li class="chapter" data-level="26.1.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#saving-files"><i class="fa fa-check"></i><b>26.1.2</b> Saving files</a></li>
<li class="chapter" data-level="26.1.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#comparing-files"><i class="fa fa-check"></i><b>26.1.3</b> Comparing files</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#making-changes"><i class="fa fa-check"></i><b>26.2</b> Making changes</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#storing-data-with-git"><i class="fa fa-check"></i><b>26.2.1</b> Storing data with Git</a></li>
<li class="chapter" data-level="26.2.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#viewing-changes"><i class="fa fa-check"></i><b>26.2.2</b> Viewing changes</a></li>
<li class="chapter" data-level="26.2.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#undoing-changes-before-committing"><i class="fa fa-check"></i><b>26.2.3</b> Undoing changes before committing</a></li>
<li class="chapter" data-level="26.2.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#restoring-and-reverting"><i class="fa fa-check"></i><b>26.2.4</b> Restoring and reverting</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#git-workflows"><i class="fa fa-check"></i><b>26.3</b> Git workflows</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#configuring-git"><i class="fa fa-check"></i><b>26.3.1</b> Configuring Git</a></li>
<li class="chapter" data-level="26.3.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#branches"><i class="fa fa-check"></i><b>26.3.2</b> Branches</a></li>
<li class="chapter" data-level="26.3.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-branches"><i class="fa fa-check"></i><b>26.3.3</b> Working with branches</a></li>
<li class="chapter" data-level="26.3.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#handling-conflict"><i class="fa fa-check"></i><b>26.3.4</b> Handling conflict</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#collaborating-with-git"><i class="fa fa-check"></i><b>26.4</b> Collaborating with Git</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="introduction-to-git.html"><a href="introduction-to-git.html#creating-repos"><i class="fa fa-check"></i><b>26.4.1</b> Creating repos</a></li>
<li class="chapter" data-level="26.4.2" data-path="introduction-to-git.html"><a href="introduction-to-git.html#working-with-remotes"><i class="fa fa-check"></i><b>26.4.2</b> Working with remotes</a></li>
<li class="chapter" data-level="26.4.3" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pulling-from-a-remote"><i class="fa fa-check"></i><b>26.4.3</b> Pulling from a remote</a></li>
<li class="chapter" data-level="26.4.4" data-path="introduction-to-git.html"><a href="introduction-to-git.html#pushing-to-a-remote"><i class="fa fa-check"></i><b>26.4.4</b> Pushing to a remote</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Scientist with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="experimental-design" class="section level1 hasAnchor" number="18">
<h1><span class="header-section-number">Chapter 18</span> Experimental Design<a href="experimental-design.html#experimental-design" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-to-experimental-design" class="section level2 hasAnchor" number="18.1">
<h2><span class="header-section-number">18.1</span> Introduction to experimental design<a href="experimental-design.html#introduction-to-experimental-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="introduction-1" class="section level3 hasAnchor" number="18.1.1">
<h3><span class="header-section-number">18.1.1</span> Introduction<a href="experimental-design.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Key components of an experiment</strong></p>
<ul>
<li><p>Randomization</p></li>
<li><p>Replication</p></li>
<li><p>Blocking</p></li>
</ul>
<div id="a-basic-experiment" class="section level4 hasAnchor" number="18.1.1.1">
<h4><span class="header-section-number">18.1.1.1</span> A basic experiment<a href="experimental-design.html#a-basic-experiment" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>ToothGrowth</code> is a built-in R dataset from a study that examined the effect of three different doses of Vitamin C on the length of the odontoplasts, the cells responsible for teeth growth in 60 guinea pigs, where tooth length was the measured outcome variable.</p>
<div class="sourceCode" id="cb2369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2369-1"><a href="experimental-design.html#cb2369-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the ToothGrowth dataset</span></span>
<span id="cb2369-2"><a href="experimental-design.html#cb2369-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(ToothGrowth)</span>
<span id="cb2369-3"><a href="experimental-design.html#cb2369-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2369-4"><a href="experimental-design.html#cb2369-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first 6 rows of ToothGrowth</span></span>
<span id="cb2369-5"><a href="experimental-design.html#cb2369-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ToothGrowth)</span></code></pre></div>
<pre><code>##    len supp dose
## 1  4.2   VC  0.5
## 2 11.5   VC  0.5
## 3  7.3   VC  0.5
## 4  5.8   VC  0.5
## 5  6.4   VC  0.5
## 6 10.0   VC  0.5</code></pre>
<div class="sourceCode" id="cb2371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2371-1"><a href="experimental-design.html#cb2371-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2371-2"><a href="experimental-design.html#cb2371-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2371-3"><a href="experimental-design.html#cb2371-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Find mean len, median len, and standard deviation len with summarize()</span></span>
<span id="cb2371-4"><a href="experimental-design.html#cb2371-4" aria-hidden="true" tabindex="-1"></a>ToothGrowth <span class="sc">%&gt;%</span> </span>
<span id="cb2371-5"><a href="experimental-design.html#cb2371-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="fu">mean</span>(len), </span>
<span id="cb2371-6"><a href="experimental-design.html#cb2371-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">median</span>(len), </span>
<span id="cb2371-7"><a href="experimental-design.html#cb2371-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">sd</span>(len))</span></code></pre></div>
<pre><code>##   mean(len) median(len) sd(len)
## 1      18.8        19.2    7.65</code></pre>
<p>Conduct a two-sided t-test to check if average length of a guinea pig’s odontoplasts differs from 18 micrometers.</p>
<div class="sourceCode" id="cb2373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2373-1"><a href="experimental-design.html#cb2373-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform a two-sided t-test</span></span>
<span id="cb2373-2"><a href="experimental-design.html#cb2373-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(<span class="at">x =</span> ToothGrowth<span class="sc">$</span>len, </span>
<span id="cb2373-3"><a href="experimental-design.html#cb2373-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>, </span>
<span id="cb2373-4"><a href="experimental-design.html#cb2373-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">mu =</span> <span class="dv">18</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  ToothGrowth$len
## t = 0.8, df = 59, p-value = 0.4
## alternative hypothesis: true mean is not equal to 18
## 95 percent confidence interval:
##  16.8 20.8
## sample estimates:
## mean of x 
##      18.8</code></pre>
<p>Given the high p-value, we fail to reject the null hypothesis that the mean of len is equal to 18. That is, we don’t have evidence that it is different from 18 micrometers.</p>
</div>
<div id="randomization" class="section level4 hasAnchor" number="18.1.1.2">
<h4><span class="header-section-number">18.1.1.2</span> Randomization<a href="experimental-design.html#randomization" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Randomization of subjects in an experiment helps spread any variability that exists naturally between subjects evenly across groups.</p>
<p>In the experiment that yielded the <code>ToothGrowth</code> dataset, guinea pigs were randomized to receive Vitamin C either through orange juice(<code>OJ</code>) or ascorbic acid(<code>VC</code>), indicated in the dataset by the <code>supp</code> variable.</p>
<p>It’s natural to wonder if there is a difference in tooth length by supplement type?</p>
<div class="sourceCode" id="cb2375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2375-1"><a href="experimental-design.html#cb2375-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform a t-test</span></span>
<span id="cb2375-2"><a href="experimental-design.html#cb2375-2" aria-hidden="true" tabindex="-1"></a>ToothGrowth_ttest <span class="ot">&lt;-</span> <span class="fu">t.test</span>(len <span class="sc">~</span> supp, <span class="at">data =</span> ToothGrowth)</span>
<span id="cb2375-3"><a href="experimental-design.html#cb2375-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2375-4"><a href="experimental-design.html#cb2375-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load broom</span></span>
<span id="cb2375-5"><a href="experimental-design.html#cb2375-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb2375-6"><a href="experimental-design.html#cb2375-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2375-7"><a href="experimental-design.html#cb2375-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy ToothGrowth_ttest</span></span>
<span id="cb2375-8"><a href="experimental-design.html#cb2375-8" aria-hidden="true" tabindex="-1"></a><span class="co"># method = Welch Two Sample t-test, alternative = two.sided</span></span>
<span id="cb2375-9"><a href="experimental-design.html#cb2375-9" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(ToothGrowth_ttest)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 10
##   estimate estimate1 estimate2 statistic p.value parameter conf.low conf.high
##      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1      3.7      20.7      17.0      1.92  0.0606      55.3   -0.171      7.57
## # ℹ 2 more variables: method &lt;chr&gt;, alternative &lt;chr&gt;</code></pre>
<p>Given the p-value of around 0.06, there seems to be no evidence to support the hypothesis that there’s a difference in mean tooth length by supplement type, or, more simply, that there is no difference in mean tooth length by supplement type. Generally in most experiments, any p-value above 0.05 will offer no evidence to support the given hypothesis.</p>
</div>
</div>
<div id="replication-blocking" class="section level3 hasAnchor" number="18.1.2">
<h3><span class="header-section-number">18.1.2</span> Replication &amp; blocking<a href="experimental-design.html#replication-blocking" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Replication</strong></p>
<ul>
<li>Must repeat an experiment to fully assess variability.</li>
</ul>
<p><strong>Blocking</strong></p>
<ul>
<li><p>Helps control variability by making treatment groups more alike.</p></li>
<li><p>Inside of groups, differences will be minimal. Across groups, differences will be larger.</p></li>
</ul>
<p><strong>Visualize</strong></p>
<ul>
<li>Boxplots</li>
</ul>
<p><strong>Functions for modeling</strong></p>
<ul>
<li><p>Linear models</p>
<ul>
<li><code>lm(formula, data, na.action,…)</code></li>
</ul></li>
<li><p>One-way ANOVA model (單因子獨立樣本)</p>
<ul>
<li><code>aov(formula, data = NULL, …)</code></li>
</ul></li>
<li><p>Nested ANOVA model (相依樣本)</p>
<ul>
<li><code>anova(object_model,…)</code></li>
</ul></li>
</ul>
<div id="replication" class="section level4 hasAnchor" number="18.1.2.1">
<h4><span class="header-section-number">18.1.2.1</span> Replication<a href="experimental-design.html#replication" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Recall that replication means you need to conduct an experiment with an adequate number of subjects to achieve an acceptable statistical power.</p>
<p>Let’s examine the <code>ToothGrowth</code> dataset to make sure they followed the principle of replication.</p>
<div class="sourceCode" id="cb2377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2377-1"><a href="experimental-design.html#cb2377-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count number of observations for each combination of supp and dose</span></span>
<span id="cb2377-2"><a href="experimental-design.html#cb2377-2" aria-hidden="true" tabindex="-1"></a>ToothGrowth <span class="sc">%&gt;%</span> </span>
<span id="cb2377-3"><a href="experimental-design.html#cb2377-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(supp, dose)</span></code></pre></div>
<pre><code>##   supp dose  n
## 1   OJ  0.5 10
## 2   OJ  1.0 10
## 3   OJ  2.0 10
## 4   VC  0.5 10
## 5   VC  1.0 10
## 6   VC  2.0 10</code></pre>
<p>The researchers seem to have tested each combination of supp and dose on 10 subjects each, which is low, but was deemed adequate for this experiment.</p>
</div>
<div id="blocking" class="section level4 hasAnchor" number="18.1.2.2">
<h4><span class="header-section-number">18.1.2.2</span> Blocking<a href="experimental-design.html#blocking" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Make a boxplot to visually examine if the tooth length is different by <code>dose</code>.</p>
<div class="sourceCode" id="cb2379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2379-1"><a href="experimental-design.html#cb2379-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a boxplot with geom_boxplot()</span></span>
<span id="cb2379-2"><a href="experimental-design.html#cb2379-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(dose), <span class="at">y =</span> len)) <span class="sc">+</span> </span>
<span id="cb2379-3"><a href="experimental-design.html#cb2379-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-899-1.png" width="672" /></p>
<p>Use <code>aov()</code> to detect the effect of <code>dose</code> and <code>supp</code> on <code>len</code>. Save as a model object called <code>ToothGrowth_aov</code>.</p>
<p>Examine <code>ToothGrowth_aov</code> with <code>summary()</code> to determine if dose has a significant effect on tooth length.</p>
<div class="sourceCode" id="cb2380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2380-1"><a href="experimental-design.html#cb2380-1" aria-hidden="true" tabindex="-1"></a>ToothGrowth<span class="sc">$</span>dose <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ToothGrowth<span class="sc">$</span>dose)</span>
<span id="cb2380-2"><a href="experimental-design.html#cb2380-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2380-3"><a href="experimental-design.html#cb2380-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ToothGrowth_aov</span></span>
<span id="cb2380-4"><a href="experimental-design.html#cb2380-4" aria-hidden="true" tabindex="-1"></a>ToothGrowth_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(len <span class="sc">~</span> supp <span class="sc">+</span> dose, <span class="at">data =</span> ToothGrowth)</span>
<span id="cb2380-5"><a href="experimental-design.html#cb2380-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2380-6"><a href="experimental-design.html#cb2380-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine ToothGrowth_aov with summary()</span></span>
<span id="cb2380-7"><a href="experimental-design.html#cb2380-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ToothGrowth_aov)</span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value               Pr(&gt;F)    
## supp         1    205     205    14.0              0.00043 ***
## dose         2   2426    1213    82.8 &lt; 0.0000000000000002 ***
## Residuals   56    820      15                                 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This is called - Randomized Complete Block Design (RCBD) experiment.</p>
<p>Given the very small observed p-value for <code>dose</code>, it appears we have evidence to support the hypothesis that mean <code>len</code> is different by <code>dose</code> amount.</p>
</div>
</div>
<div id="hypothesis-testing-1" class="section level3 hasAnchor" number="18.1.3">
<h3><span class="header-section-number">18.1.3</span> Hypothesis testing<a href="experimental-design.html#hypothesis-testing-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Power and sample size</strong></p>
<ul>
<li><p><strong>Power</strong>: probability that the test correctly rejects the null hypothesis when the alternative hypothesis is true.</p>
<ul>
<li>One “golden rule” in statistics is to aim to have <em>80% power</em> in experiments.</li>
</ul></li>
<li><p><strong>Effect size</strong>: standardized measure of the difference you’re trying to detect.</p>
<ul>
<li><p>Calculated as the difference between group means divided by the pooled standard deviation of the data.</p></li>
<li><p>It’s easier to detect a larger difference in means.</p></li>
</ul></li>
<li><p><strong>Sample size</strong>: How many experimental units you need to survey to detect the desired difference at the desired power.</p></li>
</ul>
<div class="sourceCode" id="cb2382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2382-1"><a href="experimental-design.html#cb2382-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pwr)</span>
<span id="cb2382-2"><a href="experimental-design.html#cb2382-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pwr.anova.test</span>(<span class="at">k =</span> <span class="dv">3</span>,              <span class="co"># number of groups in the comparison</span></span>
<span id="cb2382-3"><a href="experimental-design.html#cb2382-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">n =</span> <span class="dv">20</span>,             <span class="co"># number of observations per group</span></span>
<span id="cb2382-4"><a href="experimental-design.html#cb2382-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">f =</span> <span class="fl">0.2</span>,            <span class="co"># effect size</span></span>
<span id="cb2382-5"><a href="experimental-design.html#cb2382-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">sig.level =</span> <span class="fl">0.05</span>,</span>
<span id="cb2382-6"><a href="experimental-design.html#cb2382-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">power =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<div id="one-sided-vs.-two-sided-tests" class="section level4 hasAnchor" number="18.1.3.1">
<h4><span class="header-section-number">18.1.3.1</span> One sided vs. Two-sided tests<a href="experimental-design.html#one-sided-vs.-two-sided-tests" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>alternative</code> = <code>two.sided</code>, <code>less</code>, <code>greater</code></p>
<p>Test to see if the mean of the length variable of <code>ToothGrowth</code> is less than <code>18</code>.</p>
<div class="sourceCode" id="cb2383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2383-1"><a href="experimental-design.html#cb2383-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Less than</span></span>
<span id="cb2383-2"><a href="experimental-design.html#cb2383-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(<span class="at">x =</span> ToothGrowth<span class="sc">$</span>len,</span>
<span id="cb2383-3"><a href="experimental-design.html#cb2383-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">alternative =</span> <span class="st">&quot;less&quot;</span>,</span>
<span id="cb2383-4"><a href="experimental-design.html#cb2383-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">mu =</span> <span class="dv">18</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  ToothGrowth$len
## t = 0.8, df = 59, p-value = 0.8
## alternative hypothesis: true mean is less than 18
## 95 percent confidence interval:
##  -Inf 20.5
## sample estimates:
## mean of x 
##      18.8</code></pre>
<p>Test to see if the mean of the length variable of <code>ToothGrowth</code> is greater than <code>18</code>.</p>
<div class="sourceCode" id="cb2385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2385-1"><a href="experimental-design.html#cb2385-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Greater than</span></span>
<span id="cb2385-2"><a href="experimental-design.html#cb2385-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(<span class="at">x =</span> ToothGrowth<span class="sc">$</span>len,</span>
<span id="cb2385-3"><a href="experimental-design.html#cb2385-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">alternative =</span> <span class="st">&quot;greater&quot;</span>,</span>
<span id="cb2385-4"><a href="experimental-design.html#cb2385-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">mu =</span> <span class="dv">18</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  ToothGrowth$len
## t = 0.8, df = 59, p-value = 0.2
## alternative hypothesis: true mean is greater than 18
## 95 percent confidence interval:
##  17.2  Inf
## sample estimates:
## mean of x 
##      18.8</code></pre>
</div>
<div id="power-sample-size-calculations" class="section level4 hasAnchor" number="18.1.3.2">
<h4><span class="header-section-number">18.1.3.2</span> Power &amp; Sample Size Calculations<a href="experimental-design.html#power-sample-size-calculations" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One key part of designing an experiment is knowing the required sample size you’ll need to be able to test your hypothesis.</p>
<p>The <code>pwr</code> package provides a handy function, <code>pwr.t.test()</code>, which will calculate that for you. owever, you do need to know</p>
<ul>
<li><p>desired significance level</p></li>
<li><p>test is one- or two-sided</p></li>
<li><p>data is from one sample, two samples, or paired</p></li>
<li><p>effect size</p></li>
<li><p>power</p></li>
</ul>
<p>A power or sample size calculation is usually different each time you conduct one, and the details of the calculation strongly depend on what kind of experiment you’re designing and what your end goals are.</p>
<p>Calculate power using an effect size of 0.35, a sample size of 100 in each group, and a significance level of 0.10.</p>
<div class="sourceCode" id="cb2387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2387-1"><a href="experimental-design.html#cb2387-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the pwr package</span></span>
<span id="cb2387-2"><a href="experimental-design.html#cb2387-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pwr)</span></code></pre></div>
<pre><code>## Warning: package &#39;pwr&#39; was built under R version 4.3.2</code></pre>
<div class="sourceCode" id="cb2389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2389-1"><a href="experimental-design.html#cb2389-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate power</span></span>
<span id="cb2389-2"><a href="experimental-design.html#cb2389-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pwr.t.test</span>(<span class="at">n =</span> <span class="dv">100</span>, </span>
<span id="cb2389-3"><a href="experimental-design.html#cb2389-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">d =</span> <span class="fl">0.35</span>,</span>
<span id="cb2389-4"><a href="experimental-design.html#cb2389-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">sig.level =</span> <span class="fl">0.10</span>,</span>
<span id="cb2389-5"><a href="experimental-design.html#cb2389-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">&quot;two.sample&quot;</span>, </span>
<span id="cb2389-6"><a href="experimental-design.html#cb2389-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>,</span>
<span id="cb2389-7"><a href="experimental-design.html#cb2389-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">power =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<pre><code>## 
##      Two-sample t test power calculation 
## 
##               n = 100
##               d = 0.35
##       sig.level = 0.1
##           power = 0.794
##     alternative = two.sided
## 
## NOTE: n is number in *each* group</code></pre>
<p>Calculate the sample size needed with an effect size of 0.25, a significance level of 0.05, and a power of 0.8.</p>
<div class="sourceCode" id="cb2391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2391-1"><a href="experimental-design.html#cb2391-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate sample size</span></span>
<span id="cb2391-2"><a href="experimental-design.html#cb2391-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pwr.t.test</span>(<span class="at">n =</span> <span class="cn">NULL</span>, </span>
<span id="cb2391-3"><a href="experimental-design.html#cb2391-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">d =</span> <span class="fl">0.25</span>, </span>
<span id="cb2391-4"><a href="experimental-design.html#cb2391-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">sig.level =</span> <span class="fl">0.05</span>, </span>
<span id="cb2391-5"><a href="experimental-design.html#cb2391-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">&quot;one.sample&quot;</span>, </span>
<span id="cb2391-6"><a href="experimental-design.html#cb2391-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">alternative =</span> <span class="st">&quot;greater&quot;</span>, </span>
<span id="cb2391-7"><a href="experimental-design.html#cb2391-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">power =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<pre><code>## 
##      One-sample t test power calculation 
## 
##               n = 100
##               d = 0.25
##       sig.level = 0.05
##           power = 0.8
##     alternative = greater</code></pre>
<div class="sourceCode" id="cb2393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2393-1"><a href="experimental-design.html#cb2393-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect output class </span></span>
<span id="cb2393-2"><a href="experimental-design.html#cb2393-2" aria-hidden="true" tabindex="-1"></a>sample_est <span class="ot">&lt;-</span> <span class="fu">pwr.t.test</span>(<span class="at">n =</span> <span class="cn">NULL</span>, </span>
<span id="cb2393-3"><a href="experimental-design.html#cb2393-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">d =</span> <span class="fl">0.25</span>, </span>
<span id="cb2393-4"><a href="experimental-design.html#cb2393-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">sig.level =</span> <span class="fl">0.05</span>, </span>
<span id="cb2393-5"><a href="experimental-design.html#cb2393-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">&quot;one.sample&quot;</span>, </span>
<span id="cb2393-6"><a href="experimental-design.html#cb2393-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">alternative =</span> <span class="st">&quot;greater&quot;</span>, </span>
<span id="cb2393-7"><a href="experimental-design.html#cb2393-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">power =</span> <span class="fl">0.8</span>)</span>
<span id="cb2393-8"><a href="experimental-design.html#cb2393-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2393-9"><a href="experimental-design.html#cb2393-9" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sample_est)</span></code></pre></div>
<pre><code>## [1] &quot;power.htest&quot;</code></pre>
<p>The <code>pwr</code> package includes functions for calculating power and sample size for a variety of different tests</p>
</div>
</div>
</div>
<div id="basic-experiments" class="section level2 hasAnchor" number="18.2">
<h2><span class="header-section-number">18.2</span> Basic Experiments<a href="experimental-design.html#basic-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="anova-factor-experiments" class="section level3 hasAnchor" number="18.2.1">
<h3><span class="header-section-number">18.2.1</span> ANOVA &amp; factor experiments<a href="experimental-design.html#anova-factor-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>ANOVA</strong></p>
<ul>
<li><p>Used to compare 3+ groups</p></li>
<li><p>Won’t know which groups’ means are different without additional post hoc testing</p></li>
<li><p>Two ways to implement in R:</p></li>
</ul>
<div class="sourceCode" id="cb2395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2395-1"><a href="experimental-design.html#cb2395-1" aria-hidden="true" tabindex="-1"></a><span class="co">#one</span></span>
<span id="cb2395-2"><a href="experimental-design.html#cb2395-2" aria-hidden="true" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> dataset)</span>
<span id="cb2395-3"><a href="experimental-design.html#cb2395-3" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(model_1)</span>
<span id="cb2395-4"><a href="experimental-design.html#cb2395-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2395-5"><a href="experimental-design.html#cb2395-5" aria-hidden="true" tabindex="-1"></a><span class="co">#two</span></span>
<span id="cb2395-6"><a href="experimental-design.html#cb2395-6" aria-hidden="true" tabindex="-1"></a><span class="fu">aov</span>(y <span class="sc">~</span> x, <span class="at">data =</span> dataset)</span></code></pre></div>
<div id="exploratory-data-analysis-eda" class="section level4 hasAnchor" number="18.2.1.1">
<h4><span class="header-section-number">18.2.1.1</span> Exploratory Data Analysis (EDA)<a href="experimental-design.html#exploratory-data-analysis-eda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A sample of 1500 observations from the Lending Club dataset has been loaded for you and is called <code>lendingclub</code>. Let’s do some EDA on the data, in hopes that we’ll learn what the dataset contains.</p>
<div class="sourceCode" id="cb2396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2396-1"><a href="experimental-design.html#cb2396-1" aria-hidden="true" tabindex="-1"></a>lendingclub <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/lendclub.csv&quot;</span>)</span>
<span id="cb2396-2"><a href="experimental-design.html#cb2396-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2396-3"><a href="experimental-design.html#cb2396-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the variables with glimpse()</span></span>
<span id="cb2396-4"><a href="experimental-design.html#cb2396-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(lendingclub)</span></code></pre></div>
<pre><code>## Rows: 1,500
## Columns: 12
## $ member_id           &lt;dbl&gt; 55096114, 1555332, 1009151, 69524202, 72128084, 53…
## $ loan_amnt           &lt;dbl&gt; 11000, 10000, 13000, 5000, 18000, 14000, 8000, 500…
## $ funded_amnt         &lt;dbl&gt; 11000, 10000, 13000, 5000, 18000, 14000, 8000, 500…
## $ term                &lt;chr&gt; &quot;36 months&quot;, &quot;36 months&quot;, &quot;60 months&quot;, &quot;36 months&quot;…
## $ int_rate            &lt;dbl&gt; 12.69, 6.62, 10.99, 12.05, 5.32, 16.99, 13.11, 7.8…
## $ emp_length          &lt;chr&gt; &quot;10+ years&quot;, &quot;10+ years&quot;, &quot;3 years&quot;, &quot;10+ years&quot;, …
## $ home_ownership      &lt;chr&gt; &quot;RENT&quot;, &quot;MORTGAGE&quot;, &quot;MORTGAGE&quot;, &quot;MORTGAGE&quot;, &quot;MORTG…
## $ annual_inc          &lt;dbl&gt; 51000, 40000, 78204, 51000, 96000, 47000, 40000, 3…
## $ verification_status &lt;chr&gt; &quot;Not Verified&quot;, &quot;Verified&quot;, &quot;Not Verified&quot;, &quot;Not V…
## $ loan_status         &lt;chr&gt; &quot;Current&quot;, &quot;Fully Paid&quot;, &quot;Fully Paid&quot;, &quot;Current&quot;, …
## $ purpose             &lt;chr&gt; &quot;debt_consolidation&quot;, &quot;debt_consolidation&quot;, &quot;home_…
## $ grade               &lt;chr&gt; &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;A&quot;, &quot;D&quot;, &quot;B&quot;, …</code></pre>
<div class="sourceCode" id="cb2398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2398-1"><a href="experimental-design.html#cb2398-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find median loan_amnt and mean int_rate, annual_inc</span></span>
<span id="cb2398-2"><a href="experimental-design.html#cb2398-2" aria-hidden="true" tabindex="-1"></a>lendingclub <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">median</span>(loan_amnt), </span>
<span id="cb2398-3"><a href="experimental-design.html#cb2398-3" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">mean</span>(int_rate), </span>
<span id="cb2398-4"><a href="experimental-design.html#cb2398-4" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">mean</span>(annual_inc))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   `median(loan_amnt)` `mean(int_rate)` `mean(annual_inc)`
##                 &lt;dbl&gt;            &lt;dbl&gt;              &lt;dbl&gt;
## 1               13000             13.3             75736.</code></pre>
<p>The axes have been flipped for you using <code>coord_flip()</code> so the labels are easier to read.</p>
<div class="sourceCode" id="cb2400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2400-1"><a href="experimental-design.html#cb2400-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use ggplot2 to build a bar chart of purpose</span></span>
<span id="cb2400-2"><a href="experimental-design.html#cb2400-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> lendingclub, <span class="fu">aes</span>(<span class="at">x =</span> purpose)) <span class="sc">+</span> </span>
<span id="cb2400-3"><a href="experimental-design.html#cb2400-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb2400-4"><a href="experimental-design.html#cb2400-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-908-1.png" width="672" /></p>
<p>You can see that the original <code>purpose</code> variable were very detailed. By using <code>recode()</code> here, you created <code>purpose_recode</code>, which has a much more manageable 4 general levels (<code>debt_related</code>, <code>big_purchase</code>, <code>home_related</code>, <code>life_change</code>) that describe the purpose for people’s loans.</p>
<div class="sourceCode" id="cb2401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2401-1"><a href="experimental-design.html#cb2401-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use recode() to create the new purpose_recode variable</span></span>
<span id="cb2401-2"><a href="experimental-design.html#cb2401-2" aria-hidden="true" tabindex="-1"></a>lendingclub<span class="sc">$</span>purpose_recode <span class="ot">&lt;-</span> lendingclub<span class="sc">$</span>purpose <span class="sc">%&gt;%</span> <span class="fu">recode</span>( </span>
<span id="cb2401-3"><a href="experimental-design.html#cb2401-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;credit_card&quot;</span> <span class="ot">=</span> <span class="st">&quot;debt_related&quot;</span>, </span>
<span id="cb2401-4"><a href="experimental-design.html#cb2401-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;debt_consolidation&quot;</span> <span class="ot">=</span> <span class="st">&quot;debt_related&quot;</span>,</span>
<span id="cb2401-5"><a href="experimental-design.html#cb2401-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;medical&quot;</span> <span class="ot">=</span> <span class="st">&quot;debt_related&quot;</span>,</span>
<span id="cb2401-6"><a href="experimental-design.html#cb2401-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;car&quot;</span> <span class="ot">=</span> <span class="st">&quot;big_purchase&quot;</span>, </span>
<span id="cb2401-7"><a href="experimental-design.html#cb2401-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;major_purchase&quot;</span> <span class="ot">=</span> <span class="st">&quot;big_purchase&quot;</span>, </span>
<span id="cb2401-8"><a href="experimental-design.html#cb2401-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;vacation&quot;</span> <span class="ot">=</span> <span class="st">&quot;big_purchase&quot;</span>,</span>
<span id="cb2401-9"><a href="experimental-design.html#cb2401-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;moving&quot;</span> <span class="ot">=</span> <span class="st">&quot;life_change&quot;</span>, </span>
<span id="cb2401-10"><a href="experimental-design.html#cb2401-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;small_business&quot;</span> <span class="ot">=</span> <span class="st">&quot;life_change&quot;</span>, </span>
<span id="cb2401-11"><a href="experimental-design.html#cb2401-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;wedding&quot;</span> <span class="ot">=</span> <span class="st">&quot;life_change&quot;</span>,</span>
<span id="cb2401-12"><a href="experimental-design.html#cb2401-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;house&quot;</span> <span class="ot">=</span> <span class="st">&quot;home_related&quot;</span>, </span>
<span id="cb2401-13"><a href="experimental-design.html#cb2401-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;home_improvement&quot;</span> <span class="ot">=</span> <span class="st">&quot;home_related&quot;</span>)</span>
<span id="cb2401-14"><a href="experimental-design.html#cb2401-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2401-15"><a href="experimental-design.html#cb2401-15" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(lendingclub<span class="sc">$</span>purpose_recode)</span></code></pre></div>
<pre><code>## [1] &quot;debt_related&quot;     &quot;home_related&quot;     &quot;big_purchase&quot;     &quot;renewable_energy&quot;
## [5] &quot;other&quot;            &quot;life_change&quot;</code></pre>
</div>
<div id="single-factor-experiments" class="section level4 hasAnchor" number="18.2.1.2">
<h4><span class="header-section-number">18.2.1.2</span> Single factor experiments<a href="experimental-design.html#single-factor-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>How does loan purpose affect amount funded?</p>
<p>Design an experiment where we examine how the loan purpose influences the amount funded, which is the money actually issued to the applicant.</p>
<p><span class="math inline">\(H_0\)</span>: all of the mean funded amounts are equal across the levels of <code>purpose_recode</code>.</p>
<p><span class="math inline">\(H_A\)</span>: at least one level of <code>purpose_recode</code> has a different mean.</p>
<p>These are the results of the linear regression.</p>
<div class="sourceCode" id="cb2403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2403-1"><a href="experimental-design.html#cb2403-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build a linear regression model, purpose_recode_model</span></span>
<span id="cb2403-2"><a href="experimental-design.html#cb2403-2" aria-hidden="true" tabindex="-1"></a>purpose_recode_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(funded_amnt <span class="sc">~</span> purpose_recode, <span class="at">data =</span> lendingclub)</span>
<span id="cb2403-3"><a href="experimental-design.html#cb2403-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2403-4"><a href="experimental-design.html#cb2403-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine results of purpose_recode_model</span></span>
<span id="cb2403-5"><a href="experimental-design.html#cb2403-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(purpose_recode_model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = funded_amnt ~ purpose_recode, data = lendingclub)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -14472  -6251  -1322   4678  25761 
## 
## Coefficients:
##                                Estimate Std. Error t value           Pr(&gt;|t|)
## (Intercept)                        9888       1249    7.92 0.0000000000000047
## purpose_recodedebt_related         5434       1270    4.28 0.0000201591378533
## purpose_recodehome_related         4845       1501    3.23             0.0013
## purpose_recodelife_change          4095       2197    1.86             0.0625
## purpose_recodeother                -649       1598   -0.41             0.6846
## purpose_recoderenewable_energy    -1796       4943   -0.36             0.7164
##                                   
## (Intercept)                    ***
## purpose_recodedebt_related     ***
## purpose_recodehome_related     ** 
## purpose_recodelife_change      .  
## purpose_recodeother               
## purpose_recoderenewable_energy    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 8280 on 1494 degrees of freedom
## Multiple R-squared:  0.0347, Adjusted R-squared:  0.0315 
## F-statistic: 10.7 on 5 and 1494 DF,  p-value: 0.00000000036</code></pre>
<p>Call <code>anova()</code> on model object.</p>
<div class="sourceCode" id="cb2405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2405-1"><a href="experimental-design.html#cb2405-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get anova results and save as purpose_recode_anova</span></span>
<span id="cb2405-2"><a href="experimental-design.html#cb2405-2" aria-hidden="true" tabindex="-1"></a>purpose_recode_anova <span class="ot">&lt;-</span> <span class="fu">anova</span>(purpose_recode_model)</span>
<span id="cb2405-3"><a href="experimental-design.html#cb2405-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2405-4"><a href="experimental-design.html#cb2405-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print purpose_recode_anova</span></span>
<span id="cb2405-5"><a href="experimental-design.html#cb2405-5" aria-hidden="true" tabindex="-1"></a>purpose_recode_anova</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: funded_amnt
##                  Df       Sum Sq   Mean Sq F value        Pr(&gt;F)    
## purpose_recode    5   3688783338 737756668    10.8 0.00000000036 ***
## Residuals      1494 102533145566  68629950                          
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb2407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2407-1"><a href="experimental-design.html#cb2407-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine class of purpose_recode_anova</span></span>
<span id="cb2407-2"><a href="experimental-design.html#cb2407-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(purpose_recode_anova)</span></code></pre></div>
<pre><code>## [1] &quot;anova&quot;      &quot;data.frame&quot;</code></pre>
<p>Results indicate that there is evidence to support the hypothesis that the mean loan amounts are different for at least one combination of <code>purpose_recode</code>’s levels.</p>
</div>
<div id="post-hoc-test" class="section level4 hasAnchor" number="18.2.1.3">
<h4><span class="header-section-number">18.2.1.3</span> Post-hoc test<a href="experimental-design.html#post-hoc-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The result of that ANOVA test was statistically significant with a very low p-value. This means we can reject the null hypothesis and accept the alternative hypothesis that at least one mean was different. But which one?</p>
<p>Here comes the post-hoc test. We should use Tukey’s HSD test, which stands for Honest Significant Difference.</p>
<p><code>TukeyHSD(aov_model, "independent_variable_name", conf.level = 0.9)</code></p>
<div class="sourceCode" id="cb2409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2409-1"><a href="experimental-design.html#cb2409-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use aov() to build purpose_aov</span></span>
<span id="cb2409-2"><a href="experimental-design.html#cb2409-2" aria-hidden="true" tabindex="-1"></a>purpose_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(funded_amnt <span class="sc">~</span> purpose_recode, <span class="at">data =</span> lendingclub)</span>
<span id="cb2409-3"><a href="experimental-design.html#cb2409-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2409-4"><a href="experimental-design.html#cb2409-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Conduct Tukey&#39;s HSD test to create tukey_output</span></span>
<span id="cb2409-5"><a href="experimental-design.html#cb2409-5" aria-hidden="true" tabindex="-1"></a>tukey_output <span class="ot">&lt;-</span> <span class="fu">TukeyHSD</span>(purpose_aov, <span class="st">&quot;purpose_recode&quot;</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>)</span>
<span id="cb2409-6"><a href="experimental-design.html#cb2409-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2409-7"><a href="experimental-design.html#cb2409-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy tukey_output to make sense of the results</span></span>
<span id="cb2409-8"><a href="experimental-design.html#cb2409-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(tukey_output)</span></code></pre></div>
<pre><code>## # A tibble: 15 × 7
##    term           contrast    null.value estimate conf.low conf.high adj.p.value
##    &lt;chr&gt;          &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
##  1 purpose_recode debt_relat…          0    5434.    1808.     9059.     2.91e-4
##  2 purpose_recode home_relat…          0    4845.     562.     9128.     1.61e-2
##  3 purpose_recode life_chang…          0    4095.   -2174.    10365.     4.25e-1
##  4 purpose_recode other-big_…          0    -649.   -5210.     3911.     9.99e-1
##  5 purpose_recode renewable_…          0   -1796.  -15902.    12309.     9.99e-1
##  6 purpose_recode home_relat…          0    -589.   -3056.     1879.     9.84e-1
##  7 purpose_recode life_chang…          0   -1338.   -6539.     3863.     9.78e-1
##  8 purpose_recode other-debt…          0   -6083.   -9005.    -3160.     5.32e-8
##  9 purpose_recode renewable_…          0   -7230.  -20894.     6434.     6.58e-1
## 10 purpose_recode life_chang…          0    -750.   -6429.     4929.     9.99e-1
## 11 purpose_recode other-home…          0   -5494.   -9201.    -1787.     3.58e-4
## 12 purpose_recode renewable_…          0   -6641.  -20494.     7212.     7.46e-1
## 13 purpose_recode other-life…          0   -4745.  -10636.     1147.     1.95e-1
## 14 purpose_recode renewable_…          0   -5892.  -20482.     8698.     8.59e-1
## 15 purpose_recode renewable_…          0   -1147.  -15088.    12794.     1.00e+0</code></pre>
<p>we can see that only a few of the mean differences are statistically significant, for example the differences in the means for the <code>debt_related</code> and <code>big_purchase</code> loan amounts.</p>
<p>In this case, these tiny p-values are most likely to be due to large sample size, and further tests would be required to determine what’s actually significant in the case of loans (known as the practical significance.)</p>
</div>
<div id="multiple-factor-experiments" class="section level4 hasAnchor" number="18.2.1.4">
<h4><span class="header-section-number">18.2.1.4</span> Multiple Factor Experiments<a href="experimental-design.html#multiple-factor-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can examine more than one explanatory factor in a multiple factor experiment.</p>
<p>Use <code>aov()</code> to build a linear model and ANOVA in one step, examining how <code>purpose_recode</code> and employment length (<code>emp_length</code>) affect the funded amount.</p>
<div class="sourceCode" id="cb2411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2411-1"><a href="experimental-design.html#cb2411-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use aov() to build purpose_emp_aov</span></span>
<span id="cb2411-2"><a href="experimental-design.html#cb2411-2" aria-hidden="true" tabindex="-1"></a>purpose_emp_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(funded_amnt <span class="sc">~</span> purpose_recode <span class="sc">+</span> emp_length, <span class="at">data =</span> lendingclub)</span>
<span id="cb2411-3"><a href="experimental-design.html#cb2411-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2411-4"><a href="experimental-design.html#cb2411-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print purpose_emp_aov to the console</span></span>
<span id="cb2411-5"><a href="experimental-design.html#cb2411-5" aria-hidden="true" tabindex="-1"></a>purpose_emp_aov</span></code></pre></div>
<pre><code>## Call:
##    aov(formula = funded_amnt ~ purpose_recode + emp_length, data = lendingclub)
## 
## Terms:
##                 purpose_recode   emp_length    Residuals
## Sum of Squares      3688783338   2044273211 100488872355
## Deg. of Freedom              5           11         1483
## 
## Residual standard error: 8232
## Estimated effects may be unbalanced</code></pre>
<p>The printed <code>purpose_emp_aov</code> does not show p-values, which we might be interested in. Display those by calling <code>summary()</code> on the <code>aov</code> object.</p>
<div class="sourceCode" id="cb2413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2413-1"><a href="experimental-design.html#cb2413-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call summary() to see the p-values</span></span>
<span id="cb2413-2"><a href="experimental-design.html#cb2413-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(purpose_emp_aov)</span></code></pre></div>
<pre><code>##                  Df       Sum Sq   Mean Sq F value        Pr(&gt;F)    
## purpose_recode    5   3688783338 737756668   10.89 0.00000000026 ***
## emp_length       11   2044273211 185843019    2.74        0.0016 ** 
## Residuals      1483 100488872355  67760534                          
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
</div>
<div id="model-validation" class="section level3 hasAnchor" number="18.2.2">
<h3><span class="header-section-number">18.2.2</span> Model validation<a href="experimental-design.html#model-validation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Post-modeling model validation</strong></p>
<ul>
<li><p>Residual plot</p></li>
<li><p>QQ-plot for normality</p></li>
<li><p>Test ANOVA assumptions</p>
<ul>
<li>Homogeneity of variances</li>
</ul></li>
<li><p>Try non-parametric alternatives to ANOVA</p></li>
</ul>
<div id="pre-modeling-eda" class="section level4 hasAnchor" number="18.2.2.1">
<h4><span class="header-section-number">18.2.2.1</span> Pre-modeling EDA<a href="experimental-design.html#pre-modeling-eda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Examine what effect their Lending Club-assigned loan <code>grade</code> variable has on the interest rate, <code>int_rate</code>.</p>
<div class="sourceCode" id="cb2415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2415-1"><a href="experimental-design.html#cb2415-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the summary of int_rate, range and interquartile range</span></span>
<span id="cb2415-2"><a href="experimental-design.html#cb2415-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lendingclub<span class="sc">$</span>int_rate)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.32    9.99   12.99   13.31   16.29   26.77</code></pre>
<div class="sourceCode" id="cb2417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2417-1"><a href="experimental-design.html#cb2417-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine int_rate by grade</span></span>
<span id="cb2417-2"><a href="experimental-design.html#cb2417-2" aria-hidden="true" tabindex="-1"></a>lendingclub <span class="sc">%&gt;%</span> </span>
<span id="cb2417-3"><a href="experimental-design.html#cb2417-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(grade) <span class="sc">%&gt;%</span> </span>
<span id="cb2417-4"><a href="experimental-design.html#cb2417-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(int_rate), </span>
<span id="cb2417-5"><a href="experimental-design.html#cb2417-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">var =</span> <span class="fu">var</span>(int_rate), </span>
<span id="cb2417-6"><a href="experimental-design.html#cb2417-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">median =</span> <span class="fu">median</span>(int_rate))</span></code></pre></div>
<pre><code>## # A tibble: 7 × 4
##   grade  mean   var median
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 A      7.27 0.961   7.26
## 2 B     10.9  2.08   11.0 
## 3 C     14.0  1.42   14.0 
## 4 D     17.4  1.62   17.6 
## 5 E     20.1  2.71   20.0 
## 6 F     23.6  2.87   23.5 
## 7 G     26.1  0.198  25.9</code></pre>
<div class="sourceCode" id="cb2419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2419-1"><a href="experimental-design.html#cb2419-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a boxplot of int_rate by grade</span></span>
<span id="cb2419-2"><a href="experimental-design.html#cb2419-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lendingclub, <span class="fu">aes</span>(<span class="at">x =</span> grade, <span class="at">y =</span> int_rate)) <span class="sc">+</span> </span>
<span id="cb2419-3"><a href="experimental-design.html#cb2419-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-917-1.png" width="672" /></p>
<div class="sourceCode" id="cb2420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2420-1"><a href="experimental-design.html#cb2420-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use aov() to create grade_aov and call summary() to print results</span></span>
<span id="cb2420-2"><a href="experimental-design.html#cb2420-2" aria-hidden="true" tabindex="-1"></a>grade_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(int_rate <span class="sc">~</span> grade, <span class="at">data =</span> lendingclub)</span>
<span id="cb2420-3"><a href="experimental-design.html#cb2420-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2420-4"><a href="experimental-design.html#cb2420-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(grade_aov)</span></code></pre></div>
<pre><code>##               Df Sum Sq Mean Sq F value              Pr(&gt;F)    
## grade          6  27013    4502    2637 &lt;0.0000000000000002 ***
## Residuals   1493   2549       2                                
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>You can see from the numeric summary and the boxplot that grade seems to heavily influence interest rate. Therefore, the linear model results indicating that <code>int_rate</code> is significantly different by <code>grade</code> are unsurprising.</p>
</div>
<div id="post-modeling-validation" class="section level4 hasAnchor" number="18.2.2.2">
<h4><span class="header-section-number">18.2.2.2</span> Post-modeling validation<a href="experimental-design.html#post-modeling-validation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the last exercise, we found that <code>int_rate</code> does differ by <code>grade</code>. Now we should validate this model, which for linear regression means examining the <em>Residuals vs. Fitted</em> and <em>Normal Q-Q plots</em>.</p>
<ul>
<li><code>plot(model)</code></li>
</ul>
<p>Another assumption of ANOVA and linear modeling is <em>homogeneity of variance</em>. Homogeneity means “same”.</p>
<ul>
<li><p>e.g, the variance of <code>int_rate</code> is the same for each level of <code>grade</code>.</p></li>
<li><p>Using <code>bartlett.test(formula, data)</code> to test.</p></li>
</ul>
<p>Produce the model diagnostic plots.</p>
<div class="sourceCode" id="cb2422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2422-1"><a href="experimental-design.html#cb2422-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For a 2x2 grid of plots:</span></span>
<span id="cb2422-2"><a href="experimental-design.html#cb2422-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb2422-3"><a href="experimental-design.html#cb2422-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2422-4"><a href="experimental-design.html#cb2422-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot grade_aov</span></span>
<span id="cb2422-5"><a href="experimental-design.html#cb2422-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(grade_aov)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-919-1.png" width="672" /></p>
<p>The residuals on this model are okay, though the residuals on G have a much smaller range than any other level of grade (the dots are far less spread out.) The Q-Q plot, however, shows that the residuals are fairly normal.</p>
<p>Test for homogeneity of variances using <code>bartlett.test()</code>. non.sig means data is homogeneity.</p>
<div class="sourceCode" id="cb2423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2423-1"><a href="experimental-design.html#cb2423-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bartlett&#39;s test for homogeneity of variance</span></span>
<span id="cb2423-2"><a href="experimental-design.html#cb2423-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bartlett.test</span>(int_rate <span class="sc">~</span> grade, lendingclub)</span></code></pre></div>
<pre><code>## 
##  Bartlett test of homogeneity of variances
## 
## data:  int_rate by grade
## Bartlett&#39;s K-squared = 79, df = 6, p-value = 0.000000000000007</code></pre>
<p>However, given the highly significant p-value from Bartlett’s test, the assumption of homogeneity of variances is violated.</p>
</div>
<div id="kruskal-wallis-rank-sum-test" class="section level4 hasAnchor" number="18.2.2.3">
<h4><span class="header-section-number">18.2.2.3</span> Kruskal-Wallis rank sum test<a href="experimental-design.html#kruskal-wallis-rank-sum-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Given that we found in the last exercise that the homogeneity of variance assumption of linear modeling was violated, we may want to try an alternative.</p>
<p>One non-parametric alternative to ANOVA is the Kruskal-Wallis rank sum test. It is an extension of the Mann-Whitney U test for when there are more than two groups.</p>
<p><code>kruskal.test(formula, data)</code></p>
<p>Use <code>kruskal.test()</code> to examine whether <code>int_rate</code> varies by <code>grade</code> when a non-parametric model is employed.</p>
<div class="sourceCode" id="cb2425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2425-1"><a href="experimental-design.html#cb2425-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Conduct the Kruskal-Wallis rank sum test</span></span>
<span id="cb2425-2"><a href="experimental-design.html#cb2425-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kruskal.test</span>(int_rate <span class="sc">~</span> grade,</span>
<span id="cb2425-3"><a href="experimental-design.html#cb2425-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> lendingclub)</span></code></pre></div>
<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  int_rate by grade
## Kruskal-Wallis chi-squared = 1366, df = 6, p-value &lt;0.0000000000000002</code></pre>
<p>The low p-value indicates that <code>int_rate</code> varies by <code>grade</code>.</p>
</div>
</div>
<div id="ab-testing" class="section level3 hasAnchor" number="18.2.3">
<h3><span class="header-section-number">18.2.3</span> A/B testing<a href="experimental-design.html#ab-testing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A type of controlled experiment with only two variants of something. (只有一個獨變項，且僅一操弄)</p>
<ul>
<li><p>e.g, How many consumers click through to create an account based on two different website headers?</p>
<p><img src="image/AB%20test_lending%20club.png" width="393" /></p></li>
<li><p>Calculate sample size, given power, significance level, and effect size</p></li>
</ul>
<div id="sample-size-for-ab-test" class="section level4 hasAnchor" number="18.2.3.1">
<h4><span class="header-section-number">18.2.3.1</span> Sample size for A/B test<a href="experimental-design.html#sample-size-for-ab-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We’ll be testing the mean <code>loan_amnt</code>, which is the requested amount of money the loan applicants ask for, based on which color header (green or blue) that they saw on the Lending Club website.</p>
<p>calculate the required sample size for each group with <code>d = 0.2</code>, a power of <code>0.8</code>, and a <code>0.05</code> significance level.</p>
<div class="sourceCode" id="cb2427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2427-1"><a href="experimental-design.html#cb2427-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the correct function from pwr to find the sample size</span></span>
<span id="cb2427-2"><a href="experimental-design.html#cb2427-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pwr.t.test</span>(</span>
<span id="cb2427-3"><a href="experimental-design.html#cb2427-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">d =</span> <span class="fl">0.2</span>, </span>
<span id="cb2427-4"><a href="experimental-design.html#cb2427-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="cn">NULL</span>, </span>
<span id="cb2427-5"><a href="experimental-design.html#cb2427-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">power =</span> <span class="fl">0.8</span>, </span>
<span id="cb2427-6"><a href="experimental-design.html#cb2427-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sig.level =</span> <span class="fl">0.05</span>, </span>
<span id="cb2427-7"><a href="experimental-design.html#cb2427-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;two.sample&quot;</span>,</span>
<span id="cb2427-8"><a href="experimental-design.html#cb2427-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>)</span></code></pre></div>
<pre><code>## 
##      Two-sample t test power calculation 
## 
##               n = 393
##               d = 0.2
##       sig.level = 0.05
##           power = 0.8
##     alternative = two.sided
## 
## NOTE: n is number in *each* group</code></pre>
<p>We need about 400 people per group to reach our desired power in this A/B test.</p>
</div>
<div id="basic-ab-test" class="section level4 hasAnchor" number="18.2.3.2">
<h4><span class="header-section-number">18.2.3.2</span> Basic A/B test<a href="experimental-design.html#basic-ab-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The A/B test was run until there were 500 applicants in each group. Each applicant has been labeled as group A or B. Where A was shown a mint green website header and B was shown a light blue website header.</p>
<div class="sourceCode" id="cb2429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2429-1"><a href="experimental-design.html#cb2429-1" aria-hidden="true" tabindex="-1"></a>lendingclub_ab <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/lendingclub_ab.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb2429-2"><a href="experimental-design.html#cb2429-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2429-3"><a href="experimental-design.html#cb2429-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(lendingclub_ab)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 75
## $ id                          &lt;dbl&gt; 11976148, 1203719, 54998739, 5801830, 3158…
## $ member_id                   &lt;dbl&gt; 13968311, 1444848, 58569477, 7233534, 3418…
## $ loan_amnt                   &lt;dbl&gt; 8000, 1200, 15000, 9000, 16000, 15600, 240…
## $ funded_amnt                 &lt;dbl&gt; 8000, 1200, 15000, 9000, 16000, 15600, 240…
## $ funded_amnt_inv             &lt;dbl&gt; 8000, 1200, 15000, 9000, 16000, 15600, 240…
## $ term                        &lt;chr&gt; &quot;36 months&quot;, &quot;36 months&quot;, &quot;36 months&quot;, &quot;60…
## $ int_rate                    &lt;dbl&gt; 9.67, 12.12, 12.69, 12.12, 11.67, 15.10, 1…
## $ installment                 &lt;dbl&gt; 256.9, 39.9, 503.2, 200.8, 528.9, 371.9, 8…
## $ grade                       &lt;chr&gt; &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;C&quot;, &quot;C…
## $ sub_grade                   &lt;chr&gt; &quot;B1&quot;, &quot;B3&quot;, &quot;C2&quot;, &quot;B3&quot;, &quot;B4&quot;, &quot;C2&quot;, &quot;D1&quot;, …
## $ emp_title                   &lt;chr&gt; &quot;Escalation Manager&quot;, &quot;new vanderbilt reha…
## $ emp_length                  &lt;chr&gt; &quot;9 years&quot;, &quot;4 years&quot;, &quot;10+ years&quot;, &quot;10+ ye…
## $ home_ownership              &lt;chr&gt; &quot;MORTGAGE&quot;, &quot;RENT&quot;, &quot;MORTGAGE&quot;, &quot;RENT&quot;, &quot;M…
## $ annual_inc                  &lt;dbl&gt; 74000, 58000, 109400, 85000, 250000, 43000…
## $ verification_status         &lt;chr&gt; &quot;Verified&quot;, &quot;Not Verified&quot;, &quot;Not Verified&quot;…
## $ issue_d                     &lt;chr&gt; &quot;Feb-2014&quot;, &quot;Apr-2012&quot;, &quot;Jul-2015&quot;, &quot;Jul-2…
## $ loan_status                 &lt;chr&gt; &quot;Current&quot;, &quot;Fully Paid&quot;, &quot;Current&quot;, &quot;Fully…
## $ pymnt_plan                  &lt;chr&gt; &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n&quot;, &quot;n…
## $ url                         &lt;chr&gt; &quot;https://www.lendingclub.com/browse/loanDe…
## $ desc                        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ purpose                     &lt;chr&gt; &quot;major_purchase&quot;, &quot;credit_card&quot;, &quot;debt_con…
## $ title                       &lt;chr&gt; &quot;Major purchase&quot;, &quot;Credit Card Loan&quot;, &quot;Deb…
## $ zip_code                    &lt;chr&gt; &quot;492xx&quot;, &quot;103xx&quot;, &quot;935xx&quot;, &quot;891xx&quot;, &quot;300xx…
## $ addr_state                  &lt;chr&gt; &quot;MI&quot;, &quot;NY&quot;, &quot;CA&quot;, &quot;NV&quot;, &quot;GA&quot;, &quot;NJ&quot;, &quot;IN&quot;, …
## $ dti                         &lt;dbl&gt; 7.49, 13.50, 26.18, 7.02, 19.65, 13.71, 22…
## $ delinq_2yrs                 &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 0, 0, 1, 0, …
## $ earliest_cr_line            &lt;chr&gt; &quot;Aug-2001&quot;, &quot;Jul-2003&quot;, &quot;May-1996&quot;, &quot;Mar-1…
## $ inq_last_6mths              &lt;dbl&gt; 0, 0, 2, 0, 0, 1, 1, 1, 1, 3, 0, 1, 3, 3, …
## $ mths_since_last_delinq      &lt;dbl&gt; 24, NA, NA, 10, NA, NA, NA, 13, 57, 17, 67…
## $ mths_since_last_record      &lt;dbl&gt; NA, NA, 117, NA, NA, NA, NA, NA, NA, NA, N…
## $ open_acc                    &lt;dbl&gt; 6, 22, 16, 15, 18, 8, 18, 33, 16, 10, 6, 1…
## $ pub_rec                     &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16,…
## $ revol_bal                   &lt;dbl&gt; 3750, 21826, 15250, 28024, 46894, 10292, 8…
## $ revol_util                  &lt;dbl&gt; 61.5, 66.9, 71.0, 19.6, 68.9, 63.9, 63.1, …
## $ total_acc                   &lt;dbl&gt; 18, 35, 24, 38, 21, 20, 32, 52, 32, 22, 25…
## $ initial_list_status         &lt;chr&gt; &quot;w&quot;, &quot;f&quot;, &quot;w&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f…
## $ out_prncp                   &lt;dbl&gt; 3388, 0, 12877, 0, 10002, 0, 2073, 22198, …
## $ out_prncp_inv               &lt;dbl&gt; 3388, 0, 12877, 0, 10002, 0, 2073, 21846, …
## $ total_pymnt                 &lt;dbl&gt; 5652, 1437, 3008, 10638, 7913, 15990, 511,…
## $ total_pymnt_inv             &lt;dbl&gt; 5652, 1437, 3008, 10638, 7913, 15990, 511,…
## $ total_rec_prncp             &lt;dbl&gt; 4612, 1200, 2123, 9000, 5998, 15600, 327, …
## $ total_rec_int               &lt;dbl&gt; 1040, 237, 886, 1638, 1916, 390, 185, 1325…
## $ total_rec_late_fee          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ recoveries                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ collection_recovery_fee     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ last_pymnt_d                &lt;chr&gt; &quot;Dec-2015&quot;, &quot;Apr-2015&quot;, &quot;Jan-2016&quot;, &quot;Mar-2…
## $ last_pymnt_amnt             &lt;dbl&gt; 256.9, 41.1, 503.2, 6829.8, 528.9, 15618.6…
## $ next_pymnt_d                &lt;chr&gt; &quot;Feb-2016&quot;, NA, &quot;Feb-2016&quot;, NA, &quot;Feb-2016&quot;…
## $ last_credit_pull_d          &lt;chr&gt; &quot;Jan-2016&quot;, &quot;Apr-2015&quot;, &quot;Jan-2016&quot;, &quot;Jan-2…
## $ collections_12_mths_ex_med  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …
## $ mths_since_last_major_derog &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 13, 57, 35, 67…
## $ policy_code                 &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ application_type            &lt;chr&gt; &quot;INDIVIDUAL&quot;, &quot;INDIVIDUAL&quot;, &quot;INDIVIDUAL&quot;, …
## $ annual_inc_joint            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ dti_joint                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ verification_status_joint   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ acc_now_delinq              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ tot_coll_amt                &lt;dbl&gt; 313, NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ tot_cur_bal                 &lt;dbl&gt; 291589, NA, 367506, 28024, 134267, 17546, …
## $ open_acc_6m                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ open_il_6m                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ open_il_12m                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ open_il_24m                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mths_since_rcnt_il          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ total_bal_il                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ il_util                     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ open_rv_12m                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ open_rv_24m                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ max_bal_bc                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ all_util                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ total_rev_hi_lim            &lt;dbl&gt; 6100, NA, 21400, 143100, 68100, 16100, 139…
## $ inq_fi                      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ total_cu_tl                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ inq_last_12m                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Group                       &lt;chr&gt; &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A…</code></pre>
<p>Conduct the proper test to see if the mean of <code>loan_amnt</code> is different between the two groups.</p>
<div class="sourceCode" id="cb2431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2431-1"><a href="experimental-design.html#cb2431-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the A/B test results</span></span>
<span id="cb2431-2"><a href="experimental-design.html#cb2431-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lendingclub_ab, <span class="fu">aes</span>(<span class="at">x =</span> Group, <span class="at">y =</span> loan_amnt)) <span class="sc">+</span> </span>
<span id="cb2431-3"><a href="experimental-design.html#cb2431-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-924-1.png" width="672" /></p>
<div class="sourceCode" id="cb2432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2432-1"><a href="experimental-design.html#cb2432-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Conduct a two-sided t-test</span></span>
<span id="cb2432-2"><a href="experimental-design.html#cb2432-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(loan_amnt <span class="sc">~</span> Group, <span class="at">data =</span> lendingclub_ab)</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  loan_amnt by Group
## t = -0.6, df = 997, p-value = 0.6
## alternative hypothesis: true difference in means between group A and group B is not equal to 0
## 95 percent confidence interval:
##  -1377   748
## sample estimates:
## mean in group A mean in group B 
##           14723           15038</code></pre>
<p>By looking at both the boxplot and the results of the t-test, it seems that there is no compelling evidence to support the hypothesis that there is a difference between the two A/B test groups’ mean <code>loan_amnt</code>, a result which you would use to help make data-driven decisions at Lending Club.</p>
</div>
<div id="multivariable-experiments" class="section level4 hasAnchor" number="18.2.3.3">
<h4><span class="header-section-number">18.2.3.3</span> Multivariable experiments<a href="experimental-design.html#multivariable-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The point of an A/B test is that only one thing is changed and the effect of that change is measured.</p>
<p>On the other hand, a multivariate experiment, is where a few things are changed (similar to a multiple factor experiment.)</p>
<p>Let’s examine how <code>Group</code>, <code>grade</code>, and <code>verification_status</code> affect <code>loan_amnt</code> in the <code>lendingclub_ab</code> dataset.</p>
<div class="sourceCode" id="cb2434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2434-1"><a href="experimental-design.html#cb2434-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build lendingclub_multi</span></span>
<span id="cb2434-2"><a href="experimental-design.html#cb2434-2" aria-hidden="true" tabindex="-1"></a>lendingclub_multi <span class="ot">&lt;-</span> <span class="fu">lm</span>(loan_amnt <span class="sc">~</span> Group <span class="sc">+</span> grade <span class="sc">+</span> verification_status, lendingclub_ab)</span>
<span id="cb2434-3"><a href="experimental-design.html#cb2434-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2434-4"><a href="experimental-design.html#cb2434-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine lendingclub_multi results</span></span>
<span id="cb2434-5"><a href="experimental-design.html#cb2434-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(lendingclub_multi)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 5
##    term                               estimate std.error statistic  p.value
##    &lt;chr&gt;                                 &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 (Intercept)                          11244.      792.    14.2   8.44e-42
##  2 GroupB                                 205.      515.     0.398 6.91e- 1
##  3 gradeB                                -975.      817.    -1.19  2.33e- 1
##  4 gradeC                                -631.      806.    -0.783 4.34e- 1
##  5 gradeD                                 718.      917.     0.783 4.34e- 1
##  6 gradeE                                1477.     1208.     1.22  2.22e- 1
##  7 gradeF                                5453.     1942.     2.81  5.09e- 3
##  8 gradeG                                3490.     3396.     1.03  3.04e- 1
##  9 verification_statusSource Verified    4528.      637.     7.10  2.30e-12
## 10 verification_statusVerified           5900.      668.     8.84  4.41e-18</code></pre>
<p>From the results, verification status and having an F grade are the factors in this model that have a significant effect on loan amount.</p>
</div>
</div>
</div>
<div id="block-designs" class="section level2 hasAnchor" number="18.3">
<h2><span class="header-section-number">18.3</span> Block Designs<a href="experimental-design.html#block-designs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="intro-to-sampling" class="section level3 hasAnchor" number="18.3.1">
<h3><span class="header-section-number">18.3.1</span> Intro to sampling<a href="experimental-design.html#intro-to-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Probability Sampling: probability is used to select the sample (in various ways)</p>
<ul>
<li><p>Simple Random Sampling (SRS)</p>
<ul>
<li><p>Every unit in a population has an equal probability of being sampled.</p></li>
<li><p><code>sample()</code></p></li>
</ul></li>
<li><p>Stratified Sampling</p>
<ul>
<li><p>Splitting your population by some strata variable.</p></li>
<li><p>Taking a simple random sample inside of each stratified group.</p></li>
<li><p><code>dataset %&gt;% group_by(strata_variable) %&gt;% slice_sample()</code></p></li>
</ul></li>
<li><p>Cluster Sampling</p>
<ul>
<li><p>Divide the population into groups called clusters</p>
<div class="sourceCode" id="cb2436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2436-1"><a href="experimental-design.html#cb2436-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cluster</span>(dataset,</span>
<span id="cb2436-2"><a href="experimental-design.html#cb2436-2" aria-hidden="true" tabindex="-1"></a>        cluster_var_name,</span>
<span id="cb2436-3"><a href="experimental-design.html#cb2436-3" aria-hidden="true" tabindex="-1"></a>        number_to_select,</span>
<span id="cb2436-4"><a href="experimental-design.html#cb2436-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">&quot;option&quot;</span>)</span></code></pre></div></li>
</ul></li>
<li><p>Systematic Sampling</p>
<ul>
<li><p>Choosing a sample in a systematic way.</p></li>
<li><p>Best implemented in R with a custom function.</p></li>
</ul></li>
<li><p>Multi-stage Sampling</p>
<ul>
<li>Combines one or more sampling methods.</li>
</ul></li>
</ul>
<p>Non-probability Sampling: probability is not used to select the sample</p>
<ul>
<li><p>Voluntary response:</p>
<ul>
<li>Whoever agrees to respond is the sample.</li>
</ul></li>
<li><p>Convenience sampling:</p>
<ul>
<li>Subjects convenient to the researcher are chosen.</li>
</ul></li>
</ul>
<div id="nhanes-dataset-construction" class="section level4 hasAnchor" number="18.3.1.1">
<h4><span class="header-section-number">18.3.1.1</span> NHANES dataset construction<a href="experimental-design.html#nhanes-dataset-construction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>NHANES = National Health and Nutrition Examination Survey</p>
<ul>
<li><p>Conducted by the National Center for Health Statistics (NCHS), a division of the Centers for Disease Control (CDC).</p></li>
<li><p>Data collected a variety of ways, including interviews &amp; a physical exam.</p></li>
<li><p>Questions cover medical, dental, socioeconomic, dietary, and general health-related conditions.</p></li>
</ul>
<div class="sourceCode" id="cb2437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2437-1"><a href="experimental-design.html#cb2437-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the three datasets using read_xpt()</span></span>
<span id="cb2437-2"><a href="experimental-design.html#cb2437-2" aria-hidden="true" tabindex="-1"></a>nhanes_demo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/nhanes_demo.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 9971 Columns: 47
## ── Column specification ──────────────────────
## Delimiter: &quot;,&quot;
## dbl (47): seqn, sddsrvyr, ridstatr, riagendr, ridageyr, ridagemn, ridreth1, ...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb2439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2439-1"><a href="experimental-design.html#cb2439-1" aria-hidden="true" tabindex="-1"></a>nhanes_medical <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/nhanes_medicalconditions.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: One or more parsing issues, call `problems()`
## on your data frame for details, e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## Rows: 9575 Columns: 90
## ── Column specification ──────────────────────
## Delimiter: &quot;,&quot;
## dbl (74): seqn, mcq010, mcq025, mcq035, mcq040, mcq050, agq030, mcq053, mcq0...
## lgl (16): mcq230c, mcq230d, mcq240aa, mcq240bb, mcq240d, mcq240dk, mcq240h, ...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb2442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2442-1"><a href="experimental-design.html#cb2442-1" aria-hidden="true" tabindex="-1"></a>nhanes_bodymeasures <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/nhanes_bodymeasures.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 9544 Columns: 26
## ── Column specification ──────────────────────
## Delimiter: &quot;,&quot;
## dbl (25): seqn, bmdstats, bmxwt, bmiwt, bmxrecum, bmirecum, bmxhead, bmxht, ...
## lgl  (1): bmihead
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb2444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2444-1"><a href="experimental-design.html#cb2444-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the 3 datasets you just created to create nhanes_combined</span></span>
<span id="cb2444-2"><a href="experimental-design.html#cb2444-2" aria-hidden="true" tabindex="-1"></a>nhanes_combined <span class="ot">&lt;-</span> <span class="fu">list</span>(nhanes_demo, nhanes_medical, nhanes_bodymeasures) <span class="sc">%&gt;%</span></span>
<span id="cb2444-3"><a href="experimental-design.html#cb2444-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Reduce</span>(<span class="cf">function</span>(df1, df2) <span class="fu">inner_join</span>(df1, df2, <span class="at">by =</span> <span class="st">&quot;seqn&quot;</span>), .)</span>
<span id="cb2444-4"><a href="experimental-design.html#cb2444-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2444-5"><a href="experimental-design.html#cb2444-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nhanes_combined)</span></code></pre></div>
<pre><code>## Rows: 9,165
## Columns: 161
## $ seqn     &lt;dbl&gt; 83732, 83733, 83734, 83735, 83736, 83737, 83738, 83739, 83740…
## $ sddsrvyr &lt;dbl&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9…
## $ ridstatr &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…
## $ riagendr &lt;dbl&gt; 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 2, 1, 1, 2, 2, 1, 1, 2, 1, 2, 2…
## $ ridageyr &lt;dbl&gt; 62, 53, 78, 56, 42, 72, 11, 4, 1, 22, 32, 18, 56, 15, 4, 46, …
## $ ridagemn &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 13, NA, NA, NA, NA, NA, NA, N…
## $ ridreth1 &lt;dbl&gt; 3, 3, 3, 3, 4, 1, 1, 3, 2, 4, 1, 5, 4, 3, 5, 3, 4, 3, 5, 1, 2…
## $ ridreth3 &lt;dbl&gt; 3, 3, 3, 3, 4, 1, 1, 3, 2, 4, 1, 6, 4, 3, 6, 3, 4, 3, 7, 1, 2…
## $ ridexmon &lt;dbl&gt; 1, 1, 2, 2, 2, 1, 1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1…
## $ ridexagm &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 141, 54, 14, NA, NA, 217, NA, 185, 52…
## $ dmqmiliz &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, 2, 2, NA, NA, 2, NA, 2, 2…
## $ dmqadfc  &lt;dbl&gt; NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ dmdborn4 &lt;dbl&gt; 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1…
## $ dmdcitzn &lt;dbl&gt; 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1…
## $ dmdyrsus &lt;dbl&gt; NA, 7, NA, NA, NA, 2, NA, NA, NA, NA, 6, NA, NA, NA, 2, 8, NA…
## $ dmdeduc3 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 6, NA, NA, NA, NA, 11, NA, 9, NA, NA,…
## $ dmdeduc2 &lt;dbl&gt; 5, 3, 3, 5, 4, 2, NA, NA, NA, 4, 4, NA, 3, NA, NA, 5, NA, NA,…
## $ dmdmartl &lt;dbl&gt; 1, 3, 1, 6, 3, 4, NA, NA, NA, 5, 1, NA, 3, NA, NA, 6, NA, NA,…
## $ ridexprg &lt;dbl&gt; NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA,…
## $ sialang  &lt;dbl&gt; 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ siaproxy &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2, 2, 2…
## $ siaintrp &lt;dbl&gt; 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2…
## $ fialang  &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ fiaproxy &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…
## $ fiaintrp &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2…
## $ mialang  &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, NA, NA, 1, 1, NA, 1, 1, NA, 1, NA, 1, 1,…
## $ miaproxy &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, NA, NA, 2, 2, NA, 2, 2, NA, 2, NA, 2, 2,…
## $ miaintrp &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, NA, NA, 2, 2, NA, 2, 2, NA, 2, NA, 2, 2,…
## $ aialanga &lt;dbl&gt; 1, 1, NA, 1, 1, NA, 1, NA, NA, 1, 1, 1, 1, 1, NA, 1, NA, 1, 1…
## $ dmdhhsiz &lt;dbl&gt; 2, 1, 2, 1, 5, 5, 5, 5, 7, 3, 4, 3, 1, 3, 4, 2, 6, 5, 5, 6, 2…
## $ dmdfmsiz &lt;dbl&gt; 2, 1, 2, 1, 5, 5, 5, 5, 7, 3, 4, 3, 1, 3, 4, 2, 6, 5, 1, 6, 2…
## $ dmdhhsza &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 2, 2, 0, 1, 0, 0, 0, 1, 0, 3, 0, 0, 1, 0…
## $ dmdhhszb &lt;dbl&gt; 0, 0, 0, 0, 2, 1, 2, 1, 2, 0, 1, 0, 0, 2, 1, 0, 0, 1, 2, 2, 0…
## $ dmdhhsze &lt;dbl&gt; 1, 0, 2, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0…
## $ dmdhrgnd &lt;dbl&gt; 1, 1, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2…
## $ dmdhrage &lt;dbl&gt; 62, 53, 79, 56, 42, 34, 68, 35, 48, 47, 31, 55, 56, 42, 45, 4…
## $ dmdhrbr4 &lt;dbl&gt; 1, 2, 1, 1, 1, 2, 2, 1, 2, 1, 1, 2, 1, 1, NA, 2, 1, 1, NA, 1,…
## $ dmdhredu &lt;dbl&gt; 5, 3, 3, 5, 4, 5, 1, 5, 9, 4, 4, 5, 3, 4, NA, 5, 4, 4, NA, 2,…
## $ dmdhrmar &lt;dbl&gt; 1, 3, 1, 6, 3, 1, 2, 1, 5, 1, 1, 1, 3, 5, 1, 6, 5, 1, 1, 1, 6…
## $ dmdhsedu &lt;dbl&gt; 3, NA, 3, NA, NA, 5, NA, 5, NA, 5, 4, 4, NA, NA, 4, NA, NA, 4…
## $ wtint2yr &lt;dbl&gt; 134671, 24329, 12400, 102718, 17628, 11252, 9965, 44750, 9892…
## $ wtmec2yr &lt;dbl&gt; 135630, 25282, 12576, 102079, 18235, 10879, 9861, 46173, 1096…
## $ sdmvpsu  &lt;dbl&gt; 1, 1, 1, 1, 2, 1, 1, 2, 1, 2, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1, 1…
## $ sdmvstra &lt;dbl&gt; 125, 125, 131, 131, 126, 128, 120, 124, 119, 128, 125, 122, 1…
## $ indhhin2 &lt;dbl&gt; 10, 4, 5, 10, 7, 14, 6, 15, 77, 7, 6, 15, 3, 4, 12, 3, 6, 14,…
## $ indfmin2 &lt;dbl&gt; 10, 4, 5, 10, 7, 14, 6, 15, 77, 7, 6, 15, 3, 4, 12, 3, 6, 14,…
## $ indfmpir &lt;dbl&gt; 4.39, 1.32, 1.51, 5.00, 1.23, 2.82, 1.18, 4.22, NA, 2.08, 1.0…
## $ mcq010   &lt;dbl&gt; 2, 2, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 1…
## $ mcq025   &lt;dbl&gt; NA, NA, 60, NA, 10, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1…
## $ mcq035   &lt;dbl&gt; NA, NA, 1, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, …
## $ mcq040   &lt;dbl&gt; NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mcq050   &lt;dbl&gt; NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ agq030   &lt;dbl&gt; NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mcq053   &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…
## $ mcq080   &lt;dbl&gt; 1, 2, 1, 1, 2, 1, NA, NA, NA, 1, 2, 1, 1, NA, NA, 1, NA, 2, 2…
## $ mcq092   &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, NA, NA, 2, 2, 2, 2, 2, NA, 2, NA, 2, 2, …
## $ mcd093   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq149   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mcq151   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160a  &lt;dbl&gt; 1, 2, 1, 2, 1, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 1, NA, NA,…
## $ mcq180a  &lt;dbl&gt; 40, NA, 55, NA, 10, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4…
## $ mcq195   &lt;dbl&gt; 1, NA, 4, NA, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, N…
## $ mcq160n  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 1, NA, NA, 2, NA, NA,…
## $ mcq180n  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20, NA, NA, N…
## $ mcq160b  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 1, NA, NA, 2, NA, NA,…
## $ mcq180b  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 53, NA, NA, N…
## $ mcq160c  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq180c  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160d  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq180d  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160e  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 1, NA, NA, 2, NA, NA,…
## $ mcq180e  &lt;dbl&gt; NA, NA, 58, NA, NA, NA, NA, NA, NA, NA, NA, NA, 53, NA, NA, N…
## $ mcq160f  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq180f  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160g  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq180g  &lt;dbl&gt; NA, NA, 59, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160m  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq170m  &lt;dbl&gt; NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mcq180m  &lt;dbl&gt; NA, NA, 39, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160k  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq170k  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq180k  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160l  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq170l  &lt;dbl&gt; NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mcq180l  &lt;dbl&gt; NA, NA, 11, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq160o  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq203   &lt;dbl&gt; 2, 2, 1, 2, 2, 2, 2, NA, NA, 2, 2, 2, 2, 2, NA, 2, NA, 2, 2, …
## $ mcq206   &lt;dbl&gt; NA, NA, 11, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq220   &lt;dbl&gt; 1, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, NA, 2, NA, NA, 2, NA, NA,…
## $ mcq230a  &lt;dbl&gt; 25, NA, 33, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq230b  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq230c  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq230d  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240a  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240aa &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240b  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240bb &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240c  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240cc &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240d  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240dd &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240dk &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240e  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240f  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240g  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240h  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240i  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240j  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240k  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240l  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240m  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240n  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240o  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240p  &lt;dbl&gt; 58, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240q  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240r  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240s  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240t  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240u  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240v  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240w  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240x  &lt;dbl&gt; NA, NA, 57, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240y  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq240z  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ mcq300a  &lt;dbl&gt; 2, 2, 2, 9, 2, 2, NA, NA, NA, 1, 2, NA, 2, NA, NA, 9, NA, NA,…
## $ mcq300b  &lt;dbl&gt; 2, 2, 1, 9, 2, 2, 1, NA, NA, 2, 2, 2, 2, 2, NA, 9, NA, 2, 2, …
## $ mcq300c  &lt;dbl&gt; 1, 1, 2, 9, 9, 1, NA, NA, NA, 1, 1, NA, 1, NA, NA, 9, NA, NA,…
## $ mcq365a  &lt;dbl&gt; 2, 2, 2, 1, 2, 2, NA, NA, NA, 2, 2, 1, 1, NA, NA, 1, NA, 2, 2…
## $ mcq365b  &lt;dbl&gt; 1, 2, 1, 1, 2, 2, NA, NA, NA, 2, 2, 1, 1, NA, NA, 2, NA, 1, 2…
## $ mcq365c  &lt;dbl&gt; 2, 2, 1, 2, 2, 2, NA, NA, NA, 2, 2, 1, 1, NA, NA, 1, NA, 2, 2…
## $ mcq365d  &lt;dbl&gt; 2, 2, 1, 1, 2, 1, NA, NA, NA, 2, 2, 1, 1, NA, NA, 1, NA, 2, 1…
## $ mcq370a  &lt;dbl&gt; 1, 2, 1, 1, 2, 2, NA, NA, NA, 1, 1, 2, 1, NA, NA, 2, NA, 2, 1…
## $ mcq370b  &lt;dbl&gt; 1, 2, 2, 2, 2, 2, NA, NA, NA, 1, 1, 2, 1, NA, NA, 1, NA, 2, 1…
## $ mcq370c  &lt;dbl&gt; 2, 2, 2, 1, 2, 1, NA, NA, NA, 1, 2, 1, 1, NA, NA, 1, NA, 2, 2…
## $ mcq370d  &lt;dbl&gt; 2, 2, 1, 1, 2, 1, NA, NA, NA, 1, 1, 1, 1, NA, NA, 1, NA, 2, 2…
## $ osq230   &lt;dbl&gt; 1, 2, 2, 2, 2, 2, NA, NA, NA, NA, NA, NA, 2, NA, NA, 2, NA, N…
## $ bmdstats &lt;dbl&gt; 1, 1, 1, 1, 3, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ bmxwt    &lt;dbl&gt; 94.8, 90.4, 83.4, 109.8, 55.2, 64.4, 37.2, 16.4, 10.1, 76.6, …
## $ bmiwt    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 3, NA, NA, NA, NA…
## $ bmxrecum &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmirecum &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
## $ bmxhead  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmihead  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmxht    &lt;dbl&gt; 184, 171, 170, 161, 165, 150, 144, 102, NA, 165, 151, 166, 17…
## $ bmiht    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmxbmi   &lt;dbl&gt; 27.8, 30.8, 28.8, 42.4, 20.3, 28.6, 18.1, 15.7, NA, 28.0, 28.…
## $ bmdbmic  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, 2, NA, NA, NA, 3, NA, 3, 2, NA, 2,…
## $ bmxleg   &lt;dbl&gt; 43.3, 38.0, 35.6, 38.5, 37.4, 34.4, 32.2, NA, NA, 38.8, 34.1,…
## $ bmileg   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA…
## $ bmxarml  &lt;dbl&gt; 43.6, 40.0, 37.0, 37.7, 36.0, 33.5, 30.5, 22.0, NA, 38.0, 33.…
## $ bmiarml  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, 1, NA, NA, NA, NA,…
## $ bmxarmc  &lt;dbl&gt; 35.9, 33.2, 31.0, 38.3, 27.2, 31.4, 21.7, 16.4, NA, 34.0, 31.…
## $ bmiarmc  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, 1, NA, NA, NA, NA,…
## $ bmxwaist &lt;dbl&gt; 101.1, 107.9, 116.5, 110.1, 80.4, 92.9, 67.5, 48.5, NA, 86.6,…
## $ bmiwaist &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA…
## $ bmxsad1  &lt;dbl&gt; 22.9, 27.5, 26.7, 25.2, NA, 23.2, 15.3, NA, NA, 19.1, 22.5, N…
## $ bmxsad2  &lt;dbl&gt; 22.7, 27.1, 26.5, 25.0, NA, 23.0, 15.3, NA, NA, 19.3, 22.1, N…
## $ bmxsad3  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmxsad4  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ bmdavsad &lt;dbl&gt; 22.8, 27.3, 26.6, 25.1, NA, 23.1, 15.3, NA, NA, 19.2, 22.3, N…
## $ bmdsadcm &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA…</code></pre>
</div>
<div id="eda" class="section level4 hasAnchor" number="18.3.1.2">
<h4><span class="header-section-number">18.3.1.2</span> EDA<a href="experimental-design.html#eda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Say we have access to NHANES patients and want to conduct a study on the effect of being told by a physician to reduce calories/fat in their diet on weight.</p>
<p>However, we suspect that there may be a difference in weight based on the gender of the patient - a blocking factor!</p>
<p>Is there anything interesting about the <code>NA</code> treated patients?</p>
<div class="sourceCode" id="cb2446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2446-1"><a href="experimental-design.html#cb2446-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find mean weight (bmxwt) in kg by our treatment (mcq365d)</span></span>
<span id="cb2446-2"><a href="experimental-design.html#cb2446-2" aria-hidden="true" tabindex="-1"></a>nhanes_combined <span class="sc">%&gt;%</span> </span>
<span id="cb2446-3"><a href="experimental-design.html#cb2446-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mcq365d) <span class="sc">%&gt;%</span> </span>
<span id="cb2446-4"><a href="experimental-design.html#cb2446-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(bmxwt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   mcq365d  mean
##     &lt;dbl&gt; &lt;dbl&gt;
## 1       1  90.7
## 2       2  76.5
## 3       9  90.8
## 4      NA  33.5</code></pre>
<p>Look at a boxplot of the IQR of patients’ weights by the treatment variable.</p>
<div class="sourceCode" id="cb2448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2448-1"><a href="experimental-design.html#cb2448-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in the ggplot2 code</span></span>
<span id="cb2448-2"><a href="experimental-design.html#cb2448-2" aria-hidden="true" tabindex="-1"></a>nhanes_combined <span class="sc">%&gt;%</span> </span>
<span id="cb2448-3"><a href="experimental-design.html#cb2448-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">as.factor</span>(mcq365d), bmxwt)) <span class="sc">+</span></span>
<span id="cb2448-4"><a href="experimental-design.html#cb2448-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb2448-5"><a href="experimental-design.html#cb2448-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Treatment&quot;</span>,</span>
<span id="cb2448-6"><a href="experimental-design.html#cb2448-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Weight&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 99 rows containing non-finite values
## (`stat_boxplot()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-928-1.png" width="672" /></p>
<p>Children weren’t given the treatment - that’s why we see an <code>NA</code> age category. We also have some patients have weights missing, thus the warning that the boxplot throws.</p>
</div>
<div id="data-cleaning" class="section level4 hasAnchor" number="18.3.1.3">
<h4><span class="header-section-number">18.3.1.3</span> Data Cleaning<a href="experimental-design.html#data-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>During data cleaning, we discovered that no one under the age of 16 was given the treatment. Let’s only keep patients who are greater than 16 years old in the dataset.</p>
<div class="sourceCode" id="cb2450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2450-1"><a href="experimental-design.html#cb2450-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to keep only those 16+ years old</span></span>
<span id="cb2450-2"><a href="experimental-design.html#cb2450-2" aria-hidden="true" tabindex="-1"></a>nhanes_filter <span class="ot">&lt;-</span> nhanes_combined <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ridageyr <span class="sc">&gt;</span> <span class="dv">16</span>)</span></code></pre></div>
<p>One option for dealing with the missing weights, imputation, can be implemented using the <code>simputation</code> package. Imputation is a technique for dealing with missing values where you replace them either with a summary statistic, like mean or median, or use a model to predict a value to use.</p>
<p>We’ll use <code>impute_median()</code>, which takes a dataset and the variable to impute or formula to impute by as arguments.</p>
<div class="sourceCode" id="cb2451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2451-1"><a href="experimental-design.html#cb2451-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load simputation &amp; impute bmxwt by riagendr</span></span>
<span id="cb2451-2"><a href="experimental-design.html#cb2451-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(simputation)</span>
<span id="cb2451-3"><a href="experimental-design.html#cb2451-3" aria-hidden="true" tabindex="-1"></a>nhanes_final <span class="ot">&lt;-</span> simputation<span class="sc">::</span><span class="fu">impute_median</span>(nhanes_filter, bmxwt <span class="sc">~</span> riagendr)</span></code></pre></div>
<p>Recode the <code>nhanes_final$mcq365d</code> variable by setting any observations with a value of 9 to 2 instead. Verify the recoding worked with <code>count()</code>.</p>
<div class="sourceCode" id="cb2452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2452-1"><a href="experimental-design.html#cb2452-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Recode mcq365d with recode() &amp; examine with count()</span></span>
<span id="cb2452-2"><a href="experimental-design.html#cb2452-2" aria-hidden="true" tabindex="-1"></a>nhanes_final<span class="sc">$</span>mcq365d <span class="ot">&lt;-</span> <span class="fu">recode</span>(nhanes_final<span class="sc">$</span>mcq365d, </span>
<span id="cb2452-3"><a href="experimental-design.html#cb2452-3" aria-hidden="true" tabindex="-1"></a>                               <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb2452-4"><a href="experimental-design.html#cb2452-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb2452-5"><a href="experimental-design.html#cb2452-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">`</span><span class="at">9</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb2452-6"><a href="experimental-design.html#cb2452-6" aria-hidden="true" tabindex="-1"></a>nhanes_final <span class="sc">%&gt;%</span> <span class="fu">count</span>(mcq365d)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   mcq365d     n
##     &lt;dbl&gt; &lt;int&gt;
## 1       1  1802
## 2       2  4085</code></pre>
</div>
<div id="resampling" class="section level4 hasAnchor" number="18.3.1.4">
<h4><span class="header-section-number">18.3.1.4</span> Resampling<a href="experimental-design.html#resampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The NHANES data is collected on sampled units (people) specifically selected to represent the U.S. population. However, let’s resample the <code>nhanes_final</code> dataset in different ways so we get a feel for the different sampling methods.</p>
<div class="sourceCode" id="cb2454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2454-1"><a href="experimental-design.html#cb2454-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use slice_sample() to create nhanes_srs</span></span>
<span id="cb2454-2"><a href="experimental-design.html#cb2454-2" aria-hidden="true" tabindex="-1"></a>nhanes_srs <span class="ot">&lt;-</span> nhanes_final <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2500</span>)</span></code></pre></div>
<p>Stratify by <code>riagendr</code> and select 2000 of each gender. Confirm that it worked by using <code>count()</code> to examine <code>nhanes_stratified</code>’s gender variable.</p>
<div class="sourceCode" id="cb2455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2455-1"><a href="experimental-design.html#cb2455-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create nhanes_stratified with group_by() and slice_sample()</span></span>
<span id="cb2455-2"><a href="experimental-design.html#cb2455-2" aria-hidden="true" tabindex="-1"></a>nhanes_stratified <span class="ot">&lt;-</span> nhanes_final <span class="sc">%&gt;%</span> </span>
<span id="cb2455-3"><a href="experimental-design.html#cb2455-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(riagendr) <span class="sc">%&gt;%</span> </span>
<span id="cb2455-4"><a href="experimental-design.html#cb2455-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2000</span>)</span>
<span id="cb2455-5"><a href="experimental-design.html#cb2455-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2455-6"><a href="experimental-design.html#cb2455-6" aria-hidden="true" tabindex="-1"></a>nhanes_stratified <span class="sc">%&gt;%</span> <span class="fu">count</span>(riagendr)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
## # Groups:   riagendr [2]
##   riagendr     n
##      &lt;dbl&gt; &lt;int&gt;
## 1        1  2000
## 2        2  2000</code></pre>
<p>Use <code>cluster()</code> to divide <code>nhanes_final</code> by <code>"indhhin2"</code> into <code>6</code> clusters using the <code>"srswor"</code> method.</p>
<div class="sourceCode" id="cb2457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2457-1"><a href="experimental-design.html#cb2457-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load sampling package and create nhanes_cluster with cluster()</span></span>
<span id="cb2457-2"><a href="experimental-design.html#cb2457-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sampling)</span>
<span id="cb2457-3"><a href="experimental-design.html#cb2457-3" aria-hidden="true" tabindex="-1"></a>nhanes_cluster <span class="ot">&lt;-</span> <span class="fu">cluster</span>(nhanes_final, <span class="st">&quot;indhhin2&quot;</span>, <span class="dv">6</span>, <span class="at">method =</span> <span class="st">&quot;srswor&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="randomized-complete-block-designs-rcbd" class="section level3 hasAnchor" number="18.3.2">
<h3><span class="header-section-number">18.3.2</span> Randomized Complete Block Designs (RCBD)<a href="experimental-design.html#randomized-complete-block-designs-rcbd" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>RCBDs</strong></p>
<ul>
<li><p>Randomized: the treatment is assigned randomly inside each block</p></li>
<li><p>Complete: each treatment is used the same number of times in every block</p></li>
<li><p>Block: experimental groups are blocked to be similar (e.g. by sex)</p></li>
</ul>
<p>The purpose of blocking an experiment is to make the experimental groups more like one another. Groups are blocked by a variable that is known to introduce variability that will affect the outcome of the experiment but is not of interest to study in the experiment itself.</p>
<p>A rule of thumb in experimental design is often “block what you can, randomize what you cannot”, which means you should aim to block the effects you can control for (e.g. sex) and randomize on those you cannot (e.g. smoking status). Variability inside a block is expected to be fairly small, but variability between blocks will be larger.</p>
<div id="drawing-rcbds-with-agricolae" class="section level4 hasAnchor" number="18.3.2.1">
<h4><span class="header-section-number">18.3.2.1</span> Drawing RCBDs with Agricolae<a href="experimental-design.html#drawing-rcbds-with-agricolae" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>agricolae</code> package enables you to “draw” some of the different experimental designs.</p>
<div class="sourceCode" id="cb2458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2458-1"><a href="experimental-design.html#cb2458-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(agricolae)</span>
<span id="cb2458-2"><a href="experimental-design.html#cb2458-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2458-3"><a href="experimental-design.html#cb2458-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create designs using ls()</span></span>
<span id="cb2458-4"><a href="experimental-design.html#cb2458-4" aria-hidden="true" tabindex="-1"></a><span class="co"># see all possible designs that agricolae can draw</span></span>
<span id="cb2458-5"><a href="experimental-design.html#cb2458-5" aria-hidden="true" tabindex="-1"></a>designs <span class="ot">&lt;-</span> <span class="fu">ls</span>(<span class="st">&quot;package:agricolae&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot;design&quot;</span>)</span>
<span id="cb2458-6"><a href="experimental-design.html#cb2458-6" aria-hidden="true" tabindex="-1"></a>designs</span></code></pre></div>
<pre><code>##  [1] &quot;design.ab&quot;      &quot;design.alpha&quot;   &quot;design.bib&quot;     &quot;design.crd&quot;    
##  [5] &quot;design.cyclic&quot;  &quot;design.dau&quot;     &quot;design.graeco&quot;  &quot;design.lattice&quot;
##  [9] &quot;design.lsd&quot;     &quot;design.mat&quot;     &quot;design.rcbd&quot;    &quot;design.split&quot;  
## [13] &quot;design.strip&quot;   &quot;design.youden&quot;</code></pre>
<p>Let’s draw an RCBD design with 5 treatments and 4 blocks, which go in the <code>r</code> argument.</p>
<div class="sourceCode" id="cb2460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2460-1"><a href="experimental-design.html#cb2460-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use str() to view design.rcbd&#39;s criteria</span></span>
<span id="cb2460-2"><a href="experimental-design.html#cb2460-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(design.rcbd)</span></code></pre></div>
<pre><code>## function (trt, r, serie = 2, seed = 0, kinds = &quot;Super-Duper&quot;, first = TRUE, 
##     continue = FALSE, randomization = TRUE)</code></pre>
<div class="sourceCode" id="cb2462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2462-1"><a href="experimental-design.html#cb2462-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build treats and rep</span></span>
<span id="cb2462-2"><a href="experimental-design.html#cb2462-2" aria-hidden="true" tabindex="-1"></a>treats <span class="ot">&lt;-</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb2462-3"><a href="experimental-design.html#cb2462-3" aria-hidden="true" tabindex="-1"></a>blocks <span class="ot">&lt;-</span> <span class="dv">4</span>            <span class="co"># row</span></span>
<span id="cb2462-4"><a href="experimental-design.html#cb2462-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2462-5"><a href="experimental-design.html#cb2462-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Build my_design_rcbd and view the sketch</span></span>
<span id="cb2462-6"><a href="experimental-design.html#cb2462-6" aria-hidden="true" tabindex="-1"></a>my_design_rcbd <span class="ot">&lt;-</span> <span class="fu">design.rcbd</span>(treats, <span class="at">r =</span> blocks, <span class="at">seed =</span> <span class="dv">42</span>)</span>
<span id="cb2462-7"><a href="experimental-design.html#cb2462-7" aria-hidden="true" tabindex="-1"></a>my_design_rcbd<span class="sc">$</span>sketch</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,] &quot;D&quot;  &quot;A&quot;  &quot;C&quot;  &quot;B&quot;  &quot;E&quot; 
## [2,] &quot;E&quot;  &quot;A&quot;  &quot;C&quot;  &quot;D&quot;  &quot;B&quot; 
## [3,] &quot;D&quot;  &quot;B&quot;  &quot;E&quot;  &quot;A&quot;  &quot;C&quot; 
## [4,] &quot;B&quot;  &quot;D&quot;  &quot;E&quot;  &quot;C&quot;  &quot;A&quot;</code></pre>
</div>
<div id="nhanes-rcbd" class="section level4 hasAnchor" number="18.3.2.2">
<h4><span class="header-section-number">18.3.2.2</span> NHANES RCBD<a href="experimental-design.html#nhanes-rcbd" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Recall that our blocked experiment involved a treatment wherein the doctor asks the patient to reduce their fat or calories in their diet, and we’re testing the effect this has on weight (<code>bmxwt</code>).</p>
<p>Blocking this experiment by gender means that if we observe an effect of the treatment on <code>bmxwt</code>, it’s more likely that the effect was actually due to the treatment versus the individual’s gender.</p>
<p>In your R code, you denote a blocked experiment by using a formula that looks like: <code>outcome ~ treatment + blocking_factor</code></p>
<div class="sourceCode" id="cb2464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2464-1"><a href="experimental-design.html#cb2464-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use aov() to create nhanes_rcbd</span></span>
<span id="cb2464-2"><a href="experimental-design.html#cb2464-2" aria-hidden="true" tabindex="-1"></a>nhanes_rcbd <span class="ot">&lt;-</span> <span class="fu">aov</span>(bmxwt <span class="sc">~</span> mcq365d <span class="sc">+</span> riagendr, nhanes_final)</span>
<span id="cb2464-3"><a href="experimental-design.html#cb2464-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2464-4"><a href="experimental-design.html#cb2464-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results of nhanes_rcbd with summary()</span></span>
<span id="cb2464-5"><a href="experimental-design.html#cb2464-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(nhanes_rcbd)</span></code></pre></div>
<pre><code>##               Df  Sum Sq Mean Sq F value              Pr(&gt;F)    
## mcq365d        1  229164  229164     571 &lt;0.0000000000000002 ***
## riagendr       1  163069  163069     406 &lt;0.0000000000000002 ***
## Residuals   5884 2360774     401                                
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb2466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2466-1"><a href="experimental-design.html#cb2466-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print mean weights by mcq365d and riagendr</span></span>
<span id="cb2466-2"><a href="experimental-design.html#cb2466-2" aria-hidden="true" tabindex="-1"></a>nhanes_final <span class="sc">%&gt;%</span> </span>
<span id="cb2466-3"><a href="experimental-design.html#cb2466-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(mcq365d, riagendr) <span class="sc">%&gt;%</span> </span>
<span id="cb2466-4"><a href="experimental-design.html#cb2466-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_wt =</span> <span class="fu">mean</span>(bmxwt))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by
## &#39;mcq365d&#39;. You can override using the
## `.groups` argument.</code></pre>
<pre><code>## # A tibble: 4 × 3
## # Groups:   mcq365d [2]
##   mcq365d riagendr mean_wt
##     &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
## 1       1        1    95.2
## 2       1        2    86.6
## 3       2        1    82.7
## 4       2        2    71.3</code></pre>
<p>There truly is a mean difference in weight by gender, so blocking was a good call for this experiment. We also observed a statistically significant effect of the treatment on <code>bmxwt</code>.</p>
</div>
<div id="rcbd-model-validation" class="section level4 hasAnchor" number="18.3.2.3">
<h4><span class="header-section-number">18.3.2.3</span> RCBD Model Validation<a href="experimental-design.html#rcbd-model-validation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can also look at <em>Interaction plots</em>. We hope to see parallel lines, no matter which of the block or the treatment is on the x-axis. If they are, they satisfy a key assumption of the RCBD model called <em>Additivity</em>.</p>
<p>The initial diganostic plots show that this model is pretty good but not great - especially at the larger end of the data, the Q-Q plot shows the data might not be normal.</p>
<div class="sourceCode" id="cb2469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2469-1"><a href="experimental-design.html#cb2469-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the 2x2 plotting grid and plot nhanes_rcbd</span></span>
<span id="cb2469-2"><a href="experimental-design.html#cb2469-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb2469-3"><a href="experimental-design.html#cb2469-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(nhanes_rcbd)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-940-1.png" width="672" /></p>
<p>Interaction plot: <code>with(dataset, interaction.plot(x.factor, trace.factor, response))</code></p>
<div class="sourceCode" id="cb2470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2470-1"><a href="experimental-design.html#cb2470-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the code to view the interaction plots</span></span>
<span id="cb2470-2"><a href="experimental-design.html#cb2470-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(nhanes_final, <span class="fu">interaction.plot</span>(mcq365d, riagendr, bmxwt))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-941-1.png" width="672" /></p>
<div class="sourceCode" id="cb2471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2471-1"><a href="experimental-design.html#cb2471-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the code to view the interaction plots</span></span>
<span id="cb2471-2"><a href="experimental-design.html#cb2471-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(nhanes_final, <span class="fu">interaction.plot</span>(riagendr, mcq365d, bmxwt))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-942-1.png" width="672" /></p>
<p>The interaction plots show nearly parallel lines.</p>
</div>
</div>
<div id="balanced-incomplete-block-designs-bibd" class="section level3 hasAnchor" number="18.3.3">
<h3><span class="header-section-number">18.3.3</span> Balanced Incomplete Block Designs (BIBD)<a href="experimental-design.html#balanced-incomplete-block-designs-bibd" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Balanced Incomplete Block Designs</strong></p>
<ul>
<li><p>Balanced: each pair of treatments occur together in a block an equal number of times</p></li>
<li><p>Incomplete: not every treatment will appear in every block</p></li>
<li><p>Block: experimental groups are blocked to be similar (e.g. by sex)</p></li>
</ul>
<p><strong>Is there a BIBD?</strong></p>
<p>t = # of treatments k = # of treatments per block r = # replications</p>
<p><span class="math inline">\(λ = r × \frac{(k - 1)}{t - 1}\)</span></p>
<p>If λ is whole number, there is a BIBD. (整除才有辦法設計BIBD)</p>
<div class="sourceCode" id="cb2472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2472-1"><a href="experimental-design.html#cb2472-1" aria-hidden="true" tabindex="-1"></a><span class="co"># It takes as input t = number of treatments, k = number of treatments per block, and r = number of repetitions.</span></span>
<span id="cb2472-2"><a href="experimental-design.html#cb2472-2" aria-hidden="true" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="cf">function</span>(t, k, r){</span>
<span id="cb2472-3"><a href="experimental-design.html#cb2472-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>((r<span class="sc">*</span>(k<span class="dv">-1</span>)) <span class="sc">/</span> (t<span class="dv">-1</span>))</span>
<span id="cb2472-4"><a href="experimental-design.html#cb2472-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2472-5"><a href="experimental-design.html#cb2472-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2472-6"><a href="experimental-design.html#cb2472-6" aria-hidden="true" tabindex="-1"></a><span class="co"># there is BIBD</span></span>
<span id="cb2472-7"><a href="experimental-design.html#cb2472-7" aria-hidden="true" tabindex="-1"></a><span class="fu">lambda</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb2474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2474-1"><a href="experimental-design.html#cb2474-1" aria-hidden="true" tabindex="-1"></a><span class="co"># no BIBD</span></span>
<span id="cb2474-2"><a href="experimental-design.html#cb2474-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lambda</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">11</span>)</span></code></pre></div>
<pre><code>## [1] 16.5</code></pre>
<div id="drawing-bibds-with-agricolae" class="section level4 hasAnchor" number="18.3.3.1">
<h4><span class="header-section-number">18.3.3.1</span> Drawing BIBDs with agricolae<a href="experimental-design.html#drawing-bibds-with-agricolae" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can also use <code>agricolae</code> to draw BIBDs. <code>design.bib()</code> takes, at minimum, the treatments (<code>treats</code>), an integer <code>k</code> corresponding to the number of levels of the blocks, and a <code>seed</code> as inputs.</p>
<p>The main thing you should notice about a BIBD is that not every treatment will be used in each block (column) of the output.</p>
<p><code>design.bib()</code> will return an error message letting you know if a design is not valid.</p>
<div class="sourceCode" id="cb2476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2476-1"><a href="experimental-design.html#cb2476-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using A, B, and C for the treatments, 4 blocks</span></span>
<span id="cb2476-2"><a href="experimental-design.html#cb2476-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create my_design_bibd_1</span></span>
<span id="cb2476-3"><a href="experimental-design.html#cb2476-3" aria-hidden="true" tabindex="-1"></a>my_design_bibd_1 <span class="ot">&lt;-</span> <span class="fu">design.bib</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">k =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">42</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2477" style="color: black; background: white"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2477-1"><a href="experimental-design.html#cb2477-1" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> AlgDesign<span class="sc">::</span><span class="fu">optBlock</span>(<span class="sc">~</span>., <span class="at">withinData =</span> <span class="fu">factor</span>(<span class="dv">1</span><span class="sc">:</span>v), <span class="at">blocksizes =</span> <span class="fu">rep</span>(k, <span class="sc">:</span></span>
<span id="cb2477-2"><a href="experimental-design.html#cb2477-2" aria-hidden="true" tabindex="-1"></a>The number of trials must be at least as large as the minimum blocksize.</span></code></pre></div>
<div class="sourceCode" id="cb2478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2478-1"><a href="experimental-design.html#cb2478-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using LETTERS[1:8] for treatments, 3 blocks</span></span>
<span id="cb2478-2"><a href="experimental-design.html#cb2478-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create my_design_bibd_2</span></span>
<span id="cb2478-3"><a href="experimental-design.html#cb2478-3" aria-hidden="true" tabindex="-1"></a>my_design_bibd_2 <span class="ot">&lt;-</span> <span class="fu">design.bib</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">k =</span> <span class="dv">3</span>, <span class="at">seed =</span> <span class="dv">42</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2479" style="color: black; background: white"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2479-1"><a href="experimental-design.html#cb2479-1" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">rep</span>(k, b) <span class="sc">:</span> invalid <span class="st">&#39;times&#39;</span> argument</span></code></pre></div>
<div class="sourceCode" id="cb2480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2480-1"><a href="experimental-design.html#cb2480-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using A, B, C, and D as treatments, 4 blocks, and the same seed. Examine the sketch of the object.</span></span>
<span id="cb2480-2"><a href="experimental-design.html#cb2480-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create my_design_bibd_3</span></span>
<span id="cb2480-3"><a href="experimental-design.html#cb2480-3" aria-hidden="true" tabindex="-1"></a>my_design_bibd_3 <span class="ot">&lt;-</span> <span class="fu">design.bib</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="at">k =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">42</span>)</span></code></pre></div>
<pre><code>## 
## Parameters BIB
## ==============
## Lambda     : 2
## treatmeans : 4
## Block size : 4
## Blocks     : 2
## Replication: 2 
## 
## Efficiency factor 1 
## 
## &lt;&lt;&lt; Book &gt;&gt;&gt;</code></pre>
<div class="sourceCode" id="cb2482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2482-1"><a href="experimental-design.html#cb2482-1" aria-hidden="true" tabindex="-1"></a>my_design_bibd_3<span class="sc">$</span>sketch</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,] &quot;C&quot;  &quot;A&quot;  &quot;D&quot;  &quot;B&quot; 
## [2,] &quot;C&quot;  &quot;D&quot;  &quot;B&quot;  &quot;A&quot;</code></pre>
<p>The blocks are now the columns.</p>
</div>
<div id="bibd---cats-kidney-function" class="section level4 hasAnchor" number="18.3.3.2">
<h4><span class="header-section-number">18.3.3.2</span> BIBD - cat’s kidney function<a href="experimental-design.html#bibd---cats-kidney-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Say we want to test the difference between four different wet foods in cats’ diets on their kidney function.</p>
<p>Cat food, however, is expensive, so we’ll only test 3 foods per block to save some money.</p>
<p>The blocking factor is the color of cat, as we aren’t interested in that as part of our experiment.</p>
<p>The outcome will be measured blood creatinine level.</p>
<div class="sourceCode" id="cb2484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2484-1"><a href="experimental-design.html#cb2484-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make sure a BIBD is possible</span></span>
<span id="cb2484-2"><a href="experimental-design.html#cb2484-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate lambda</span></span>
<span id="cb2484-3"><a href="experimental-design.html#cb2484-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lambda</span>(<span class="at">t =</span> <span class="dv">4</span>, <span class="at">k =</span> <span class="dv">3</span>, <span class="at">r =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>You can see the order in which the food treatments are used in each block.</p>
<div class="sourceCode" id="cb2486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2486-1"><a href="experimental-design.html#cb2486-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the data.frame</span></span>
<span id="cb2486-2"><a href="experimental-design.html#cb2486-2" aria-hidden="true" tabindex="-1"></a>creatinine <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.98</span>, <span class="fl">1.97</span>, <span class="fl">2.35</span>, <span class="fl">2.09</span>, <span class="fl">1.87</span>, <span class="fl">1.95</span>, <span class="fl">2.08</span>, <span class="fl">2.01</span>, <span class="fl">1.84</span>, <span class="fl">2.06</span>, <span class="fl">1.97</span>, <span class="fl">2.22</span>)</span>
<span id="cb2486-3"><a href="experimental-design.html#cb2486-3" aria-hidden="true" tabindex="-1"></a>food <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;D&quot;</span>))</span>
<span id="cb2486-4"><a href="experimental-design.html#cb2486-4" aria-hidden="true" tabindex="-1"></a>color <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Black&quot;</span>, <span class="st">&quot;White&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Spotted&quot;</span>), <span class="at">each =</span> <span class="dv">3</span>))</span>
<span id="cb2486-5"><a href="experimental-design.html#cb2486-5" aria-hidden="true" tabindex="-1"></a>cat_experiment <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(creatinine, food, color))</span>
<span id="cb2486-6"><a href="experimental-design.html#cb2486-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2486-7"><a href="experimental-design.html#cb2486-7" aria-hidden="true" tabindex="-1"></a>cat_experiment</span></code></pre></div>
<pre><code>##    creatinine food color
## 1        1.98    1     1
## 2        1.97    3     1
## 3        2.35    4     1
## 4        2.09    1     4
## 5        1.87    2     4
## 6        1.95    3     4
## 7        2.08    2     2
## 8        2.01    3     2
## 9        1.84    4     2
## 10       2.06    1     3
## 11       1.97    2     3
## 12       2.22    4     3</code></pre>
<p>Does type of wet food make a difference on creatinine levels?</p>
<div class="sourceCode" id="cb2488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2488-1"><a href="experimental-design.html#cb2488-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create cat_model and examine with summary()</span></span>
<span id="cb2488-2"><a href="experimental-design.html#cb2488-2" aria-hidden="true" tabindex="-1"></a>cat_model <span class="ot">&lt;-</span> <span class="fu">aov</span>(creatinine <span class="sc">~</span> food <span class="sc">+</span> color, <span class="at">data =</span> cat_experiment)</span>
<span id="cb2488-3"><a href="experimental-design.html#cb2488-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cat_model)</span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## food         1  0.012 0.01204    0.53   0.49
## color        1  0.007 0.00697    0.31   0.59
## Residuals    9  0.205 0.02273</code></pre>
<p>It seems there are no differences by type of wet food in kidney function.</p>
</div>
<div id="nhanes-bibd" class="section level4 hasAnchor" number="18.3.3.3">
<h4><span class="header-section-number">18.3.3.3</span> NHANES BIBD<a href="experimental-design.html#nhanes-bibd" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s jump back into the NHANES data and pretend we have access to NHANES patients ages 18-45.</p>
<p>Blocking: by race, stored in NHANES as <code>ridreth1</code>.</p>
<p>Groups, <code>weightlift_treat</code>:</p>
<ul>
<li><p>either no particular upper body weightlifting regimen,</p></li>
<li><p>a weightlifting regimen,</p></li>
<li><p>a weightlifting regimen plus a prescribed daily vitamin supplement.</p></li>
</ul>
<p>Outcome: arm circumference, <code>bmxarmc</code>.</p>
<p>Those funding the study decide they want it to be a BIBD where only 2 treatments appear in each block.</p>
<div class="sourceCode" id="cb2490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2490-1"><a href="experimental-design.html#cb2490-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Does a BIBD exist?</span></span>
<span id="cb2490-2"><a href="experimental-design.html#cb2490-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate lambda</span></span>
<span id="cb2490-3"><a href="experimental-design.html#cb2490-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lambda</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb2492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2492-1"><a href="experimental-design.html#cb2492-1" aria-hidden="true" tabindex="-1"></a>nhanes_final <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/nhanes_final_add_weightlift_treat.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: One or more parsing issues, call `problems()`
## on your data frame for details, e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## Rows: 2452 Columns: 162
## ── Column specification ──────────────────────
## Delimiter: &quot;,&quot;
## dbl (129): seqn, sddsrvyr, ridstatr, riagendr, ridageyr, ridreth1, ridreth3,...
## lgl  (33): ridagemn, mcq149, mcq151, mcq230b, mcq230c, mcq230d, mcq240a, mcq...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb2495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2495-1"><a href="experimental-design.html#cb2495-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create weightlift_model &amp; examine results</span></span>
<span id="cb2495-2"><a href="experimental-design.html#cb2495-2" aria-hidden="true" tabindex="-1"></a>weightlift_model <span class="ot">&lt;-</span> <span class="fu">aov</span>(bmxarmc <span class="sc">~</span> weightlift_treat <span class="sc">+</span> ridreth1, nhanes_final)</span>
<span id="cb2495-3"><a href="experimental-design.html#cb2495-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(weightlift_model)</span></code></pre></div>
<pre><code>##                    Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## weightlift_treat    1      4       4    0.13     0.72    
## ridreth1            1    529     529   17.13 0.000036 ***
## Residuals        2334  72059      31                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 115 observations deleted due to missingness</code></pre>
<p>The weight lifting regimen doesn’t seem to have a significant effect on arm circumference when the patient population is blocked by race.</p>
</div>
</div>
</div>
<div id="squares-factorial-experiments" class="section level2 hasAnchor" number="18.4">
<h2><span class="header-section-number">18.4</span> Squares &amp; Factorial Experiments<a href="experimental-design.html#squares-factorial-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="latin-squares" class="section level3 hasAnchor" number="18.4.1">
<h3><span class="header-section-number">18.4.1</span> Latin squares<a href="experimental-design.html#latin-squares" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><em>Two blocking factors</em></p></li>
<li><p>All factors must have the same number of levels</p></li>
<li><p>Key assumption: the treatment and two blocking factors do not interact</p></li>
</ul>
<div id="nyc-sat-scores-eda" class="section level4 hasAnchor" number="18.4.1.1">
<h4><span class="header-section-number">18.4.1.1</span> NYC SAT Scores EDA<a href="experimental-design.html#nyc-sat-scores-eda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>nyc_scores</code> dataset includes:</p>
<ul>
<li><p>All accredited NYC high schools</p></li>
<li><p>SAT scores (Reading, Writing, and Math)</p></li>
<li><p>2014-2015 school year</p></li>
</ul>
<p>we’ll do experiments where we block by <code>Borough</code> and <code>Teacher_Education_Level</code>, so let’s examine math scores by those variables.</p>
<div class="sourceCode" id="cb2497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2497-1"><a href="experimental-design.html#cb2497-1" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/nyc_scores_Teacher_Education.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb2497-2"><a href="experimental-design.html#cb2497-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc_scores)</span></code></pre></div>
<pre><code>## Rows: 435
## Columns: 23
## $ School_ID                 &lt;chr&gt; &quot;02M260&quot;, &quot;06M211&quot;, &quot;01M539&quot;, &quot;02M294&quot;, &quot;02M…
## $ School_Name               &lt;chr&gt; &quot;Clinton School Writers and Artists&quot;, &quot;Inwoo…
## $ Borough                   &lt;chr&gt; &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manh…
## $ Building_Code             &lt;chr&gt; &quot;M933&quot;, &quot;M052&quot;, &quot;M022&quot;, &quot;M445&quot;, &quot;M445&quot;, &quot;M44…
## $ Street_Address            &lt;chr&gt; &quot;425 West 33rd Street&quot;, &quot;650 Academy Street&quot;…
## $ City                      &lt;chr&gt; &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manh…
## $ State                     &lt;chr&gt; &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;N…
## $ Zip_Code                  &lt;dbl&gt; 10001, 10002, 10002, 10002, 10002, 10002, 10…
## $ Latitude                  &lt;dbl&gt; 40.8, 40.9, 40.7, 40.7, 40.7, 40.7, 40.7, 40…
## $ Longitude                 &lt;dbl&gt; -74.0, -73.9, -74.0, -74.0, -74.0, -74.0, -7…
## $ Phone_Number              &lt;chr&gt; &quot;212-695-9114&quot;, &quot;718-935-3660  &quot;, &quot;212-677-5…
## $ Start_Time                &lt;time&gt;       NA, 08:30:00, 08:15:00, 08:00:00, 08:…
## $ End_Time                  &lt;time&gt;       NA, 15:00:00, 16:00:00, 14:45:00, 15:…
## $ Student_Enrollment        &lt;dbl&gt; NA, 87, 1735, 358, 383, 416, 255, 545, 329, …
## $ Percent_White             &lt;dbl&gt; NA, 0.03, 0.29, 0.12, 0.03, 0.02, 0.04, 0.45…
## $ Percent_Black             &lt;dbl&gt; NA, 0.22, 0.13, 0.39, 0.28, 0.03, 0.24, 0.17…
## $ Percent_Hispanic          &lt;dbl&gt; NA, 0.68, 0.18, 0.41, 0.57, 0.06, 0.57, 0.19…
## $ Percent_Asian             &lt;dbl&gt; NA, 0.05, 0.39, 0.06, 0.09, 0.89, 0.13, 0.17…
## $ Average_Score_SAT_Math    &lt;dbl&gt; NA, NA, 657, 395, 418, 613, 410, 634, 389, 4…
## $ Average_Score_SAT_Reading &lt;dbl&gt; NA, NA, 601, 411, 428, 453, 406, 641, 395, 4…
## $ Average_Score_SAT_Writing &lt;dbl&gt; NA, NA, 601, 387, 415, 463, 381, 639, 381, 3…
## $ Percent_Tested            &lt;dbl&gt; NA, NA, 0.91, 0.79, 0.65, 0.96, 0.60, 0.71, …
## $ Teacher_Education_Level   &lt;chr&gt; &quot;BA&quot;, &quot;BA&quot;, &quot;MA&quot;, &quot;BA&quot;, &quot;Grad Student&quot;, &quot;MA&quot;…</code></pre>
<div class="sourceCode" id="cb2499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2499-1"><a href="experimental-design.html#cb2499-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean, var, and median of Math score</span></span>
<span id="cb2499-2"><a href="experimental-design.html#cb2499-2" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="sc">%&gt;%</span></span>
<span id="cb2499-3"><a href="experimental-design.html#cb2499-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Borough) <span class="sc">%&gt;%</span> </span>
<span id="cb2499-4"><a href="experimental-design.html#cb2499-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2499-5"><a href="experimental-design.html#cb2499-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">var =</span> <span class="fu">var</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2499-6"><a href="experimental-design.html#cb2499-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">median =</span> <span class="fu">median</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   Borough        mean   var median
##   &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 Bronx          404. 2726.   396.
## 2 Brooklyn       416. 3658.   395 
## 3 Manhattan      456. 7026.   433 
## 4 Queens         462. 5168.   448 
## 5 Staten Island  486. 6911.   466.</code></pre>
<div class="sourceCode" id="cb2501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2501-1"><a href="experimental-design.html#cb2501-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean, var, and median of Math score by Teacher Education Level</span></span>
<span id="cb2501-2"><a href="experimental-design.html#cb2501-2" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="sc">%&gt;%</span></span>
<span id="cb2501-3"><a href="experimental-design.html#cb2501-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Teacher_Education_Level) <span class="sc">%&gt;%</span> </span>
<span id="cb2501-4"><a href="experimental-design.html#cb2501-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2501-5"><a href="experimental-design.html#cb2501-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">var =</span> <span class="fu">var</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2501-6"><a href="experimental-design.html#cb2501-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">median =</span> <span class="fu">median</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   Teacher_Education_Level  mean   var median
##   &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 BA                       425. 4061.   410.
## 2 College Student          430. 5361.   403 
## 3 Grad Student             428. 3567.   415 
## 4 MA                       440. 6476.   418 
## 5 PhD                      449. 6648.   418</code></pre>
<div class="sourceCode" id="cb2503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2503-1"><a href="experimental-design.html#cb2503-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean, var, and median of Math score by both</span></span>
<span id="cb2503-2"><a href="experimental-design.html#cb2503-2" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="sc">%&gt;%</span></span>
<span id="cb2503-3"><a href="experimental-design.html#cb2503-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Borough, Teacher_Education_Level) <span class="sc">%&gt;%</span> </span>
<span id="cb2503-4"><a href="experimental-design.html#cb2503-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2503-5"><a href="experimental-design.html#cb2503-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">var =</span> <span class="fu">var</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2503-6"><a href="experimental-design.html#cb2503-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">median =</span> <span class="fu">median</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by
## &#39;Borough&#39;. You can override using the
## `.groups` argument.</code></pre>
<pre><code>## # A tibble: 25 × 5
## # Groups:   Borough [5]
##    Borough  Teacher_Education_Level  mean   var median
##    &lt;chr&gt;    &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 Bronx    BA                       413. 1742.   407 
##  2 Bronx    College Student          400. 4984.   390 
##  3 Bronx    Grad Student             390.  684.   388.
##  4 Bronx    MA                       411. 3591.   400 
##  5 Bronx    PhD                      398.  297.   398 
##  6 Brooklyn BA                       406. 3589.   394.
##  7 Brooklyn College Student          430. 5370.   398.
##  8 Brooklyn Grad Student             422. 2754.   391 
##  9 Brooklyn MA                       402. 2470.   394.
## 10 Brooklyn PhD                      439. 3365.   450.
## # ℹ 15 more rows</code></pre>
</div>
<div id="dealing-with-missing" class="section level4 hasAnchor" number="18.4.1.2">
<h4><span class="header-section-number">18.4.1.2</span> Dealing with Missing<a href="experimental-design.html#dealing-with-missing" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If we want to use SAT scores as our outcome, we should examine missingness. Examine the pattern of missingness across all the variables in <code>nyc_scores</code> using <code>miss_var_summary()</code> from the <code>naniar</code> package.</p>
<div class="sourceCode" id="cb2506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2506-1"><a href="experimental-design.html#cb2506-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load naniar</span></span>
<span id="cb2506-2"><a href="experimental-design.html#cb2506-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span></code></pre></div>
<pre><code>## Warning: package &#39;naniar&#39; was built under R version 4.3.2</code></pre>
<pre><code>## 
## Attaching package: &#39;naniar&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:simputation&#39;:
## 
##     impute_median</code></pre>
<pre><code>## The following object is masked from &#39;package:assertive.base&#39;:
## 
##     is_na</code></pre>
<div class="sourceCode" id="cb2511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2511-1"><a href="experimental-design.html#cb2511-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine missingness with miss_var_summary()</span></span>
<span id="cb2511-2"><a href="experimental-design.html#cb2511-2" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="sc">%&gt;%</span> <span class="fu">miss_var_summary</span>()</span></code></pre></div>
<pre><code>## # A tibble: 23 × 3
##    variable                  n_miss pct_miss
##    &lt;chr&gt;                      &lt;int&gt;    &lt;dbl&gt;
##  1 Average_Score_SAT_Math        60   13.8  
##  2 Average_Score_SAT_Reading     60   13.8  
##  3 Average_Score_SAT_Writing     60   13.8  
##  4 Percent_Tested                49   11.3  
##  5 Student_Enrollment             7    1.61 
##  6 Percent_White                  7    1.61 
##  7 Percent_Black                  7    1.61 
##  8 Percent_Hispanic               7    1.61 
##  9 Percent_Asian                  7    1.61 
## 10 Start_Time                     4    0.920
## # ℹ 13 more rows</code></pre>
<p>There are 60 missing scores in each subject.</p>
<div class="sourceCode" id="cb2513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2513-1"><a href="experimental-design.html#cb2513-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Impute the Math score by Borough</span></span>
<span id="cb2513-2"><a href="experimental-design.html#cb2513-2" aria-hidden="true" tabindex="-1"></a>nyc_scores_2 <span class="ot">&lt;-</span> nyc_scores <span class="sc">%&gt;%</span> </span>
<span id="cb2513-3"><a href="experimental-design.html#cb2513-3" aria-hidden="true" tabindex="-1"></a>    simputation<span class="sc">::</span><span class="fu">impute_median</span>(Average_Score_SAT_Math <span class="sc">~</span> Borough)</span>
<span id="cb2513-4"><a href="experimental-design.html#cb2513-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2513-5"><a href="experimental-design.html#cb2513-5" aria-hidden="true" tabindex="-1"></a><span class="co"># note that impute_median() returns the imputed variable as type &quot;impute&quot;.</span></span>
<span id="cb2513-6"><a href="experimental-design.html#cb2513-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Math score to numeric</span></span>
<span id="cb2513-7"><a href="experimental-design.html#cb2513-7" aria-hidden="true" tabindex="-1"></a>nyc_scores_2<span class="sc">$</span>Average_Score_SAT_Math <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(nyc_scores_2<span class="sc">$</span>Average_Score_SAT_Math)</span></code></pre></div>
<div class="sourceCode" id="cb2514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2514-1"><a href="experimental-design.html#cb2514-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine scores by Borough in both datasets, before and after imputation</span></span>
<span id="cb2514-2"><a href="experimental-design.html#cb2514-2" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="sc">%&gt;%</span> </span>
<span id="cb2514-3"><a href="experimental-design.html#cb2514-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Borough) <span class="sc">%&gt;%</span> </span>
<span id="cb2514-4"><a href="experimental-design.html#cb2514-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">median =</span> <span class="fu">median</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb2514-5"><a href="experimental-design.html#cb2514-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">mean =</span> <span class="fu">mean</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   Borough       median  mean
##   &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;
## 1 Bronx           396.  404.
## 2 Brooklyn        395   416.
## 3 Manhattan       433   456.
## 4 Queens          448   462.
## 5 Staten Island   466.  486.</code></pre>
<div class="sourceCode" id="cb2516"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2516-1"><a href="experimental-design.html#cb2516-1" aria-hidden="true" tabindex="-1"></a>nyc_scores_2 <span class="sc">%&gt;%</span> </span>
<span id="cb2516-2"><a href="experimental-design.html#cb2516-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Borough) <span class="sc">%&gt;%</span> </span>
<span id="cb2516-3"><a href="experimental-design.html#cb2516-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">median =</span> <span class="fu">median</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb2516-4"><a href="experimental-design.html#cb2516-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">mean =</span> <span class="fu">mean</span>(Average_Score_SAT_Math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   Borough       median  mean
##   &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;
## 1 Bronx           396.  403.
## 2 Brooklyn        395   414.
## 3 Manhattan       433   452.
## 4 Queens          448   460.
## 5 Staten Island   466.  486.</code></pre>
</div>
<div id="drawing-latin-squares" class="section level4 hasAnchor" number="18.4.1.3">
<h4><span class="header-section-number">18.4.1.3</span> Drawing Latin Squares<a href="experimental-design.html#drawing-latin-squares" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Since a Latin Square experiment has two blocking factors, you can see that in this design, each treatment appears once in both each row (blocking factor 1) and each column (blocking factor 2).</p>
<div class="sourceCode" id="cb2518"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2518-1"><a href="experimental-design.html#cb2518-1" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>]</span>
<span id="cb2518-2"><a href="experimental-design.html#cb2518-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,] <span class="st">&quot;B&quot;</span>  <span class="st">&quot;D&quot;</span>  <span class="st">&quot;A&quot;</span>  <span class="st">&quot;C&quot;</span> </span>
<span id="cb2518-3"><a href="experimental-design.html#cb2518-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,] <span class="st">&quot;A&quot;</span>  <span class="st">&quot;C&quot;</span>  <span class="st">&quot;D&quot;</span>  <span class="st">&quot;B&quot;</span> </span>
<span id="cb2518-4"><a href="experimental-design.html#cb2518-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,] <span class="st">&quot;D&quot;</span>  <span class="st">&quot;B&quot;</span>  <span class="st">&quot;C&quot;</span>  <span class="st">&quot;A&quot;</span> </span>
<span id="cb2518-5"><a href="experimental-design.html#cb2518-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,] <span class="st">&quot;C&quot;</span>  <span class="st">&quot;A&quot;</span>  <span class="st">&quot;B&quot;</span>  <span class="st">&quot;D&quot;</span></span></code></pre></div>
<p>Create and view the sketch of a Latin Square design, using treatments A, B, C, D, &amp; E, and a seed of <code>42</code>.</p>
<div class="sourceCode" id="cb2519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2519-1"><a href="experimental-design.html#cb2519-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Design a LS with 5 treatments A:E then look at the sketch</span></span>
<span id="cb2519-2"><a href="experimental-design.html#cb2519-2" aria-hidden="true" tabindex="-1"></a>my_design_lsd <span class="ot">&lt;-</span> <span class="fu">design.lsd</span>(<span class="at">trt =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">seed =</span> <span class="dv">42</span>)</span>
<span id="cb2519-3"><a href="experimental-design.html#cb2519-3" aria-hidden="true" tabindex="-1"></a>my_design_lsd<span class="sc">$</span>sketch</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,] &quot;E&quot;  &quot;D&quot;  &quot;A&quot;  &quot;C&quot;  &quot;B&quot; 
## [2,] &quot;D&quot;  &quot;C&quot;  &quot;E&quot;  &quot;B&quot;  &quot;A&quot; 
## [3,] &quot;A&quot;  &quot;E&quot;  &quot;B&quot;  &quot;D&quot;  &quot;C&quot; 
## [4,] &quot;C&quot;  &quot;B&quot;  &quot;D&quot;  &quot;A&quot;  &quot;E&quot; 
## [5,] &quot;B&quot;  &quot;A&quot;  &quot;C&quot;  &quot;E&quot;  &quot;D&quot;</code></pre>
</div>
<div id="latin-square-with-nyc-sat-scores" class="section level4 hasAnchor" number="18.4.1.4">
<h4><span class="header-section-number">18.4.1.4</span> Latin Square with NYC SAT Scores<a href="experimental-design.html#latin-square-with-nyc-sat-scores" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To execute a Latin Square design on this data, suppose we want to know the effect of our tutoring program, which includes one-on-one tutoring, two small groups, and an in and after-school SAT prep class.</p>
<p>A new dataset <code>nyc_scores_ls</code> is available that represents this experiment.</p>
<div class="sourceCode" id="cb2521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2521-1"><a href="experimental-design.html#cb2521-1" aria-hidden="true" tabindex="-1"></a>nyc_scores_ls <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/nyc_scores_ls.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb2521-2"><a href="experimental-design.html#cb2521-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc_scores_ls)</span></code></pre></div>
<pre><code>## Rows: 25
## Columns: 24
## $ School_ID                 &lt;chr&gt; &quot;12X682&quot;, &quot;09X505&quot;, &quot;12X251&quot;, &quot;08X519&quot;, &quot;11X…
## $ School_Name               &lt;chr&gt; &quot;Fannie Lou Hamer Freedom High School&quot;, &quot;Bro…
## $ Borough                   &lt;chr&gt; &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;,…
## $ Building_Code             &lt;chr&gt; &quot;X878&quot;, &quot;X460&quot;, &quot;X098&quot;, &quot;X972&quot;, &quot;X415&quot;, &quot;K26…
## $ Street_Address            &lt;chr&gt; &quot;1021 Jennings Street&quot;, &quot;244 East 163rd Stre…
## $ City                      &lt;chr&gt; &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;,…
## $ State                     &lt;chr&gt; &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;N…
## $ Zip_Code                  &lt;dbl&gt; 10460, 10451, 10460, 10473, 10469, 11205, 11…
## $ Latitude                  &lt;dbl&gt; 40.8, 40.8, 40.8, 40.8, 40.9, 40.7, 40.7, 40…
## $ Longitude                 &lt;dbl&gt; -73.9, -73.9, -73.9, -73.9, -73.9, -74.0, -7…
## $ Phone_Number              &lt;chr&gt; &quot;718-861-0521&quot;, &quot;718-410-3430&quot;, &quot;718-893-617…
## $ Start_Time                &lt;time&gt; 08:45:00, 08:15:00, 08:00:00, 08:00:00, 08:…
## $ End_Time                  &lt;time&gt; 14:45:00, 15:00:00, 15:30:00, 14:19:00, 15:…
## $ Student_Enrollment        &lt;dbl&gt; 470, 778, 358, 307, 427, 421, 174, 496, 245,…
## $ Percent_White             &lt;dbl&gt; 0.00, 0.01, 0.02, 0.03, 0.09, 0.01, 0.28, 0.…
## $ Percent_Black             &lt;dbl&gt; 0.29, 0.23, 0.27, 0.25, 0.29, 0.73, 0.48, 0.…
## $ Percent_Hispanic          &lt;dbl&gt; 0.70, 0.72, 0.70, 0.68, 0.57, 0.23, 0.06, 0.…
## $ Percent_Asian             &lt;dbl&gt; 0.00, 0.02, 0.01, 0.02, 0.03, 0.01, 0.16, 0.…
## $ Average_Score_SAT_Math    &lt;dbl&gt; 345, 403, 377, 389, 418, 332, 395, 428, 344,…
## $ Average_Score_SAT_Reading &lt;dbl&gt; 347, 409, 372, 408, 432, 346, NA, 413, 380, …
## $ Average_Score_SAT_Writing &lt;dbl&gt; 339, 415, 365, 413, 436, 350, NA, 417, 379, …
## $ Percent_Tested            &lt;dbl&gt; 0.75, 0.64, 0.43, 0.31, 0.73, 0.55, NA, 0.84…
## $ Teacher_Education_Level   &lt;chr&gt; &quot;College Student&quot;, &quot;BA&quot;, &quot;Grad Student&quot;, &quot;MA…
## $ Tutoring_Program          &lt;chr&gt; &quot;One-on-One&quot;, &quot;Small Groups (2-3)&quot;, &quot;Small G…</code></pre>
<p>We’ll block by <code>Borough</code> and <code>Teacher_Education_Level</code> to reduce their known variance on the score outcome.</p>
<div class="sourceCode" id="cb2523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2523-1"><a href="experimental-design.html#cb2523-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build nyc_scores_ls_lm</span></span>
<span id="cb2523-2"><a href="experimental-design.html#cb2523-2" aria-hidden="true" tabindex="-1"></a>nyc_scores_ls_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Average_Score_SAT_Math <span class="sc">~</span> Tutoring_Program <span class="sc">+</span> Borough <span class="sc">+</span> Teacher_Education_Level,</span>
<span id="cb2523-3"><a href="experimental-design.html#cb2523-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> nyc_scores_ls)</span>
<span id="cb2523-4"><a href="experimental-design.html#cb2523-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2523-5"><a href="experimental-design.html#cb2523-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy the results with broom</span></span>
<span id="cb2523-6"><a href="experimental-design.html#cb2523-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(nyc_scores_ls_lm)</span></code></pre></div>
<pre><code>## # A tibble: 13 × 5
##    term                                     estimate std.error statistic p.value
##    &lt;chr&gt;                                       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 (Intercept)                                373.        35.5    10.5   2.07e-7
##  2 Tutoring_ProgramSAT Prep Class (after s…    16.2       31.1     0.520 6.12e-1
##  3 Tutoring_ProgramSAT Prep Class (school …     6.8       31.1     0.218 8.31e-1
##  4 Tutoring_ProgramSmall Groups (2-3)          12.4       31.1     0.398 6.97e-1
##  5 Tutoring_ProgramSmall Groups (4-6)          15.6       31.1     0.501 6.25e-1
##  6 BoroughBrooklyn                             -5.00      31.1    -0.161 8.75e-1
##  7 BoroughManhattan                            19.8       31.1     0.636 5.37e-1
##  8 BoroughQueens                               88.6       31.1     2.85  1.47e-2
##  9 BoroughStaten Island                        64.6       31.1     2.08  6.01e-2
## 10 Teacher_Education_LevelCollege Student     -18.8       31.1    -0.604 5.57e-1
## 11 Teacher_Education_LevelGrad Student         10.8       31.1     0.347 7.35e-1
## 12 Teacher_Education_LevelMA                   12.6       31.1     0.405 6.93e-1
## 13 Teacher_Education_LevelPhD                  10.4       31.1     0.334 7.44e-1</code></pre>
<div class="sourceCode" id="cb2525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2525-1"><a href="experimental-design.html#cb2525-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the results with anova</span></span>
<span id="cb2525-2"><a href="experimental-design.html#cb2525-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(nyc_scores_ls_lm)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: Average_Score_SAT_Math
##                         Df Sum Sq Mean Sq F value Pr(&gt;F)  
## Tutoring_Program         4    928     232    0.10  0.982  
## Borough                  4  33977    8494    3.51  0.041 *
## Teacher_Education_Level  4   3460     865    0.36  0.834  
## Residuals               12  29063    2422                 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>It seems that when we block for <code>Borough</code> of the school and <code>Teacher_Education_Level</code>, our <code>Tutoring_Program</code> isn’t having a statistically significant effect on the Math SAT score.</p>
</div>
</div>
<div id="graeco-latin-squares" class="section level3 hasAnchor" number="18.4.2">
<h3><span class="header-section-number">18.4.2</span> Graeco-Latin squares<a href="experimental-design.html#graeco-latin-squares" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Graeco-Latin squares</strong></p>
<ul>
<li><p><em>Three blocking factors</em></p></li>
<li><p>All factors must have the same number of levels</p></li>
<li><p>Key assumption: the treatment and three blocking factors do not interact</p></li>
</ul>
<div id="nyc-sat-scores-data-viz" class="section level4 hasAnchor" number="18.4.2.1">
<h4><span class="header-section-number">18.4.2.1</span> NYC SAT Scores Data Viz<a href="experimental-design.html#nyc-sat-scores-data-viz" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Create and examine the requested boxplot. How do the medians differ by Borough? How many outliers are present, and where are they mostly present?</p>
<div class="sourceCode" id="cb2527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2527-1"><a href="experimental-design.html#cb2527-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a boxplot of Math scores by Borough, with a title and x/y axis labels</span></span>
<span id="cb2527-2"><a href="experimental-design.html#cb2527-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nyc_scores, <span class="fu">aes</span>(<span class="at">x =</span> Borough, <span class="at">y =</span> Average_Score_SAT_Math)) <span class="sc">+</span></span>
<span id="cb2527-3"><a href="experimental-design.html#cb2527-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb2527-4"><a href="experimental-design.html#cb2527-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Average SAT Math Scores by Borough, NYC&quot;</span>,</span>
<span id="cb2527-5"><a href="experimental-design.html#cb2527-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">&quot;Borough (NYC)&quot;</span>,</span>
<span id="cb2527-6"><a href="experimental-design.html#cb2527-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">ylab =</span> <span class="st">&quot;Average SAT Math Scores (2014-15)&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 60 rows containing non-finite values
## (`stat_boxplot()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-960-1.png" width="672" /></p>
</div>
<div id="drawing-graeco-latin-squares" class="section level4 hasAnchor" number="18.4.2.2">
<h4><span class="header-section-number">18.4.2.2</span> Drawing Graeco-Latin Squares<a href="experimental-design.html#drawing-graeco-latin-squares" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One difference in the input to <code>design.graeco()</code> that we haven’t seen before is that we’ll need to input 2 vectors, <code>trt1</code> and <code>trt2</code>, which must be of equal length.</p>
<p>You can think of <code>trt1</code> as your actual treatment; <code>trt2</code> as one of your blocking factors.</p>
<div class="sourceCode" id="cb2529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2529-1"><a href="experimental-design.html#cb2529-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create trt1 and trt2</span></span>
<span id="cb2529-2"><a href="experimental-design.html#cb2529-2" aria-hidden="true" tabindex="-1"></a>trt1 <span class="ot">&lt;-</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb2529-3"><a href="experimental-design.html#cb2529-3" aria-hidden="true" tabindex="-1"></a>trt2 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb2529-4"><a href="experimental-design.html#cb2529-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2529-5"><a href="experimental-design.html#cb2529-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create my_graeco_design</span></span>
<span id="cb2529-6"><a href="experimental-design.html#cb2529-6" aria-hidden="true" tabindex="-1"></a>my_graeco_design <span class="ot">&lt;-</span> <span class="fu">design.graeco</span>(trt1, trt2, <span class="at">seed =</span> <span class="dv">42</span>)</span>
<span id="cb2529-7"><a href="experimental-design.html#cb2529-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2529-8"><a href="experimental-design.html#cb2529-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the parameters and sketch</span></span>
<span id="cb2529-9"><a href="experimental-design.html#cb2529-9" aria-hidden="true" tabindex="-1"></a>my_graeco_design<span class="sc">$</span>sketch</span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3]  [,4]  [,5] 
## [1,] &quot;D 5&quot; &quot;A 1&quot; &quot;C 3&quot; &quot;B 4&quot; &quot;E 2&quot;
## [2,] &quot;A 3&quot; &quot;C 4&quot; &quot;B 2&quot; &quot;E 5&quot; &quot;D 1&quot;
## [3,] &quot;C 2&quot; &quot;B 5&quot; &quot;E 1&quot; &quot;D 3&quot; &quot;A 4&quot;
## [4,] &quot;B 1&quot; &quot;E 3&quot; &quot;D 4&quot; &quot;A 2&quot; &quot;C 5&quot;
## [5,] &quot;E 4&quot; &quot;D 2&quot; &quot;A 5&quot; &quot;C 1&quot; &quot;B 3&quot;</code></pre>
<div class="sourceCode" id="cb2531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2531-1"><a href="experimental-design.html#cb2531-1" aria-hidden="true" tabindex="-1"></a>my_graeco_design<span class="sc">$</span>parameters</span></code></pre></div>
<pre><code>## $design
## [1] &quot;graeco&quot;
## 
## $trt1
## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;
## 
## $trt2
## [1] 1 2 3 4 5
## 
## $r
## [1] 5
## 
## $serie
## [1] 2
## 
## $seed
## [1] 42
## 
## $kinds
## [1] &quot;Super-Duper&quot;
## 
## [[8]]
## [1] TRUE</code></pre>
<p>You can see that this time the sketch object includes your treatment (the capital letter) and a blocking factor (the number.)</p>
</div>
<div id="graeco-latin-square-with-nyc-sat-scores" class="section level4 hasAnchor" number="18.4.2.3">
<h4><span class="header-section-number">18.4.2.3</span> Graeco-Latin Square with NYC SAT Scores<a href="experimental-design.html#graeco-latin-square-with-nyc-sat-scores" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Recall that our Latin Square exercise in this chapter tested the effect of our tutoring program, blocked by <code>Borough</code> and <code>Teacher_Education_Level</code>.</p>
<p>For our Graeco-Latin Square, say we also want to block out the known effect of <code>Homework_Type</code>, which indicates what kind of homework the student was given: individual only, small or large group homework, or some combination.</p>
<p>We can add this as another blocking factor to create a Graeco-Latin Square experiment.</p>
<div class="sourceCode" id="cb2533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2533-1"><a href="experimental-design.html#cb2533-1" aria-hidden="true" tabindex="-1"></a>nyc_scores_gls <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/nyc_scores_gls.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb2533-2"><a href="experimental-design.html#cb2533-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc_scores_gls)</span></code></pre></div>
<pre><code>## Rows: 25
## Columns: 25
## $ School_ID                 &lt;chr&gt; &quot;11X290&quot;, &quot;12X692&quot;, &quot;07X334&quot;, &quot;08X561&quot;, &quot;10X…
## $ School_Name               &lt;chr&gt; &quot;Bronx Academy of Health Careers&quot;, &quot;Monroe A…
## $ Borough                   &lt;chr&gt; &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;,…
## $ Building_Code             &lt;chr&gt; &quot;X425&quot;, &quot;X420&quot;, &quot;X139&quot;, &quot;X450&quot;, &quot;X430&quot;, &quot;K42…
## $ Street_Address            &lt;chr&gt; &quot;800 East Gun Hill Road&quot;, &quot;1300 Boynton Aven…
## $ City                      &lt;chr&gt; &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;, &quot;Bronx&quot;,…
## $ State                     &lt;chr&gt; &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;N…
## $ Zip_Code                  &lt;dbl&gt; 10467, 10472, 10454, 10473, 10468, 11208, 11…
## $ Latitude                  &lt;dbl&gt; 40.9, 40.8, 40.8, 40.8, 40.9, 40.7, 40.7, 40…
## $ Longitude                 &lt;dbl&gt; -73.9, -73.9, -73.9, -73.9, -73.9, -73.9, -7…
## $ Phone_Number              &lt;chr&gt; &quot;718-696-3340&quot;, &quot;718-860-8160&quot;, &quot;718-665-412…
## $ Start_Time                &lt;time&gt; 08:25:00, 08:30:00, 09:00:00, 08:30:00, 08:…
## $ End_Time                  &lt;time&gt; 15:15:00, 15:00:00, 16:00:00, 15:15:00, 15:…
## $ Student_Enrollment        &lt;dbl&gt; 465, 445, 463, 332, 530, 413, 284, 648, 514,…
## $ Percent_White             &lt;dbl&gt; 0.02, 0.01, 0.01, 0.01, 0.02, 0.01, 0.01, 0.…
## $ Percent_Black             &lt;dbl&gt; 0.45, 0.18, 0.14, 0.35, 0.17, 0.46, 0.76, 0.…
## $ Percent_Hispanic          &lt;dbl&gt; 0.47, 0.78, 0.77, 0.60, 0.77, 0.46, 0.19, 0.…
## $ Percent_Asian             &lt;dbl&gt; 0.05, 0.01, 0.07, 0.02, 0.03, 0.05, 0.03, 0.…
## $ Average_Score_SAT_Math    &lt;dbl&gt; 386, 361, 345, 396, 432, 395, 380, 399, 389,…
## $ Average_Score_SAT_Reading &lt;dbl&gt; 380, 354, 338, NA, 396, 376, 389, 392, 374, …
## $ Average_Score_SAT_Writing &lt;dbl&gt; 391, 351, 312, NA, 395, 359, 384, 394, 378, …
## $ Percent_Tested            &lt;dbl&gt; 0.59, 0.47, 0.58, NA, 0.40, 0.57, 0.41, 0.36…
## $ Teacher_Education_Level   &lt;chr&gt; &quot;College Student&quot;, &quot;BA&quot;, &quot;Grad Student&quot;, &quot;MA…
## $ Tutoring_Program          &lt;chr&gt; &quot;SAT Prep Class (school hours)&quot;, &quot;SAT Prep C…
## $ Homework_Type             &lt;chr&gt; &quot;Small Group&quot;, &quot;Large Group&quot;, &quot;Individual&quot;, …</code></pre>
<div class="sourceCode" id="cb2535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2535-1"><a href="experimental-design.html#cb2535-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build nyc_scores_gls_lm</span></span>
<span id="cb2535-2"><a href="experimental-design.html#cb2535-2" aria-hidden="true" tabindex="-1"></a>nyc_scores_gls_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Average_Score_SAT_Math <span class="sc">~</span> Tutoring_Program <span class="sc">+</span> Borough <span class="sc">+</span> Teacher_Education_Level <span class="sc">+</span> Homework_Type,</span>
<span id="cb2535-3"><a href="experimental-design.html#cb2535-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> nyc_scores_gls)</span>
<span id="cb2535-4"><a href="experimental-design.html#cb2535-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2535-5"><a href="experimental-design.html#cb2535-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy the results with broom</span></span>
<span id="cb2535-6"><a href="experimental-design.html#cb2535-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(nyc_scores_gls_lm)</span></code></pre></div>
<pre><code>## # A tibble: 17 × 5
##    term                                     estimate std.error statistic p.value
##    &lt;chr&gt;                                       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 (Intercept)                                351.        44.9    7.81   5.19e-5
##  2 Tutoring_ProgramSAT Prep Class (after s…    42.0       34.5    1.22   2.58e-1
##  3 Tutoring_ProgramSAT Prep Class (school …    45.8       34.5    1.33   2.20e-1
##  4 Tutoring_ProgramSmall Groups (2-3)          62.4       34.5    1.81   1.08e-1
##  5 Tutoring_ProgramSmall Groups (4-6)          51.1       34.5    1.48   1.76e-1
##  6 BoroughBrooklyn                              2.70      34.5    0.0783 9.39e-1
##  7 BoroughManhattan                           110.        34.5    3.19   1.28e-2
##  8 BoroughQueens                               56.9       34.5    1.65   1.37e-1
##  9 BoroughStaten Island                        88.3       34.5    2.56   3.35e-2
## 10 Teacher_Education_LevelCollege Student     -35.4       34.5   -1.03   3.34e-1
## 11 Teacher_Education_LevelGrad Student          8.60      34.5    0.250  8.09e-1
## 12 Teacher_Education_LevelMA                   19.1       34.5    0.554  5.95e-1
## 13 Teacher_Education_LevelPhD                  -3.00      34.5   -0.0871 9.33e-1
## 14 Homework_TypeLarge Group                    -2.00      34.5   -0.0580 9.55e-1
## 15 Homework_TypeMix of Large Group/Individ…   -23.5       34.5   -0.682  5.15e-1
## 16 Homework_TypeMix of Small Group/Individ…    -9.80      34.5   -0.284  7.83e-1
## 17 Homework_TypeSmall Group                     9.60      34.5    0.279  7.88e-1</code></pre>
<div class="sourceCode" id="cb2537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2537-1"><a href="experimental-design.html#cb2537-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the results with anova</span></span>
<span id="cb2537-2"><a href="experimental-design.html#cb2537-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(nyc_scores_gls_lm)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: Average_Score_SAT_Math
##                         Df Sum Sq Mean Sq F value Pr(&gt;F)  
## Tutoring_Program         4  11311    2828    0.95  0.482  
## Borough                  4  49138   12285    4.14  0.042 *
## Teacher_Education_Level  4   8390    2098    0.71  0.610  
## Homework_Type            4   3062     765    0.26  0.897  
## Residuals                8  23753    2969                 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>When blocked out by all the other factors, our Tutoring program has no effect on the Math score.</p>
</div>
</div>
<div id="factorial-experiments" class="section level3 hasAnchor" number="18.4.3">
<h3><span class="header-section-number">18.4.3</span> Factorial experiments<a href="experimental-design.html#factorial-experiments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Factorial designs</strong></p>
<ul>
<li><p>2 or more factor variables are combined and crossed.</p></li>
<li><p>All of the possible interactions between levels of factors are considered as effects on the outcome.</p></li>
</ul>
<p><strong>2^k factorial experiments</strong></p>
<ul>
<li><p>2^k factorial experiments involve k factor variables with 2 levels</p></li>
<li><p>It results in 2^k number of combinations of effects to test</p></li>
<li><p>Analyzed with a linear model and ANOVA</p></li>
<li><p>Also use <code>TukeyHSD()</code> to determine which combinations are significantly different</p></li>
</ul>
<div id="factorial-eda" class="section level4 hasAnchor" number="18.4.3.1">
<h4><span class="header-section-number">18.4.3.1</span> Factorial EDA<a href="experimental-design.html#factorial-eda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s test the effect of <code>Percent_Black_HL</code>, <code>Percent_Tested_HL</code>, and <code>Tutoring_Program</code> on the outcome, <code>Average_Score_SAT_Math</code>.</p>
<p>The <code>HL</code> stands for high-low, where a <code>1</code> indicates respectively that less than 50% of Black students or that less than 50% of all students in an entire school were tested, and a <code>2</code> indicates that greater than 50% of either were tested.</p>
<div class="sourceCode" id="cb2539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2539-1"><a href="experimental-design.html#cb2539-1" aria-hidden="true" tabindex="-1"></a>nyc_scores <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/nyc_scores_factorial.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb2539-2"><a href="experimental-design.html#cb2539-2" aria-hidden="true" tabindex="-1"></a>nyc_scores<span class="sc">$</span>Percent_Tested_HL <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(nyc_scores<span class="sc">$</span>Percent_Tested_HL)</span>
<span id="cb2539-3"><a href="experimental-design.html#cb2539-3" aria-hidden="true" tabindex="-1"></a>nyc_scores<span class="sc">$</span>Percent_Black_HL <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(nyc_scores<span class="sc">$</span>Percent_Black_HL)</span>
<span id="cb2539-4"><a href="experimental-design.html#cb2539-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc_scores)</span></code></pre></div>
<pre><code>## Rows: 435
## Columns: 25
## $ School_ID                 &lt;chr&gt; &quot;02M260&quot;, &quot;06M211&quot;, &quot;01M539&quot;, &quot;02M294&quot;, &quot;02M…
## $ School_Name               &lt;chr&gt; &quot;Clinton School Writers and Artists&quot;, &quot;Inwoo…
## $ Borough                   &lt;chr&gt; &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manh…
## $ Building_Code             &lt;chr&gt; &quot;M933&quot;, &quot;M052&quot;, &quot;M022&quot;, &quot;M445&quot;, &quot;M445&quot;, &quot;M44…
## $ Street_Address            &lt;chr&gt; &quot;425 West 33rd Street&quot;, &quot;650 Academy Street&quot;…
## $ City                      &lt;chr&gt; &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manhattan&quot;, &quot;Manh…
## $ State                     &lt;chr&gt; &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;NY&quot;, &quot;N…
## $ Zip_Code                  &lt;dbl&gt; 10001, 10002, 10002, 10002, 10002, 10002, 10…
## $ Latitude                  &lt;dbl&gt; 40.8, 40.9, 40.7, 40.7, 40.7, 40.7, 40.7, 40…
## $ Longitude                 &lt;dbl&gt; -74.0, -73.9, -74.0, -74.0, -74.0, -74.0, -7…
## $ Phone_Number              &lt;chr&gt; &quot;212-695-9114&quot;, &quot;718-935-3660  &quot;, &quot;212-677-5…
## $ Start_Time                &lt;time&gt;       NA, 08:30:00, 08:15:00, 08:00:00, 08:…
## $ End_Time                  &lt;time&gt;       NA, 15:00:00, 16:00:00, 14:45:00, 15:…
## $ Student_Enrollment        &lt;dbl&gt; NA, 87, 1735, 358, 383, 416, 255, 545, 329, …
## $ Percent_White             &lt;dbl&gt; NA, 0.03, 0.29, 0.12, 0.03, 0.02, 0.04, 0.45…
## $ Percent_Black             &lt;dbl&gt; 0.50, 0.22, 0.13, 0.39, 0.28, 0.03, 0.24, 0.…
## $ Percent_Hispanic          &lt;dbl&gt; NA, 0.68, 0.18, 0.41, 0.57, 0.06, 0.57, 0.19…
## $ Percent_Asian             &lt;dbl&gt; NA, 0.05, 0.39, 0.06, 0.09, 0.89, 0.13, 0.17…
## $ Average_Score_SAT_Math    &lt;dbl&gt; 433, 433, 657, 395, 418, 613, 410, 634, 389,…
## $ Average_Score_SAT_Reading &lt;dbl&gt; NA, NA, 601, 411, 428, 453, 406, 641, 395, 4…
## $ Average_Score_SAT_Writing &lt;dbl&gt; NA, NA, 601, 387, 415, 463, 381, 639, 381, 3…
## $ Percent_Tested            &lt;dbl&gt; 0.50, 0.50, 0.91, 0.79, 0.65, 0.96, 0.60, 0.…
## $ Percent_Tested_HL         &lt;fct&gt; 1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2,…
## $ Percent_Black_HL          &lt;fct&gt; 2, 1, 1, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1,…
## $ Tutoring_Program          &lt;chr&gt; &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;…</code></pre>
<p>Build a boxplot of each factor vs. the outcome to have an idea of which have a difference in median by factor level.</p>
<div class="sourceCode" id="cb2541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2541-1"><a href="experimental-design.html#cb2541-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the boxplot for the tutoring program vs. Math SAT score</span></span>
<span id="cb2541-2"><a href="experimental-design.html#cb2541-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nyc_scores,</span>
<span id="cb2541-3"><a href="experimental-design.html#cb2541-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(Tutoring_Program, Average_Score_SAT_Math)) <span class="sc">+</span> </span>
<span id="cb2541-4"><a href="experimental-design.html#cb2541-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-965-1.png" width="672" /></p>
<div class="sourceCode" id="cb2542"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2542-1"><a href="experimental-design.html#cb2542-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the boxplot for the percent black vs. Math SAT score</span></span>
<span id="cb2542-2"><a href="experimental-design.html#cb2542-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nyc_scores,</span>
<span id="cb2542-3"><a href="experimental-design.html#cb2542-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(Percent_Black_HL, Average_Score_SAT_Math)) <span class="sc">+</span> </span>
<span id="cb2542-4"><a href="experimental-design.html#cb2542-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-966-1.png" width="672" /></p>
<div class="sourceCode" id="cb2543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2543-1"><a href="experimental-design.html#cb2543-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the boxplot for percent tested vs. Math SAT score</span></span>
<span id="cb2543-2"><a href="experimental-design.html#cb2543-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nyc_scores,</span>
<span id="cb2543-3"><a href="experimental-design.html#cb2543-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(Percent_Tested_HL, Average_Score_SAT_Math)) <span class="sc">+</span> </span>
<span id="cb2543-4"><a href="experimental-design.html#cb2543-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-967-1.png" width="672" /></p>
</div>
<div id="factorial-experiment-with-nyc-sat-scores" class="section level4 hasAnchor" number="18.4.3.2">
<h4><span class="header-section-number">18.4.3.2</span> Factorial Experiment with NYC SAT Scores<a href="experimental-design.html#factorial-experiment-with-nyc-sat-scores" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now we want to examine the effect of tutoring programs on the NYC schools’ SAT Math score. As noted in the last exercise: the variable <code>Tutoring_Program</code> is simply <code>yes</code> or <code>no</code>, depending on if a school got a tutoring program implemented. For <code>Percent_Black_HL</code> and <code>Percent_Tested_HL</code>, <code>HL</code> stands for high/low. A 1 indicates less than 50% Black students or overall students tested, and a 2 indicates greater than 50% of both.</p>
<p>Remember that because we intend to test all of the possible combinations of factor levels, we need to write the formula like: <code>outcome ~ factor1 * factor2 * factor3</code>.</p>
<div class="sourceCode" id="cb2544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2544-1"><a href="experimental-design.html#cb2544-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create nyc_scores_factorial and examine the results</span></span>
<span id="cb2544-2"><a href="experimental-design.html#cb2544-2" aria-hidden="true" tabindex="-1"></a>nyc_scores_factorial <span class="ot">&lt;-</span> <span class="fu">aov</span>(Average_Score_SAT_Math <span class="sc">~</span> Percent_Tested_HL <span class="sc">*</span> Percent_Black_HL <span class="sc">*</span> Tutoring_Program, <span class="at">data =</span> nyc_scores)</span>
<span id="cb2544-3"><a href="experimental-design.html#cb2544-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2544-4"><a href="experimental-design.html#cb2544-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(nyc_scores_factorial)</span></code></pre></div>
<pre><code>## # A tibble: 8 × 6
##   term                                      df  sumsq meansq statistic   p.value
##   &lt;chr&gt;                                  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Percent_Tested_HL                          1 3.89e5 3.89e5    129.    2.91e-26
## 2 Percent_Black_HL                           1 1.78e5 1.78e5     58.8   1.20e-13
## 3 Tutoring_Program                           1 5.20e3 5.20e3      1.72  1.90e- 1
## 4 Percent_Tested_HL:Percent_Black_HL         1 1.02e5 1.02e5     33.7   1.23e- 8
## 5 Percent_Tested_HL:Tutoring_Program         1 4.33e3 4.33e3      1.43  2.32e- 1
## 6 Percent_Black_HL:Tutoring_Program          1 6.30e3 6.30e3      2.08  1.50e- 1
## 7 Percent_Tested_HL:Percent_Black_HL:Tu…     1 6.20e3 6.20e3      2.05  1.53e- 1
## 8 Residuals                                427 1.29e6 3.02e3     NA    NA</code></pre>
<p>We can see from the results that we can not reject the null hypothesis that there is no difference in score based on tutoring program availability.</p>
<p>We can also see from the low p-values that there are some interaction effects between the Percent Black and Percent Tested and the tutoring program. Next we need to check the model.</p>
</div>
<div id="evaluating-the-factorial-model" class="section level4 hasAnchor" number="18.4.3.3">
<h4><span class="header-section-number">18.4.3.3</span> Evaluating the Factorial Model<a href="experimental-design.html#evaluating-the-factorial-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We need to examine both if our outcome and our model residuals are normally distributed. We’ll check the normality assumption using <code>shapiro.test()</code>.</p>
<p>A low p-value means we can reject the null hypothesis that the sample came from a normally distributed population.</p>
<p>Test the outcome <code>Average_Score_SAT_Math</code> from <code>nyc_scores</code> for normality using <code>shapiro.test()</code>.</p>
<div class="sourceCode" id="cb2546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2546-1"><a href="experimental-design.html#cb2546-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use shapiro.test() to test the outcome</span></span>
<span id="cb2546-2"><a href="experimental-design.html#cb2546-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(nyc_scores<span class="sc">$</span>Average_Score_SAT_Math)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  nyc_scores$Average_Score_SAT_Math
## W = 0.8, p-value &lt;0.0000000000000002</code></pre>
<div class="sourceCode" id="cb2548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2548-1"><a href="experimental-design.html#cb2548-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot nyc_scores_factorial to examine residuals</span></span>
<span id="cb2548-2"><a href="experimental-design.html#cb2548-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb2548-3"><a href="experimental-design.html#cb2548-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(nyc_scores_factorial)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-970-1.png" width="672" /></p>
<p>The model appears to be fairly well fit, though our evidence indicates the score may not be from a normally distributed population. Looking at the Q-Q plot, we can see that towards the higher end, the points are not on the line.</p>
</div>
</div>
<div id="other-experimental-designs" class="section level3 hasAnchor" number="18.4.4">
<h3><span class="header-section-number">18.4.4</span> Other experimental designs<a href="experimental-design.html#other-experimental-designs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Other factorial designs (besides 2^k)</p>
<ul>
<li>including fractional factorial designs</li>
</ul></li>
<li><p>Experiments with random factors</p></li>
<li><p>Nested designs</p></li>
<li><p>Split plot designs</p></li>
<li><p>Lattice designs</p></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hypothesis-testing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="supervised-learning-classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/18-Experimental-Design-in-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
